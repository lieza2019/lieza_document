% Use only LaTeX2e, calling the article.cls class and 12-point type.

\documentclass[12pt]{article}

% Users of the {thebibliography} environment or BibTeX should use the
% scicite.sty package, downloadable from *Science* at
% www.sciencemag.org/about/authors/prep/TeX_help/ .
% This package should properly format in-text
% reference calls and reference-list numbers.

\usepackage{scicite}

% Use times if you have the font installed; otherwise, comment out the
% following line.

\usepackage{times}

% The preamble here sets up a lot of new/revised commands and
% environments.  It's annoying, but please do *not* try to strip these
% out into a separate .sty file (which could lead to the loss of some
% information when we convert the file to other formats).  Instead, keep
% them in the preamble of your main LaTeX source file.

\usepackage{amsmath, amssymb}
\usepackage{graphicx, tabularx, graphicx, moreverb}
\usepackage{mathrsfs}
\usepackage{theorem}
\usepackage{comment}
\newtheorem{Definition}{Definition}[section]
\newtheorem{Property}{Property}[section]
\newtheorem{Corollary}{Corollary}[section]
\newtheorem{Lemma}{Lemma}[section]
\newtheorem{Claim}{Claim}[section]
\newtheorem{Proof}{Proof.}
\renewcommand{\theProof}{}

\usepackage{bussproofs}

\DeclareMathAlphabet{\mathpzc}{OT1}{pzc}{m}{it}


% The following parameters seem to provide a reasonable page setup.

\topmargin 0.0cm
\oddsidemargin 0.2cm
\textwidth 16cm 
\textheight 21cm
\footskip 1.0cm


%The next command sets up an environment for the abstract to your paper.

\newenvironment{sciabstract}{%
\begin{quote} \bf}
{\end{quote}}


% If your reference list includes text notes as well as references,
% include the following line; otherwise, comment it out.

\renewcommand\refname{References and Notes}

% The following lines set up an environment for the last note in the
% reference list, which commonly includes acknowledgments of funding,
% help, etc.  It's intended for users of BibTeX or the {thebibliography}
% environment.  Users who are hand-coding their references at the end
% using a list environment such as {enumerate} can simply add another
% item at the end, and it will be numbered automatically.

\newcounter{lastnote}
\newenvironment{scilastnote}{%
\setcounter{lastnote}{\value{enumiv}}%
\addtocounter{lastnote}{+1}%
\begin{list}%
{\arabic{lastnote}.}
{\setlength{\leftmargin}{.22in}}
{\setlength{\labelsep}{.5em}}}
{\end{list}}


% Include your paper's title here

\title{A Typed language for Interlocking Logic Programming} 


% Place the author information here.  Please hand-code the contact
% information and notecalls; do *not* use \footnote commands.  Let the
% author contact information appear immediately below the author names
% as shown.  We would also prefer that you don't change the type-size
% settings shown here.

\author
{A. Goto,$^{1\ast}$ K. Sakari,$^{1}$ R. Matsuda$^{1}$\\
\\
\normalsize{$^{1}$THE NIPPON SIGNAL CO., LTD. Tokyo Japan}\\
\normalsize{$^\ast$To whom correspondence should be addressed;
  E-mail: goto-akr@signal.co.jp.}
}

% Include the date command, but leave its argument blank.

\date{}



%%%%%%%%%%%%%%%%% END OF PREAMBLE %%%%%%%%%%%%%%%%



\begin{document} 

% Double-space the manuscript.

\baselineskip24pt

% Make the title.

\maketitle 



% Place your abstract within the special {sciabstract} environment.

\begin{sciabstract}
  Recently progressive Artificial Inteligence technology brings drastically
  distribution to many of industorial fields including railway and
  signalling engineering. This paper proposes one of the way to
  make use the type theory based A.I. technology on railway signalling
  engineering domain.
\end{sciabstract}



% In setting up this template for *Science* papers, we've used both
% the \section* command and the \paragraph* command for topical
% divisions.  Which you use will of course depend on the type of paper
% you're writing.  Review Articles tend to have displayed headings, for
% which \section* is more appropriate; Research Articles, when they have
% formal topical divisions at all, tend to signal them with bold text
% that runs into the paragraph, for which \paragraph* is the right
% choice.  Either way, use the asterisk (*) modifier, as shown, to
% suppress numbering.

\section*{Motivation}

Interlocking equipment acts as the vital role of train traffic safety. And
its internal logic is ordinary described in the form of ``wired logic
notation'', for the fact that interlocking equipment is constructed of
relays.
Nowadays we have developped electronic ones, called as electronic
interlocking equipment, which consists of electronic components including
microcomputers, and its interlocking logic is implemented in computer
program instead.
However electronic interlocking equipment isn't seem to be well accepted in
railway enginerring domain. In fact most of railway signaling engineers
aren't still used to make use microcomputer based programming to implement
interlocking logic.
In a sense, it's adequate way to use ordinary wired logic notation to
implement interlocking logic on electronic interlocking equipment,
accounting on the fact that the engineers have plenty experience in design
of traditional relay-based interlocking equipment.

This research tries to find the methods to obtain modern environment
for designing, manufacturing and debugging in interlocking
equipment development process, and increase our productivity.


\section*{Introduction}
In this paper, we suggest the type theory based matching system on
interlocking logic structures. Our matching system bringns a capability of
pattern recongnition on interlocking logic structures, which encourges us to
realize automated verification its logical consistency and correctness.


\section*{Basic Logic}
In this section, we present our basic logic. As the first step, we define
the terms and typing rules on our typing system.

\begin{Definition}[Terms]
  We define the Terms $t$ range over $\mathbb{T}$ as follow.
  \[ t \;\stackrel{\mathrm{def}}{:=}\!
      \begin{array}[t]{l}
             t_0 \ \text{\it s.t.}\; (t_0, \mathcal{R}_0) \!\in\!
              \Gamma_{gnd}\ |\ 
             t_1 \ \text{\it s.t.}\; (t_1, \mathcal{R}_1) \!\in\!
              \Gamma_{def}\ |\
             t_1 \wedge t_2
        \ |\ t_1 \vee t_2 \ |  \\
        \{\} \ |\ \{t_1 \cdots t_n \}
        \ |\ [t_1 \cdots t_n ]
        \ |\ \langle t_1 \cdots t_n \rangle \ |\
        \circ \ |\  {t_1}^? \ |\ {t_1}^{\leftarrow} \ |\
        \ {t_1}^{\rightarrow} 
      \end{array}
  \]
\end{Definition}

We sometime call the terms $t \in \mathbb{T}$ defined above as canonical
terms in certain situation.


\begin{Definition}[Grand terms]
  We define the set of grand terms of a given term $t \in \mathbb{T}$ as
  follows.
  \begin{displaymath}
    \mathpzc{gnd}(t) := \left\{\begin{array}{l}
      \{t_0\} \quad \text{\it if}\ t = t_0\
       \text{\it s.t.}\ (t_0,\mathcal{R}_0) \in \Gamma_{gnd}  \\
      \{t_1\} \quad \text{\it if}\ t = t_1\
       \text{\it s.t.}\ (t_1,\mathcal{R}_1) \in \Gamma_{def}  \\
      \mathpzc{gnd}(t_1) \cup \mathpzc{gnd}(t_2) \quad \text{\it if}\ t = t_1
       \wedge t_2\ \text{\it or}\ t_1 \vee t_2  \\
      \bigl\{ \{\} \bigr\} \quad \text{\it if}\ t = \{\}  \\
       \bigcup_{j=1}^{n}\mathpzc{gnd}(t_j) \quad \text{\it if}\
      t = \{t_1 \cdots t_n\}\ \text{\it or}\ [t_1 \cdots t_n]\ \text{\it or}\
       \langle t_1 \cdots t_n \rangle\ \text{\it s.t.}\ n \ge 1  \\
      \{\circ\} \quad \text{\it if}\ t = \circ  \\
       \mathpzc{gnd}(t_1) \quad \text{\it if}\ t = t_1^?\ \text{\it or}\
      t = t_1^{\leftarrow}\ \text{\it or}\ t = t_1^{\rightarrow}
    \end{array}\right.
  \end{displaymath}
\end{Definition}


\begin{Definition}[Subterms]
  We define the set of subterms of a given term $t \in \mathbb{T}$ as
  follows.
  \begin{displaymath}
    \begin{array}{lll}
      \mathpzc{sub}(t) &:=
      & \left\{ \begin{array}{ll}
          \{t \}  &
           \text{\it if}\;
            \left\{ \! \begin{array}{l}
              t = t_0\ \text{\it s,t.}\
               (t_0, \mathcal{R}_0) \in \Gamma_{gnd}  \\
              t = t_1\ \text{\it s.t.}\
               (t_1, \mathcal{R}_1) \in \Gamma_{def}  \\
              t = \{\}  \\
              t = \circ
            \end{array} \right.  \\
          \{t \} \cup \bigl(\mathpzc{sub}(t_1) \cup \mathpzc{sub}(t_2)
           \bigr)  &
           \text{\it if}\;\; t = t_1 \wedge t_2,\ t_1 \vee t_2  \\
          \{t \} \cup \bigl(\bigcup^{n}_{j=1} \mathpzc{sub}(t_j) \bigr)  &
           \text{\it if}\;\; t = \{t_1 \cdots t_n \},
            \ [t_1 \cdots t_n ], \ \langle t_1 \cdots t_n \rangle  \\
          \{{t_1}^? \} \cup \mathpzc{sub}(t_1)  &
           \text{\it if}\;\; t = {t_1}^?  \\
          \{{t_1}^\leftarrow \} \cup \mathpzc{sub}(t_1)  &
           \text{\it if}\;\; t = {t_1}^\leftarrow \\
          \{{t_1}^\rightarrow \} \cup \mathpzc{sub}(t_1)  &
           \text{\it if}\;\; t = {t_1}^\rightarrow
        \end{array} \right.
    \end{array}
  \end{displaymath}
\end{Definition}


\begin{Corollary}
  \label{self_similarity_on_subterms}
  \[ \mathpzc{sub}(t') \subseteq \mathpzc{sub}(t),\ \text{\it for any}\
      t' \in \mathpzc{sub}(t)
  \]
  \begin{Proof}
    Proof is simple induction on sturcture of $t$.
    Here we show the proof only for the most significant case.
    
    Case $\{t_1, \cdots t_n\}$:
    We suppose $\mathpzc{sub}\bigl(\{t_1, \cdots t_n\} \bigr) =
    \bigl\{\{t_1, \cdots t_n\} \bigr\} \cup
    \bigl(\bigcup_{j=1}^n \mathpzc{sub}(t_j) \bigr)$ from def. of
    $\mathpzc{sub}$. For the case of $t'$ comming from
    $\mathpzc{sub}(t_j)$, e.g. $t' \in \mathpzc{sub}(t_j) \subseteq
    \mathpzc{sub}\bigl(\{t_1, \cdots t_n\} \bigr)$, we say
    $\mathpzc{sub}(t') \subseteq \mathpzc{sub}(t_j)$ from
    induction hypothesis.
    $\Box$
  \end{Proof}
\end{Corollary}


\begin{Definition}[Types]
  We define the Types $\mathcal{R}$ range over $\mathbb{R}$ as follow.
  \[ \mathcal{R} \;\stackrel{\mathrm{def}}{:=}\!
  \begin{array}[t]{l}
    \mathcal{R}_0 \ \text{\it s.t.}\; (t_0, \mathcal{R}_0) \!\in\!
     \Gamma_{gnd}\ |\ 
    \mathcal{R}_1\ \text{\it s.t.}\; (t_1, \mathcal{R}_1) \!\in\!
     \Gamma_{def}\ |\
    \mathcal{R}_1 \wedge \mathcal{R}_2 \ |\
     \mathcal{R}_1 \vee \mathcal{R}_2 \ |  \\
    {\mathcal{R}_1}^* \ |\ {\mathcal{R}_1}^+ \ |\
    {\mathcal{R}_1}^\downarrow \ |\ {\mathcal{R}_1}^? \ |\
    (\mathcal{R}_1 | \mathcal{R}_2)
  \end{array}
  \]
\end{Definition}


\begin{Definition}[Binding]
  We define a set of pairs of $(t, \mathcal{R})$ where
  $t \in \mathbb{T}$ and $\mathcal{R} \in \mathbb{R}$, e.g.
  $\bigl\{(t, \mathcal{R}) \ |\ t \in \mathbb{T},\
  \mathcal{R} \in \mathbb{R} \bigr\}$, as Binding ranging over $\Gamma$.
\end{Definition}


\begin{Definition}[Binding domain]
  We define a set of terms $t$ comming from $\Gamma$ s.t.
  $\bigl\{ t \ |\ (t, \mathcal{R}) \in \Gamma \bigr\}$, as
  $\mathpzc{Dom}(\Gamma)$, e.g.
  \[ \mathpzc{Dom}(\Gamma) \,\stackrel{\mathrm{def}}{:=}\,
      \bigl\{ t \ |\ (t, \mathcal{R}) \in \Gamma \bigr\}
  \]
\end{Definition}


We easily find some properties on $\mathpzc{Dom}(\Gamma)$ as follows.


\begin{Corollary} \label{dom_bin_join}
  \[ \mathpzc{Dom}(\Gamma_1 \cup \Gamma_2) =
      \mathpzc{Dom}(\Gamma_1) \cup \mathpzc{Dom}(\Gamma_2)
  \]
  \begin{Proof}
    Proof is dirctrly from def. of $\mathpzc{Dom}$.
    
    $\mathpzc{Dom}(\Gamma_1 \cup \Gamma_2) \subseteq
    \mathpzc{Dom}(\Gamma_1) \cup \mathpzc{Dom}(\Gamma_2)$:
    From def. of $\mathpzc{Dom}$, we suppose that
    $t \in \mathpzc{Dom}(\Gamma_1 \cup \Gamma_2) =
    \bigl\{t' \ |\ (t', \mathcal{R}') \in (\Gamma_1 \cup \Gamma_2)
    \bigr\}$, then $t$ is $t'_1$ s.t. $(t'_1, \mathcal{R}'_1) \in \Gamma_1$
    or $t'_2$ s.t. $(t'_2, \mathcal{R}'_2) \in \Gamma_2$, which means
    $t \in \mathpzc{Dom}(\Gamma_1)$ or $t \in \mathpzc{Dom}(\Gamma_2)$ from
    def. of $\mathpzc{Dom}$. Hence
    $t \in \bigl(\mathpzc{Dom}(\Gamma_1) \cup \mathpzc{Dom}(\Gamma_2) \bigr)$.
    
    $\mathpzc{Dom}(\Gamma_1 \cup \Gamma_2) \supseteq
    \mathpzc{Dom}(\Gamma_1) \cup \mathpzc{Dom}(\Gamma_2)$:
    Now we suppose $t \in \bigl(\mathpzc{Dom}(\Gamma_1) \cup
    \mathpzc{Dom}(\Gamma_2) \bigr)$. Then from def. of $\mathpzc{Dom}$,
    $t$ belongs to $\Bigl(\bigl\{ t'_1 \ |\ (t'_1, \mathcal{R}'_1) \!\in\!
    \Gamma_1 \bigr\} \cup \bigl\{ t'_2 \ |\ (t'_2, \mathcal{R}'_2) \!\in\!
    \Gamma_2 \bigr\} \Bigr)$, which implies that
    $t$ is in $\bigl\{ t'_1 \ |\ (t'_1, \mathcal{R}'_1) \in \Gamma_1 \bigr\}$
    or $\bigl\{ t'_2 \ |\ (t'_2, \mathcal{R}'_2) \in \Gamma_2 \bigr\}$.
    Here we assume $t \in \bigl\{ t'_1 \ |\ (t'_1, \mathcal{R}'_1) \in
    \Gamma_1 \bigr\} \subseteq \bigl\{ t'' \ |\ (t'', \mathcal{R}'') \in
    (\Gamma_1 \cup \Gamma_2) \bigr\} = \mathpzc{Dom}(\Gamma_1 \cup
    \Gamma_2)$, and the counterpart case is also. Hence
    we can conclude that $t$ is also in
    $\bigl\{ t' \ |\ (t', \mathcal{R}') \in (\Gamma_1 \cup \Gamma_2)
    \bigr\} = \mathpzc{Dom}(\Gamma_1 \cup \Gamma_2)$, from def. of
    $\mathpzc{Dom}$.
    $\Box$
  \end{Proof}
\end{Corollary}


\begin{Corollary} \label{dom_mul_join}
  \[ \mathpzc{Dom}\Biggl(\bigcup_{j=1}^{n} \Gamma_j \Biggr) =
      \bigcup_{j=1}^{n} \mathpzc{Dom}(\Gamma_j)
  \]
  \begin{Proof}
    Proof is induction on $n$, as num. of
    $\, \Gamma_j$ s.t. $\mathpzc{Dom}(\Gamma_j)$.
    
    B.C.): $n = 1$: Trivial.
    $n = 2$: From corollary \ref{dom_bin_join},
    $\mathpzc{Dom}(\Gamma_1 \cup \Gamma_2) = \mathpzc{Dom}(\Gamma_1) \cup
    \mathpzc{Dom}(\Gamma_2)$.
    
    I.S.): $n \ge 3$: $\mathpzc{Dom}\bigl(\bigcup_{j=1}^{n} \Gamma_j \bigr)
    = \mathpzc{Dom}\bigl(\Gamma_1 \cup \bigcup_{j=2}^{n} \Gamma_j \bigr) =
    \mathpzc{Dom}(\Gamma_1) \cup \mathpzc{Dom}\bigl(
    \bigcup_{j=2}^{n} \Gamma_j \bigr)$, from corollary \ref{dom_bin_join}.
    Consequently we find that $\mathpzc{Dom}(\Gamma_1) \cup
    \mathpzc{Dom}\bigl(\bigcup_{j=2}^{n} \Gamma_j \bigr) =
    \mathpzc{Dom}(\Gamma_1) \cup \bigl(\bigcup_{j=2}^{n}
    \mathpzc{Dom}(\Gamma_j) \bigr)$, by induction hypothesis. Hence
    $\mathpzc{Dom}\bigl(\bigcup_{j=1}^{n} \Gamma_j) =
    \mathpzc{Dom}(\Gamma_1) \cup
    \bigl(\bigcup_{j=2}^{n} \mathpzc{Dom}(\Gamma_j) \bigr) =
    \bigcup_{j=1}^{n} \mathpzc{Dom}(\Gamma_j)$.
    $\Box$
  \end{Proof}
\end{Corollary}


\pagebreak
\begin{Definition}[Typing rules on pure canonical terms]
  We define the typing rules on canonical terms as follow.
  Here canonical term $t$ ranges over $\mathbb{T}$, and type $\mathcal{R}$
  does over $\mathbb{R}$.
  
  \begin{displaymath}
    \begin{array}{c}
      
      \begin{array}{rl}
        \begin{array}{rl}
          \dfrac{
            (t_0, \mathcal{R}_0) \!\in\! \Gamma_{gnd}
          }{
            \bigl\{(t_0, \mathcal{R}_0) \bigr\} \vdash t_0 : \mathcal{R}_0
          }  &  \!\! \text{\it (T-Atom0-canon)}
        \end{array}
        
        & \begin{array}{rl}
            \dfrac{
              (t_1, \mathcal{R}_1) \!\in\! \Gamma_{def}
            }{
              \bigl\{(t_1, \mathcal{R}_1) \bigr\} \vdash t_1 : \mathcal{R}_1
            }  &  \!\! \text{\it (T-Atom1-canon)}
          \end{array}
      \end{array}  \\
      \\
      
      \begin{array}{rl}
        \dfrac{
          \begin{array}{c}
            \Gamma_1 \vdash t_1 : \mathcal{R}_1
             \quad \Gamma_2 \vdash t_2 : \mathcal{R}_2
              \quad \mathpzc{Dom}(\Gamma_1) \cap \mathpzc{Dom}(\Gamma_2)
              = \phi  \\
              t_1 \wedge t_2 \not\in \bigl(\mathpzc{Dom}(\Gamma_1) \cup
               \mathpzc{Dom}(\Gamma_2) \bigr)
          \end{array}
        }{
          \bigl\{(t_1 \wedge t_2, \mathcal{R}_1 \wedge \mathcal{R}_2)
           \bigr\} \cup (\Gamma_1 \cup \Gamma_2) \vdash
            t_1 \wedge t_2 : \mathcal{R}_1 \wedge \mathcal{R}_2
        }  &  \text{\it (T-Cas-canon)}  \\
        \\
        
        \dfrac{
          \begin{array}{c}
            \Gamma_1 \vdash t_1 : \mathcal{R}_1
             \quad \Gamma_2 \vdash t_2 : \mathcal{R}_2
              \quad \mathpzc{Dom}(\Gamma_1) \cap \mathpzc{Dom}(\Gamma_2)
               = \phi  \\
            t_1 \vee t_2 \not\in \bigl(\mathpzc{Dom}(\Gamma_1) \cup
             \mathpzc{Dom}(\Gamma_2) \bigr)
          \end{array}
        }{
          \bigl\{(t_1 \vee t_2, \mathcal{R}_1 \vee \mathcal{R}_2) \bigr\}
           \cup (\Gamma_1 \cup \Gamma_2) \vdash
            t_1 \vee t_2 : \mathcal{R}_1 \vee \mathcal{R}_2
        }  &  \text{\it (T-Par-canon)}
      \end{array}  \\
      \\
      
      \begin{array}{rl}
        \left. \begin{array}{rl}
          \dfrac{
            \mathcal{R}_1\,\text{\it is}\, \text{\it Any}
          }{
            \Bigl\{\bigl(\{\}, {\mathcal{R}_1}^* \bigr) \Bigr\} \vdash
             \{\}: {\mathcal{R}_1}^*
          }  &  (\text{\it nil}\,)  \\
          \\
          \dfrac{
            \begin{array}{c}
              \Gamma_1 \vdash t_1 : \mathcal{R}_1 \,\cdots\,
               \Gamma_n \vdash t_n : \mathcal{R}_1,\
                \text{\it where}\ n \ge 1  \\
              \mathpzc{Dom}(\Gamma_j) \!\cap\! \mathpzc{Dom}(\Gamma_k) \!=\!
               \phi \ \text{\it s.t.}\; j \!\neq\! k
              \quad \{t_1 \cdots t_n \} \not\in
               \bigcup_{j=1}^{n}\mathpzc{Dom}(\Gamma_j)
            \end{array}
          }{
            \Bigl\{\bigl(\{t_1 \cdots t_n \}, {\mathcal{R}_1}^* \bigr)
             \Bigr\} \cup {\displaystyle \bigcup_{j = 1}^{n}} \Gamma_j
              \vdash \{t_1 \cdots t_n \} : {\mathcal{R}_1}^*
          }  &  (\infty)
        \end{array} \right\}  &  \text{\it (T-Cat0-canon)}
      \end{array}  \\
      \\
      
      \begin{array}{rl}
        \dfrac{
          \begin{array}{c}
            \Gamma_1 \vdash t_1 : \mathcal{R}_1 \,\cdots\,
             \Gamma_n \vdash t_n : \mathcal{R}_1,\
              \text{\it where}\ n \ge 1 \\
            \mathpzc{Dom}(\Gamma_j) \cap \mathpzc{Dom}(\Gamma_k) = \phi
             \ \text{\it s.t.}\; j \!\neq\! k
            \quad [t_1 \cdots t_n ] \not\in \bigcup_{j=1}^{n}
             \mathpzc{Dom}(\Gamma_j)
          \end{array}
        }{
          \Bigl\{\bigl([t_1 \cdots t_n], {\mathcal{R}_1}^+ \bigr) \Bigr\}
           \cup {\displaystyle \bigcup_{j = 1}^{n}} \Gamma_j
            \vdash [t_1 \cdots t_n] : {\mathcal{R}_1}^+
        }  &  \text{\it (T-Cat1-canon)}
      \end{array}  \\
      \\
      
      \begin{array}{rl}
        \dfrac{
          \begin{array}{c}
            \Gamma_1 \vdash t_1 : \mathcal{R}_1 \,\cdots\,
             \Gamma_n \vdash t_n : \mathcal{R}_1\
              \text{\it where}\ n \ge 1 \\
            \mathpzc{Dom}(\Gamma_j) \cap \mathpzc{Dom}(\Gamma_k) = \phi
             \ \text{\it s.t.}\; j \!\neq\! k
            \quad \langle t_1 \cdots t_n \rangle \not\in \bigcup_{j=1}^{n}
             \mathpzc{Dom}(\Gamma_j)
          \end{array}
        }{
          \Bigl\{\bigl(\langle t_1 \cdots t_n \rangle,
          {\mathcal{R}_1}^\downarrow \bigr) \Bigr\}
          \cup {\displaystyle \bigcup_{j = 1}^{n}} \Gamma_j \vdash
          \langle t_1 \cdots t_n \rangle : {\mathcal{R}_1}^\downarrow
        }  &  \text{\it (T-Dup-canon)}
      \end{array}  \\
      
    \end{array}
  \end{displaymath}
  
  \begin{displaymath}
    \begin{array}{c}
      
      \begin{array}{rl}
        \left. \begin{array}{rl}
          \dfrac{
            \mathcal{R}_1 \,\text{\it is}\, \text{\it Any}
          }{
            \bigl\{(\circ, {\mathcal{R}_1}^? ) \bigr\} \vdash
            \circ : {\mathcal{R}_1}^?
          }  &  (\text{\it nil}\,)  \\
          \\
          \dfrac{
            \Gamma_1 \vdash t_1 : \mathcal{R}_1
            \quad {t_1}^? \not\in \mathpzc{Dom}(\Gamma_1)
          }{
            \bigl\{({t_1}^?, {\mathcal{R}_1}^?) \bigr\} \cup \Gamma_1 \vdash
                   {t_1}^? : {\mathcal{R}_1}^?
          }  &  (\text{\it sol}\,)
        \end{array} \right\}  &  \text{\it (T-Opt-canon)}
      \end{array}  \\
      
      \\
      \begin{array}{rl}
        \left. \begin{array}{rl}
          \dfrac{
            \Gamma_1 \vdash t_1 : \mathcal{R}_1
            \quad \mathcal{R}_2 \,\text{\it is}\, \text{\it Any}
            \quad {t_1}^{\leftarrow} \not\in \mathpzc{Dom}(\Gamma_1)
          }{
            \bigl\{({t_1}^\leftarrow, \mathcal{R}_1 | \mathcal{R}_2)
             \bigr\} \cup \Gamma_1 \vdash {t_1}^\leftarrow :
              \mathcal{R}_1 | \mathcal{R}_2
          }  &  (\text{\it L}\,)  \\
          \\
          \dfrac{
            \mathcal{R}_1 \,\text{\it is}\, \text{\it Any}
            \quad \Gamma_1 \vdash t_1 : \mathcal{R}_2
            \quad {t_1}^{\rightarrow} \not\in \mathpzc{Dom}(\Gamma_1)
          }{
            \bigl\{({t_1}^{\rightarrow}, \mathcal{R}_1 | \mathcal{R}_2)
             \bigr\} \cup \Gamma_1 \vdash {t_1}^\rightarrow :
              \mathcal{R}_1 | \mathcal{R}_2
          }  &  (\text{\it R}\,)
        \end{array} \right\}  &  \text{\it (T-Alt-canon)}
      \end{array}  
    \end{array}
  \end{displaymath}  
\end{Definition}


\begin{Property}
  \label{dom_of_Gamma}
  \[ \text{\it if}\ \Gamma \vdash t : \mathcal{R},\ \text{\it then}\
      \mathpzc{Dom}(\Gamma) = \mathpzc{sub}(t).
  \]
  \begin{Proof}
    Proof is simple induction on structure of $t$ s.t.
    $\Gamma \vdash t : \mathcal{R}$.
    Here we show the proof only for the most significant case.
    
    Case (T-Cat0-canon-$\infty$): From def. of (T-Cat0-canon-$\infty$),
    we let
    $\Gamma = \Bigl\{\bigl(\{t_1 \cdots t_n \}, {\mathcal{R}_1}^* \bigr)
    \Bigr\} \cup \bigcup_{j = 1}^{n} \Gamma_j$. And from
    the facts of $\Gamma_1 \vdash t_1 : \mathcal{R}_1 \cdots
    \Gamma_n \vdash t_n : \mathcal{R}_1$ comming from def. of
    (T-Cat0-canon-$\infty$), we can find that
    $\mathpzc{Dom}(\Gamma_1) = \mathpzc{sub}(t_1) \cdots
    \mathpzc{Dom}(\Gamma_n) = \mathpzc{sub}(t_n)$ by I.H.
    Accounting on the fact of
    $\mathpzc{Dom}(\Gamma_1) \cup \cdots \cup \mathpzc{Dom}(\Gamma_n) =
    \bigcup_{j=1}^n \mathpzc{Dom}(\Gamma_j)$, we can express it as
    $\bigcup_{j=1}^n \mathpzc{Dom}(\Gamma_j) = \mathpzc{sub}(t_1)
    \cup \cdots \cup \mathpzc{sub}(t_n)$. By now we can show that
    $\mathpzc{Dom}(\Gamma) = \mathpzc{Dom}\biggl(\Bigl\{\bigl(
    \{t_1 \cdots t_n \}, {\mathcal{R}_1}^* \bigr) \Bigr\} \cup
    \bigcup_{j = 1}^{n} \Gamma_j \biggr) =
    \mathpzc{Dom}\biggl(\Bigl\{\bigl(\{t_1 \cdots t_n \}, {\mathcal{R}_1}^*
    \bigr) \Bigr\} \biggr) \cup
    \mathpzc{Dom}\bigl(\bigcup_{j = 1}^{n} \Gamma_j \bigr) =
    \bigl\{\{t_1 \cdots t_n \} \bigr\} \cup  \bigcup_{j = 1}^{n}
    \mathpzc{Dom}(\Gamma_j) = \bigl\{\{t_1 \cdots t_n \} \bigr\}
    \cup \bigl(\mathpzc{sub}(t_1) \cup \cdots \cup \mathpzc{sub}(t_n)
    \bigr) = \mathpzc{sub}\bigl(\{t_1 \cdots t_n\} \bigr)$ as desired,
    from def. of $\mathpzc{Dom}(\Gamma)$ and
    $\mathpzc{sub}\bigl(\{t_1 \cdots t_n\} \bigr)$.
    $\Box$
  \end{Proof}
\end{Property}


\begin{Definition}[Size of terms]
  We define size of a given term $t \in \mathbb{T}$ as follow.
  \begin{displaymath}
    \begin{array}{lll}
      \mathpzc{size}(t) &:=
      & \left\{ \begin{array}{ll}
          1  & \text{\it if}\;
                \left\{ \! \begin{array}{l}
                  t = t_0\ \text{\it s,t.}\
                   (t_0, \mathcal{R}_0) \in \Gamma_{gnd}  \\
                  t = t_1\ \text{\it s.t.}\
                   (t_1, \mathcal{R}_1) \in \Gamma_{def}  \\
                  t = \{\}  \\
                  t = \circ
                \end{array} \right.  \\
          \bigl(\mathpzc{size}(t_1) + \mathpzc{size}(t_2) \bigr) + 1  &
           \text{\it if}\;\; t = t_1 \wedge t_2,\ t_1 \vee t_2  \\
          \bigl(\sum_{j=1}^{n} \mathpzc{size}(t_j) \bigr) + 1  &
           \text{\it if}\;\; t = \{t_1 \cdots t_n \},
            \ [t_1 \cdots t_n ], \ \langle t_1 \cdots t_n \rangle  \\
          \mathpzc{size}(t_1) + 1  &
           \text{\it if}\; \left\{ \! \begin{array}{l}
             t = {t_1}^?  \\
             t = {t_1}^\leftarrow \\
             t = {t_1}^\rightarrow
           \end{array} \right.
        \end{array} \right.
    \end{array}
  \end{displaymath}
\end{Definition}


\begin{Property}
  \label{termsize_constraint_on_Gamma}
  \[ \text{\it if}\ \Gamma \vdash t : \mathcal{R}, \text{\it then}\
      \mathpzc{size}(t) \ge \mathpzc{size}(t')\ \text{\it s.t.}\
       t' \in \mathpzc{Dom}(\Gamma)
  \]
  \begin{Proof}
    Proof is directly from def. of size of terms, with property
    \ref{dom_of_Gamma}.
    $\Box$
  \end{Proof}
\end{Property}


In above section, we develop


\pagebreak
\begin{Definition}[Intuitionistic equivalence over canonical terms]
  \label{equality_on_CANONICALS}
  We define the set of intuitionistic equivalence terms of $t$ as follow.
  We write $t \simeq t'$ if $t$ is intuitionistic equivalent to $t'$.
  
  \begin{displaymath}
    \begin{array}{c}
      
      \begin{array}{rll}
        \begin{array}{rl}
          \dfrac{
            \dfrac{}{
              t \equiv t'
            }
          }{
            t \simeq t'
          }  &  (\text{\it Identity})
        \end{array}
        & \begin{array}{rl}
            \dfrac{
              t \simeq t'\
            }{
              t' \simeq t
            }  &  (\text{\it Symmetry})
          \end{array}  \\
      \end{array}  \\
      \\
      \begin{array}{rl}
        \dfrac{t_1 \simeq t_2 \quad t_2 \simeq t_3}{
          t_1 \simeq t_3
        }  &  (\text{\it Transitivity})
      \end{array}  \\
      \\
      
      \begin{array}{ll}
        \begin{array}{rl}
          \dfrac{t_1 \simeq t'_1 \quad t_2 \simeq t'_2}{
            t_1 \!\wedge\! t_2 \simeq t'_1 \!\wedge\! t'_2
          }  &  (\text{\it Transparency-Cas})
        \end{array}
        
        & \begin{array}{rl}
            \dfrac{t_1 \simeq t'_1 \quad t_2 \simeq t'_2}{
              t_1 \!\vee\! t_2 \simeq t'_1 \!\vee\! t'_2
            }  &  (\text{\it Transparency-Par})
          \end{array}
      \end{array}  \\
      \\

      \begin{array}{ll}
        \begin{array}{rl}
          \dfrac{ t \simeq t_1 \wedge (t_2 \wedge t_3) }{
            t \simeq (t_1 \wedge t_2) \wedge t_3
          }  &  (\text{\it Associativity-Cas}_{\mathpzc{L}})
        \end{array}
        
        & \begin{array}{rl}
            \dfrac{t \simeq (t_1 \wedge t_2) \wedge t_3 }{
              t \simeq  t_1 \wedge (t_2 \wedge t_3)
            }  &  (\text{\it Associativity-Cas}_{\mathpzc{R}})
          \end{array}  \\
      \end{array}  \\
      \\
      
      \begin{array}{ll}
        \begin{array}{rl}
          \dfrac{ t \simeq (t_1 \vee t_2) \vee t_3 }{
            t \simeq t_1 \vee (t_2 \vee t_3)
          }  &  (\text{\it Associativity-Par}_{\mathpzc{L}})
        \end{array}      
        & \begin{array}{rl}
            \dfrac{t \simeq t_1 \vee (t_2 \vee t_3) }{
              t \simeq (t_1 \vee t_2) \vee t_3
            }  &  (\text{\it Associativity-Par}_{\mathpzc{R}})
          \end{array}
      \end{array}  \\
      \\
            
      \begin{array}{ll}
        \begin{array}{rl}
          \dfrac{ t \simeq t' }{ t \simeq \{t'\} }
          & (\text{\it Associativity-Cat0}_1)
        \end{array}
        & \begin{array}[c]{l}
            \begin{array}{rl}
              \dfrac{
                t \simeq t_1 \wedge \{t_2 \cdots t_n \}
              }{
                t \simeq \{t_1, t_2 \cdots t_n \}
              }  &  (\text{\it AssociativityH-Cat0}_\infty)
            \end{array}  \\
            \\
            \begin{array}{rl}
              \dfrac{
                t \simeq \{t_1 \cdots t_n \} \wedge t_{n+1}
              }{
                t \simeq \{t_1 \cdots t_n, t_{n+1} \}
              }  &  (\text{\it AssociativityT-Cat0}_\infty)
            \end{array}
          \end{array}
      \end{array}  \\
      \\
      
      \begin{array}{ll}
        \begin{array}{rl}
          \dfrac{ t \simeq t' }{ t \simeq [t'] }
          & (\text{\it Associativity-Cat1}_1)
        \end{array}
        & \begin{array}[c]{l}
            \begin{array}{rl}
              \dfrac{
                t \simeq t_1 \wedge [t_2 \cdots t_n ]
              }{
                t \simeq [t_1, t_2 \cdots t_n ]
              }  &  (\text{\it AssociativityH-Cat1}_\infty)
            \end{array}  \\
            \\
            \begin{array}{rl}
              \dfrac{
                t \simeq [t_1 \cdots t_n ] \wedge t_{n+1}
              }{
                t \simeq [t_1 \cdots t_n, t_{n+1} ]
              }  &  (\text{\it AssociativityT-Cat1}_\infty)
            \end{array}
          \end{array}
      \end{array}  \\
      \\

      \begin{array}{ll}
        \begin{array}{rl}
          \dfrac{ t \simeq t' }{ t \simeq \langle t' \rangle }
          & (\text{\it Associativity-Dup}_1)
        \end{array}
        & \begin{array}[c]{l}
            \begin{array}{rl}
              \dfrac{
                t \simeq t_1 \vee \langle t_2 \cdots t_n \rangle
              }{
                t \simeq \langle t_1, t_2 \cdots t_n \rangle
              }  &  (\text{\it AssociativityH-Dup}_\infty)
            \end{array}  \\
            \\
            \begin{array}{rl}
              \dfrac{
                t \simeq \langle t_1 \cdots t_n \rangle \vee t_{n+1}
              }{
                t \simeq \langle t_1 \cdots t_n, t_{n+1} \rangle
              }  &  (\text{\it AssociativityT-Dup}_\infty)
            \end{array}
          \end{array}
      \end{array}
            
    \end{array}
  \end{displaymath}
  
  \begin{displaymath}
    \begin{array}{c}
      
      \begin{array}{ll}
        \begin{array}{rl}
          \dfrac{ t \simeq \{\,\} \wedge t' }{
            t \simeq t'
          }  &  (\text{\it RevealH-Cas}_{\{\}})
        \end{array}
        & \begin{array}{rl}
            \dfrac{ t \simeq t' \wedge \{\,\} }{
              t \simeq t'
            }  &  (\text{\it RevealT-Cas}_{\{\}})
          \end{array}
      \end{array}  \\
      \\

      \begin{array}{ll}
        \begin{array}{rl}
          \dfrac{ t \simeq \circ \wedge t' }{
            t \simeq t'
          }  &  (\text{\it RevealH-Cas}_\circ)
        \end{array}
        & \begin{array}{rl}
            \dfrac{ t \simeq t' \wedge \circ }{
              t \simeq t'
            }  &  (\text{\it RevealT-Cas}_\circ)
          \end{array}
      \end{array}  \\
      \\
            
      \begin{array}{ll}
        \begin{array}{rl}
          \dfrac{ t \simeq \{\,\} \vee t' }{
            t \simeq t'
          }  &  (\text{\it RevealH-Par}_{\{\}})
        \end{array}
        & \begin{array}{rl}
            \dfrac{ t \simeq t' \vee \{\,\} }{
              t \simeq t'
            }  &  (\text{\it RevealT-Par}_{\{\}})
          \end{array}
      \end{array}  \\
      \\

      \begin{array}{ll}
        \begin{array}{rl}
          \dfrac{ t \simeq \circ \vee t' }{
            t \simeq t'
          }  &  (\text{\it RevealH-Par}_\circ)
        \end{array}
        & \begin{array}{rl}
            \dfrac{ t \simeq t' \vee \circ }{
              t \simeq t'
            }  &  (\text{\it RevealT-Par}_\circ)
          \end{array}
      \end{array}  \\
      \\
      
      \begin{array}{ll}
        \begin{array}{rl}
          \dfrac{ t \simeq t' }{
            t \simeq \{\,\} \wedge t'
          }  &  (\text{\it PhonyH-Cas}_{\{\}})
        \end{array}
        & \begin{array}{rl}
            \dfrac{ t \simeq t' }{
              t \simeq t' \wedge \{\,\}
            }  &  (\text{\it PhonyT-Cas}_{\{\}})
          \end{array}
      \end{array}  \\
      \\
      
      \begin{array}{ll}
        \begin{array}{rl}
          \dfrac{ t \simeq t' }{
            t \simeq \circ \wedge t'
          }  &  (\text{\it PhonyH-Cas}_\circ)
        \end{array}
        & \begin{array}{rl}
            \dfrac{ t \simeq t' }{
              t \simeq t' \wedge \circ
            }  &  (\text{\it PhonyT-Cas}_\circ)
          \end{array}
      \end{array}  \\
      \\
            
      \begin{array}{ll}
        \begin{array}{rl}
          \dfrac{ t \simeq t' }{
            t \simeq \{\,\} \vee t'
          }  &  (\text{\it PhonyH-Par}_{\{\}})
        \end{array}
        & \begin{array}{rl}
            \dfrac{ t \simeq t' }{
              t \simeq t' \vee \{\,\}
            }  &  (\text{\it PhonyT-Par}_{\{\}})
          \end{array}
      \end{array}  \\
      \\

      \begin{array}{ll}
        \begin{array}{rl}
          \dfrac{ t \simeq t' }{
            t \simeq \circ \vee t'
          }  &  (\text{\it PhonyH-Par}_\circ)
        \end{array}
        & \begin{array}{rl}
            \dfrac{ t \simeq t' }{
              t \simeq t' \vee \circ
            }  &  (\text{\it PhonyT-Par}_\circ)
          \end{array}
      \end{array}  \\
      \\
      
      \begin{array}{rll}
        \begin{array}{rl}
          \dfrac{
            t \simeq t'
          }{
            t \simeq {t'}^?
          }  &  (\text{\it Optional})
        \end{array}

        & \begin{array}{rl}
            \dfrac{
              t \simeq t'
            }{
              t \simeq {t'}^\leftarrow
            }  &  (\text{\it Alt-L})
          \end{array}
        
        & \begin{array}{rl}
            \dfrac{
              t \simeq t'
            }{
              t \simeq {t'}^\rightarrow
            }  &  (\text{\it Alt-R})
          \end{array}
      \end{array}
      
    \end{array}
  \end{displaymath}
\end{Definition}

And we extend the definition of judgement to use equivalent set of each
term.


\pagebreak
\begin{Definition}[Binding pentagram]
  We extend the definition of bindings range over $\Gamma$ we have defined
  above, and we call the extended ones range over $\Delta$  as binding
  pentagram.
  \begin{displaymath}
    \Delta \;\stackrel{\mathrm{def}}{:=}\;
     \bigl\{(t, t_{\text{\it equ}}, \mathcal{R},
      \mathcal{S}_{\mathpzc{fin}}, \Delta') \bigr\} \cup \Delta'
      \begin{array}[t]{l}
        \text{\it s.t.}\ \Delta \!\vdash\! t \triangleright \!\mathcal{R} \\
        \text{\it where}\ \begin{array}[t]{l}
         t \simeq t_{\text{\it equ}}  \\
        \mathcal{S}_{\mathpzc{fin}}\in \{\text{\it gnd},
         \text{\it def}, \wedge, \vee, \text{\it nil}, \text{\it sol},
          \infty, \text{\it L}, \text{\it R}\}
        \end{array}
      \end{array}
  \end{displaymath}
\end{Definition}


\begin{Definition}
  We regard extended bindings $\Delta$ as the mapping of
  $\mathbb{T} \mapsto \bigl\{(t, t_{\text{\it equ}}, \mathcal{R},
  \mathcal{S}_{\mathpzc{fin}}, \Delta') \bigr\}$, as follow.
  \begin{displaymath}
    \Delta(t') \;\stackrel{\mathrm{def}}{:=} \,\left\{\begin{array}{l}
      \bigl\{(t, t_{\text{\it equ}}, \mathcal{R},
       \mathcal{S}_{\mathpzc{fin}}, \Delta') \bigr\} \quad \text{\it if}\
        t' = t  \\
      \Delta'(t') \quad \text{\it if}\ t' \neq t,\ \Delta' \neq \phi  \\
       \phi \quad \text{\it if}\ t' \neq t,\ \Delta' = \phi
    \end{array}\right.
  \end{displaymath}
\end{Definition}


\begin{Definition}[Binding domain extended]
  We define a set of terms $t$ and $t_{\text{\it equ}}$ comming from
  $\Delta$ s.t. $(t, t_{\text{\it equ}}, \mathcal{R},
  \mathcal{S}_{\mathpzc{fin}}, \Delta') \in \Delta$ as
  $\mathpzc{Dom}(\Delta)$, e.g.
  \[ \mathpzc{Dom}(\Delta) \,\stackrel{\mathrm{def}}{:=}\,
  \bigl\{ t \ |\  (t, t_{\text{\it equ}}, \mathcal{R},
  \mathcal{S}_{\mathpzc{fin}}, \Delta') \in \Delta \bigr\}
  \!\begin{array}[t]{l}
    \cup\; \bigl\{t_{\text{\it equ}}  \ |\  (t, t_{\text{\it equ}},
     \mathcal{R},  \text{\it gnd}, \Delta') \in \Delta \bigr\}  \\
    \cup\; \bigl\{t_{\text{\it equ}}  \ |\  (t, t_{\text{\it equ}},
     \mathcal{R},  \text{\it def}, \Delta') \in \Delta \bigr\}  \\
    \cup\; \bigl\{t_{\text{\it equ}}  \ |\  (t, t_{\text{\it equ}},
     \mathcal{R}, \text{\it nil}, \Delta') \in \Delta \bigr\}
  \end{array}
  \]
\end{Definition}


\pagebreak
\begin{Definition}[Typing rules on polymorphic equivalent terms]
  We extend the typing rules on pure canonical terms defined above, to
  enlarge the domain of typematching, e.g. we use $t'$ s.t. $t \cong t'$ on
  typematching, as follows.
  \begin{displaymath}
    \begin{array}{c}

      \begin{array}{rl}
        \dfrac{
          t \simeq t_0
           \quad (t_0, \mathcal{R}_0) \in \Gamma_\text{\it gnd}
        }{
          \bigl\{(t, t_0, \mathcal{R}_0, \text{\it gnd}, \phi ) \bigr\}
           \vdash t \triangleright \mathcal{R}_0
        }  &  \!\!\text{\it (T-Atom0-xtend)}
      \end{array}  \\
      \\

      \begin{array}{rl}
        \dfrac{
          t \simeq t_1
           \quad (t_1, \mathcal{R}_1) \in \Gamma_\text{\it def}
        }{
          \bigl\{(t, t_1, \mathcal{R}_1, \text{\it def}, \phi ) \bigr\}
           \vdash t \triangleright \mathcal{R}_1
        }  &  \!\!\text{\it (T-Atom1-xtend)}
      \end{array}  \\
      \\
      
      \begin{array}{rl}
        \dfrac{
          \begin{array}{c}
            \Delta_1 \vdash t_1 \triangleright \mathcal{R}_1
             \quad \Delta_2 \vdash t_2 \triangleright \mathcal{R}_2
              \quad \mathpzc{Dom}(\Delta_1) \cap \mathpzc{Dom}(\Delta_2)
               = \phi  \\
            t \simeq t_1 \wedge t_2\
             \text{\it s.t.}\ t,\, t_1 \wedge t_2 \not\in \mathpzc{Dom}(
              \Delta_1 \cup \Delta_2)
          \end{array}
        }{
          \Bigl\{\bigl(t, t_1 \wedge t_2,
           \mathcal{R}_1 \wedge \mathcal{R}_2, \wedge,
            (\Delta_1 \cup \Delta_2) \bigr) \Bigr\}
             \cup (\Delta_1 \cup \Delta_2) \vdash
              t \triangleright \mathcal{R}_1 \wedge \mathcal{R}_2
        }  &  \text{\it (T-Cas-xtend)}
      \end{array}  \\
      \\
      
      \begin{array}{rl}
        \dfrac{
          \begin{array}{c}
            \Delta_1 \vdash t_1 \triangleright \mathcal{R}_1
             \quad \Delta_2 \vdash t_2 \triangleright \mathcal{R}_2
              \quad \mathpzc{Dom}(\Delta_1) \cap \mathpzc{Dom}(\Delta_2)
               = \phi  \\
            t \simeq t_1 \vee t_2\
             \text{\it s.t.}\ t,\, t_1 \vee t_2 \not\in \mathpzc{Dom}(
              \Delta_1 \cup \Delta_2)
          \end{array}
        }{
          \Bigl\{\bigl(t, t_1 \vee t_2, \mathcal{R}_1 \vee \mathcal{R}_2,
           \vee, (\Delta_1 \cup \Delta_2) \bigr) \Bigr\} \cup
            (\Delta_1 \cup \Delta_2) \vdash
             t \triangleright \mathcal{R}_1 \vee \mathcal{R}_2
        }  &  \text{\it (T-Par-xtend)}
      \end{array}  \\
      \\
      
      \begin{array}{rl}
        \left. \begin{array}{rl}
          \dfrac{
            t \simeq \{\}
             \quad \mathcal{R}_1 \,\text{\it is}\, \text{\it Any}
          }{
            \Bigl\{\bigl(t, \{\}, \mathcal{R}_1^*, \text{\it nil}, \phi
             \bigr) \Bigr\} \vdash t \triangleright {\mathcal{R}_1}^*
          }  &  (\text{\it nil}\,)  \\
          \\
          
          \dfrac{
            \Delta' \vdash t' \triangleright \mathcal{R}_1 \quad
             t \simeq t'\ \text{\it s.t.}\ t \not\in \mathpzc{Dom}(\Delta')
          }{
            \bigl\{(t, t', {\mathcal{R}_1}^*, \text{\it sol}, \Delta' )
             \bigr\} \cup \Delta'
              \vdash t \triangleright {\mathcal{R}_1}^*
          }  &  (\text{\it sol}\,)  \\
          \\
          
          \dfrac{
            \begin{array}{c}
              \Delta_h \vdash t_h \triangleright \mathcal{R}_1
               \quad \Delta_t \vdash t_t \triangleright {\mathcal{R}_1}^*
                \quad \mathpzc{Dom}(\Delta_h) \cap \mathpzc{Dom}(\Delta_t)
                = \phi  \\
               t \simeq t_h \wedge t_t  \\
               \left\{\begin{array}{l}
                 \{t,\, t_h \wedge t'_t \} \cap \mathpzc{Dom}(
                  \Delta_h \cup \Delta_t) = \phi\quad \text{\it if}\
                   \mathcal{S}_{\mathpzc{fin}_t} \in \{\text{\it nil},\,
                    \text{\it sol} \}  \\
                 \{t,\, t_h \wedge t'_t,\, t'_t \} \cap \mathpzc{Dom}(
                  \Delta_h \cup \Delta_t) = \phi\quad \text{\it otherwise}
               \end{array}\right.
            \end{array}
          }{
            \begin{array}{r}
              \Bigl\{\bigl(t, t_h \wedge t_t', {\mathcal{R}_1}^*, \infty,
               (\Delta_h \cup \Delta_t') \bigr) \Bigr\} \cup
                (\Delta_h \cup \Delta_t') \vdash
                 t \triangleright {\mathcal{R}_1}^*  \\
              \text{\it where}\ 
               \Delta_t(t_t) = (t_t, t_t', {\mathcal{R}_1}^*,
                \mathcal{S}_{\mathpzc{fin}_t}, \Delta_t')\ \text{\it s.t.}\
                 \mathcal{S}_{\mathpzc{fin}_t} \in \{\text{\it sol},
                  \infty\},\ t_t' \neq \{\}
            \end{array}
          }  &  (\infty)
        \end{array} \right\}  &  \text{\it (T-Cat0-xtend)}
      \end{array}  \\
      
    \end{array}
  \end{displaymath}
  
  \begin{displaymath}
    \begin{array}{c}

      \begin{array}{rl}
        \left. \begin{array}{rl}
          \dfrac{
            \quad \Delta' \vdash t' \triangleright \mathcal{R}_1 \quad
             t \simeq t'\ \text{\it s.t.}\ t \not\in \mathpzc{Dom}(\Delta')
          }{
            \bigl\{(t, t', {\mathcal{R}_1}^+, \text{\it sol}, \Delta')
             \bigr\} \cup \Delta' \vdash
              t \triangleright {\mathcal{R}_1}^+
          }  &  (\text{\it sol}\,)  \\
          \\
          \dfrac{
            \begin{array}{c}
              \Delta_h \vdash t_h \triangleright \mathcal{R}_1
               \quad \Delta_t \vdash t_t \triangleright {\mathcal{R}_1}^+
                \quad \mathpzc{Dom}(\Delta_h) \cap \mathpzc{Dom}(\Delta_t)
                 = \phi  \\
              t \simeq t_h \wedge t_t  \\
              \left\{\begin{array}{l}
                \{t,\, t_h \wedge t'_t \} \cap \mathpzc{Dom}(
                 \Delta_h \cup \Delta_t) = \phi\quad \text{\it if}\
                  \mathcal{S}_{\mathpzc{fin}_t} = \text{\it sol}  \\
                \{t,\, t_h \wedge t'_t,\, t'_t \} \cap \mathpzc{Dom}(
                 \Delta_h \cup \Delta_t) = \phi\quad \text{\it otherwise}
              \end{array}\right.
            \end{array}
          }{
            \begin{array}{r}
              \Bigl\{\bigl(t, t_h \wedge t_t', {\mathcal{R}_1}^+, \infty,
               (\Delta_h \cup \Delta_t') \bigr) \Bigr\} \cup
                (\Delta_h \cup \Delta_t') \vdash
                 t \triangleright {\mathcal{R}_1}^+  \\
              \text{\it where}\
               \Delta_t(t_t) = (t_t, t_t', {\mathcal{R}_1}^+,
                \mathcal{S}_{\mathpzc{fin}_t}, \Delta_t')\ \text{\it s.t.}\
                 \mathcal{S}_{\mathpzc{fin}_t} \in \{\text{\it sol}, \infty\}
            \end{array}
          }  &  (\infty)
        \end{array} \right\}  &  \text{\it (T-Cat1-xtend)}
      \end{array}  \\
      \\
      
      \begin{array}{rl}
        \left. \begin{array}{rl}
          \dfrac{
            \Delta' \vdash t' \triangleright \mathcal{R}_1 \quad
             t \simeq t'\ \text{\it s.t.}\ t \not\in \mathpzc{Dom}(\Delta')
          }{
            \bigl\{(t, t', {\mathcal{R}_1}^\downarrow, \text{\it sol},
             \Delta') \bigr\} \cup \Delta' \vdash
              t \triangleright {\mathcal{R}_1}^\downarrow
          }  &  (\text{\it sol}\,)  \\
          \\
          
          \dfrac{
            \begin{array}{c}
              \Delta_h \vdash t_h \triangleright \mathcal{R}_1
               \quad \Delta_t \vdash t_t \triangleright
                {\mathcal{R}_1}^\downarrow
                 \quad \mathpzc{Dom}(\Delta_h) \cap \mathpzc{Dom}(\Delta_t)
                  = \phi  \\
              t \simeq t_h \vee t_t  \\
              \left\{\begin{array}{l}
                \{t,\, t_h \vee t'_t \} \cap \mathpzc{Dom}(
                 \Delta_h \cup \Delta_t) = \phi\quad \text{\it if}\
                  \mathcal{S}_{\mathpzc{fin}_t} = \text{\it sol}  \\
                \{t,\, t_h \vee t'_t,\, t'_t \} \cap \mathpzc{Dom}(
                 \Delta_h \cup \Delta_t) = \phi\quad \text{\it otherwise}
              \end{array}\right.
            \end{array}
          }{
            \begin{array}{r}
              \Bigl\{\bigl(t, t_h \vee t_t', {\mathcal{R}_1}^\downarrow,
               \infty, (\Delta_h \cup \Delta_t') \bigr) \Bigr\} \cup
                (\Delta_h \cup \Delta_t') \vdash
                 t \triangleright {\mathcal{R}_1}^\downarrow  \\
              \text{\it where}\
               \Delta_t(t_t) = (t_t, t_t', {\mathcal{R}_1}^\downarrow,
                \mathcal{S}_{\mathpzc{fin}_t}, \Delta_t')\ \text{\it s.t.}\
                 \mathcal{S}_{\mathpzc{fin}_t} \in \{\text{\it sol}, \infty\}
            \end{array}
          }  &  (\infty)
        \end{array} \right\}  &  \text{\it (T-Dup-xtend)}
      \end{array}  \\
      \\
      
      \begin{array}{rl}
        \left. \begin{array}{rl}
          \dfrac{
            t \simeq \circ
             \quad \mathcal{R}_1 \,\text{\it is}\, \text{\it Any}
          }{
            \bigl\{(t, \circ, {\mathcal{R}_1}^?, \text{\it nil}, \phi)
             \bigr\} \vdash t \triangleright {\mathcal{R}_1}^?           
          }  &  (\text{\it nil}\,)  \\
          \\
          
          \dfrac{
            \Delta' \vdash t' \triangleright \mathcal{R}_1 \quad
             t \simeq t'\ \text{\it s.t.}\
              t \not\in \mathpzc{Dom}(\Delta')
          }{
            \bigl\{(t, t', {\mathcal{R}_1}^?, \text{\it sol},
             \Delta') \bigr\} \cup \Delta' \vdash
              t \triangleright {\mathcal{R}_1}^?
          }  &  (\text{\it sol}\,)
        \end{array} \right\}  &  \text{\it (T-Opt-xtend)}
      \end{array}  \\
      \\
      
      \begin{array}{rl}
        \left. \begin{array}{rl}
          \dfrac{
            \Delta' \vdash t' \triangleright \mathcal{R}_1 \quad
             \mathcal{R}_2 \,\text{\it is}\, \text{\it Any}. \quad
              t \simeq t'\ \text{\it s.t.}\
               t \not\in \mathpzc{Dom}(\Delta')
          }{
            \bigl\{(t, t', \mathcal{R}_1|\mathcal{R}_2,
             \text{\it L}, \Delta') \bigr\} \cup \Delta' \vdash
              t \triangleright \mathcal{R}_1|\mathcal{R}_2
          }  &  (\text{\it L})  \\
          \\
          
          \dfrac{
            \mathcal{R}_1 \,\text{\it is}\, \text{\it Any}. \quad
             \Delta'' \vdash t' \triangleright \mathcal{R}_2 \quad
              t \simeq  t'\ \text{\it s.t.}\
               t \not\in \mathpzc{Dom}(\Delta'')
          }{
            \bigl\{(t, t', \mathcal{R}_1|\mathcal{R}_2,
             \text{\it R}, \Delta'') \bigr\} \cup \Delta'' \vdash
              t \triangleright \mathcal{R}_1|\mathcal{R}_2
          }  &  (\text{\it R})
        \end{array} \right\}  &  \text{\it (T-Alt-xtend)}
      \end{array}
      
    \end{array}
  \end{displaymath}
\end{Definition}


\begin{Lemma}{soundness on extended matching}
  \label{soundness_on_extended_matching}
  \[ \text{\it if}\ \Gamma \vdash t : \mathcal{R},\
      \text{\it then}\ \Delta \vdash t \triangleright \mathcal{R}\;\;
       \text{\it for some}\ \Delta\
        \text{\it s.t.}\ \mathpzc{Dom}(\Delta) = \mathpzc{Dom}(\Gamma).
  \]
  \begin{Proof}
    Proof is induction on structure of term $t$ s.t.
    $\Gamma \vdash t : \mathcal{R}$.

    Case (T-Atom0-canon): Proof for this case is trivial, which is directly
    from both def. of (T-Atom0-canon) and (T-Atom0-xtend) as follow.
    Here we can assume that $t$ satisfies $(t, \mathcal{R}_0) \in
    \Gamma_\text{\it gnd}$ from def. of (T-Atom0-canon) , then we can
    derive the equation of
    $\bigl\{(t, t, \mathcal{R}_0, \text{\it gnd}, \phi) \bigr\} \vdash
    t \triangleright \mathcal{R_0}$ from (T-Atom0-xtend) for
    $t \cong t$ s.t. $(t, \mathcal{R}_0) \in \Gamma_{gnd}$ from (Identity),
    which satisfies the condition of
    $\mathpzc{Dom}\Bigl(\bigl\{(t, \mathcal{R}_0 ) \bigr\} \Bigr) =
    \{t\} = \bigl(\{t\} \cup \phi \bigr) =
    \mathpzc{Dom}\Bigl(\bigl\{(t, t, \mathcal{R}_0, \text{\it gnd}, \phi)
    \bigr\} \Bigr)$ as desired.
    
    Case (T-Atom1-canon): Proof is same scheme as the case of
    (T-Atom0-canon).
    
    Case (T-Cas-canon): From induction hypothesis, we suppose that
    $\Delta_1 \vdash t_1 \triangleright \mathcal{R}_1$,
    $\Delta_2 \vdash t_2 \triangleright \mathcal{R}_2$ with
    $\mathpzc{Dom}(\Delta_1) = \mathpzc{Dom}(\Gamma_1)$ and
    $\mathpzc{Dom}(\Delta_2) = \mathpzc{Dom}(\Gamma_2)$ respectively,
    which implies the fact of
    $\mathpzc{Dom}(\Delta_1) \cap \mathpzc{Dom}(\Delta_2) = \phi$ for   
    $\mathpzc{Dom}(\Gamma_1) \cap \mathpzc{Dom}(\Gamma_2) = \phi$.
    Similarly we still find the fact that $t_1 \wedge t_2$ isn't belonging
    to $\bigl(\mathpzc{Dom}(\Delta_1) \cup \mathpzc{Dom}(\Delta_1) \bigr) =
    \bigl(\mathpzc{Dom}(\Gamma_1) \cup \mathpzc{Dom}(\Gamma_1) \bigr)$ from
    property \ref{termsize_constraint_on_Gamma} accounting on that
    $\mathpzc{size}(t_1 \wedge t_2)$ is greater than both
    $\mathpzc{size}(t_1)$ and $\mathpzc{size}(t_2)$. Therefore we obtain
    the deduction of $\Bigl\{\bigl(t_1 \wedge t_2, t_1 \wedge t_2,
    \mathcal{R}_1 \wedge \mathcal{R}_2, (\Delta_1 \cup \Delta_2) \bigr)
    \Bigr\} \cup (\Delta_1 \cup \Delta_2) \vdash t_1 \wedge t_2
    \triangleright \mathcal{R}_1 \wedge \mathcal{R}_2$ from (T-Cas-xtend),
    with the condition of
    $\mathpzc{Dom}\biggl(\Bigl\{\bigl(t_1 \wedge t_2, t_1 \wedge t_2,
    \mathcal{R}_1 \wedge \mathcal{R}_2, (\Delta_1 \cup \Delta_2) \bigr)
    \Bigr\} \cup (\Delta_1 \cup \Delta_2) \biggr) =
    \bigl(\{t_1 \wedge t_2\} \cup \mathpzc{Dom}(\Delta_1 \cup \Delta_2)
    \bigr) =
    \Bigl(\{t_1 \wedge t_2\} \cup \bigl(\mathpzc{Dom}(\Delta_1) \cup
    \mathpzc{Dom}(\Delta_2) \bigr) \Bigr) =
    \Bigl(\{t_1 \wedge t_2\} \cup \bigl(\mathpzc{Dom}(\Gamma_1) \cup
    \mathpzc{Dom}(\Gamma_2) \bigr) \Bigr) =
    \bigl(\{t_1 \wedge t_2\} \cup \mathpzc{Dom}(\Gamma_1 \cup \Gamma_2)
    \bigr) = \mathpzc{Dom}(\Gamma)$ as desired.
    
    Case (T-Par-canon): Proof is same scheme as the case of
    (T-Cat-canon),
    
    Case (T-Cat0-canon-nil): It's trivial, proof for this case is directly
    from def, of (T-Cat0-canon-nil) and (T-Cat0-xtend-nil),
    
    Case (T-Cat0-canon-$\infty$): From induction hypothesis we can assume
    that $\Delta_j \vdash t_j \triangleright \mathcal{R}_j$ s.t.
    $\mathpzc{Dom}(\Delta_j) = \mathpzc{Dom}(\Gamma_j)$ for each
    $1 \le j \le n$. Now we examines soundness for each cases,
    $j = 1$ and $j \ge 2$.
    $(j = 1)$: For first case, we can derive $\{t_1\} \cong t_1$ with
    $(\text{\it Associativity-Cat0}_1)$ and (Symmetry), where we mention that
    $\{t_1\} \not\in \mathpzc{Dom}(\Delta_1) = \mathpzc{Dom}(\Gamma_1)$ for
    $\Gamma_1 \vdash t_1 : \mathcal{R}_1$ with
    property \ref{termsize_constraint_on_Gamma}. Then we derive    
    $\Bigl\{\bigl(\{t_1\}, t_1, {\mathcal{R}_1}^*, \text{\it sol}, \Delta_1
    \bigr) \Bigr\} \cup \Delta_1 \vdash \{t_1\}
    \triangleright {\mathcal{R}_1}^*$ from (T-Cat0-xtend-sol),
    with desired properties of
    $\mathpzc{Dom}\biggl(\Bigl\{\bigl(\{t_1\}, t_1, {\mathcal{R}_1}^*,
    \text{\it sol}, \Delta_1 \bigr) \Bigr\} \cup \Delta_1 \biggr) =
    \bigl(\{t_1\} \cup \mathpzc{Dom}(\Delta_1) \bigr) =
    \bigl(\{t_1\} \cup \mathpzc{Dom}(\Gamma_1) \bigr) =
    \mathpzc{Dom}(\Gamma)$, where we let
    $\Gamma = \Bigl\{\bigl(\{t_1\}, {\mathcal{R}_1}^* \bigr) \Bigr\} \cup
    \Gamma_1$.
    $(j \ge 2)$: Here we think of the case of $j = 2$ that
    $\Bigl\{\bigl(\{t_1, t_2\}, {\mathcal{R}_1}^*\bigr) \Bigr\} \cup
    (\Gamma_1 \cup \Gamma_2) \vdash \{t_1, t_2\} : {\mathcal{R}_1}^*$,
    where we are also given several assumptions mentioned above as
    $\Delta_1 \vdash t_1 \triangleright \mathcal{R}_1$,
    $\Delta_2 \vdash t_2 \triangleright \mathcal{R}_2$, s.t.
    $\mathpzc{Dom}(\Delta_1) = \mathpzc{Dom}(\Gamma_1)$ and
    $\mathpzc{Dom}(\Delta_2) = \mathpzc{Dom}(\Gamma_2)$ satisfying
    $\mathpzc{Dom}(\Delta_1) \cap \mathpzc{Dom}(\Delta_2) = \phi$ for
    $\mathpzc{Dom}(\Gamma_1) \cap \mathpzc{Dom}(\Gamma_2) = \phi$
    respectively.
    And we can derive the term $\{t_2\}$ equivalent to $t_2$ e.g.
    $\{t_2\} \cong t_2$ from $(\text{\it Associativity-Cat0}_1)$, with
    the condition of
    $\{t_2\} \not\in \mathpzc{Dom}(\Delta_2) = \mathpzc{Dom}(\Gamma_2)$
    for $\mathpzc{size}\bigl(\{t_2\} \bigr) > \mathpzc{size}(t_2)$ with
    property \ref{termsize_constraint_on_Gamma}. Then we derive
    $\Delta_t \vdash \{t_2\} \triangleright {\mathcal{R}_1}^*$ from
    (T-Cat0-xtend-sol), where we let
    $\Delta_t = \Bigl\{\bigl(\{t_2\}, t_2, {\mathcal{R}_1}^*,
    \text{\it sol},\Delta_2 \bigr) \Bigr\} \cup \Delta_2$ which sustains
    the condition of
    $\mathpzc{Dom}(\Delta_1) \cap \mathpzc{Dom}(\Delta_t) = \phi$ for both
    facts of $\mathpzc{Dom}(\Delta_1) \cap \mathpzc{Dom}(\Delta_2) = \phi$
    and $\{t_2\} \not\in \mathpzc{Dom}(\Gamma_1) = \mathpzc{Dom}(\Delta_1)$.
    Note that we assume $\{t_2\} \in \mathpzc{Dom}(\Gamma_1)$ whose binding
    $\Gamma_1$ comming from $\Gamma_1 \vdash t_1 : \mathcal{R}_1$ also
    satisfies the condition of $\mathpzc{Dom}(\Gamma_1) =
    \mathpzc{sub}(t_1)$, e.g. $\{t_2\} \in \mathpzc{sub}(t_1)$ implies that
    $t_2 \in \mathpzc{Dom}(\Gamma_1)$ for $t_2 \in
    \mathpzc{sub}\bigl(\{t_2\} \bigr) \subseteq \mathpzc{sub}(t_1) =
    \mathpzc{Dom}(\Gamma_1)$ from
    corollary \ref{self_similarity_on_subterms}, which contradicts
    $\mathpzc{Dom}(\Gamma_1) \cap \mathpzc{Dom}(\Gamma_2) = \phi$.
    Consequently, we can derive the equivalency
    $\{t_1, t_2\} \cong t_1 \wedge \{t_2\}$, which derivation's detail is
    explained in Claim \ref{claim_for_soundness_on_extended_matching}, s.t.
    both $\{t_1, t_2\}$ and $t_1 \wedge t_2$ aren't belonging to
    $\mathpzc{Dom}(\Delta_1 \cup \Delta_t) =
    \bigl(\mathpzc{Dom}(\Delta_1) \cup \mathpzc{Dom}(\Delta_t) \bigr) =
    \Bigl(\mathpzc{Dom}(\Delta_1) \cup \bigl(\{t_2\} \cup
    \mathpzc{Dom}({\Delta_2}) \bigr) \Bigr) =
    \Bigl(\bigl(\mathpzc{Dom}(\Gamma_1) \cup \mathpzc{Dom}({\Gamma_2})
    \bigr) \cup \{t_2\} \Bigr)$ for their size constraints.
    Then we eventually derive our goal of this case as
    $\Bigl\{\big(\{t_1, t_2\}, t_1 \wedge t_2', {\mathcal{R}_1}^*,
    \infty, (\Delta_1 \cup \Delta_t') \bigr) \Bigr\} \cup
    (\Delta_1 \cup \Delta_t') \vdash \{t_1, t_2\} \triangleright
    {\mathcal{R}_1}^*$ where we let
    $\Delta_t' = \Delta_t \setminus \Delta_t \bigl(\{t_2\} \bigr) =
    \Delta_2$ and $t_2' = t_2$, from (T-Cat0-xtend-$\infty$).
    That also satisfies the condition of
    $\mathpzc{Dom}\biggl(\Bigl\{\big(\{t_1, t_2\}, t_1 \wedge t_2,
    {\mathcal{R}_1}^*, \infty, (\Delta_1 \cup \Delta_2) \bigr) \Bigr\} \cup
    (\Delta_1 \cup \Delta_2) \biggr) =
    \bigl(\{t_1, t_2\} \cup \mathpzc{Dom}(\Delta_1 \cup \Delta_2) \bigr) =
    \bigl(\{t_1, t_2\} \cup \mathpzc{Dom}(\Gamma_1 \cup \Gamma_2)\bigr) =
    \mathpzc{Dom}(\Gamma)$ as desired, where we let
    $\Gamma = \Bigl\{\bigl(\{t_1, t_2\}, {\mathcal{R}_1}^* \bigr) \Bigr\}
    \cup (\Gamma_1 \cup \Gamma_2)$.
    Next we think of the case of $j > 2$. Here we suppose the situation of
    $\Bigl\{\bigl(\{t_1 \cdots t_n\}, {\mathcal{R}_1}^* \bigr) \Bigr\} \cup
    \bigcup_{j=1}^n\Gamma_j \vdash \{t_1 \cdots t_n\}: {\mathcal{R}_1}^*$,
    which implies the facts that
    $\Gamma_2 \vdash t_2 : \mathcal{R}_1 \cdots
    \Gamma_n \vdash t_n: \mathcal{R}_1$ satisfying the conditions of
    $\mathpzc{Dom}(\Gamma_j) \cap \mathpzc{Dom}(\Gamma_k) = \phi$ if
    $j \neq k$. Accounting on the fact of
    $\{t_2 \cdots t_n\} \not\in \bigcup_{j=2}^n\mathpzc{Dom}(\Gamma_j)$
    since term size of $\{t_2 \cdots t_n\}$ is greater than any of
    $t_2 \cdots t_n$ s.t. $\Gamma_2 \vdash t_2: \mathcal{R}_1 \cdots
    \Gamma_n \vdash t_n: \mathcal{R}_1$ respectively, we can derive
    $\Bigl\{\bigl(\{t_2 \cdots t_n\}, {\mathcal{R}_1}^* \bigr) \Bigr\} \cup
    \bigcup_{j=2}^n\Gamma_j \vdash \{t_2 \cdots t_n\}: {\mathcal{R}_1}^*$
    from (T-Cat0-canon). Here we let n be the number of subterms of
    $\{t_1 \cdots t_n\}$, the cases of $n \in \{1, 2\}$ are shown as the
    cases of $j \le 2$ above.
    For the case of $j > 2$, we suppose the derivation
    $\Bigl\{\bigl(\{t_2 \cdots t_n\}, {\mathcal{R}_1}^* \bigr) \Bigr\} \cup
    \bigcup_{j=2}^n\Gamma_j \vdash \{t_2 \cdots t_n\}: {\mathcal{R}_1}^*$,
    which gives us the fact of
    $\Delta_t \vdash \{t_2 \cdots t_n\} \triangleright {\mathcal{R}_1}^*$
    for some $\Delta_t$ satisfying the condition of
    $\mathpzc{Dom}(\Delta_t) = \mathpzc{Dom}(\Gamma_t)$, where we let
    $\Gamma_t = \Bigl\{\bigl(\{t_2 \cdots t_n\}, {\mathcal{R}_1}^* \bigr)
    \Bigr\} \cup \bigcup_{j=2}^n\Gamma_j$ by induction hypothesis. Now
    we mention again that the prerequisite of
    $\Bigl\{\bigl(\{t_1 \cdots t_n\}, {\mathcal{R}_1}^* \bigr) \Bigr\} \cup
    \bigcup_{j=1}^n\Gamma_j  \vdash \{t_1 \cdots t_n\}: {\mathcal{R}_1}^*$
    includes the fact of $\Gamma_1 \vdash t_1 : \mathcal{R}_1$, 
    which also brings us $\Delta_1 \vdash t_1 : \mathcal{R}_1$ with
    the condition of
    $\mathpzc{Dom}(\Delta_1) = \mathpzc{Dom}(\Gamma_1)$ by
    induction hypothesis. Thus we can still find the property of
    $\mathpzc{Dom}(\Delta_1) \cap \mathpzc{Dom}(\Delta_t) =
    \mathpzc{Dom}(\Gamma_1) \cap
    \bigl(\{t_2 \cdots t_n\} \cup \bigcup_{j=2}^n\mathpzc{Dom}(\Gamma_j)
    \bigr) = \phi$ since we assume
    $\{t_2 \cdots t_n\} \in \mathpzc{Dom}(\Gamma_1)$, it seems to be
    $t_j \in \mathpzc{sub}\bigl(\{t_2 \cdots t_n\} \bigr) \subseteq
    \mathpzc{Dom}(\Gamma_1)$ s.t. $2 \le j \le n$, which condtradicts
    $\mathpzc{Dom}(\Gamma_1) \cap \mathpzc{Dom}(\Gamma_j) = \phi$ where
    $2 \le j \le n$.
    From similar reason both $\{t_1, \cdots t_n\}$ and $t_1 \wedge t_t'$
    aren't belonging to $\mathpzc{Dom}(\Gamma_1) \cup \bigl(\{t_2 \cdots t_n\} 
    \cup \bigcup_{j=2}^n\mathpzc{Dom}(\Gamma_j) \bigr)$, since
    $t_1 \wedge t_t' \not\in \mathpzc{Dom}(\Gamma_1)$ is by term size
    constraint, and each $t_1 \not\in \mathpzc{Dom}(\Gamma_j)$ implises
    $t_1 \wedge t_t' \not\in \bigl(\{t_2 \cdots t_n\} \cup
    \bigcup_{j=2}^n\mathpzc{Dom}(\Gamma_j) \bigr)$, e.g. assumimg of
    $t_1 \wedge t_t' \in \mathpzc{Dom}(\Gamma_j)$ for some $j$ imposes on
    $t_1 \in \mathpzc{Dom}(\Gamma_j) = \mathpzc{sub}(t_j)$ s.t.
    $\Gamma_j \vdash t_j : \mathcal{R}_1$ because of
    $t_1 \in \mathpzc{sub}(t_1 \wedge t_t')$ s.t.
    $t_1 \wedge t_t' \in \mathpzc{Dom}(\Gamma_j)$ from corollary
    \ref{self_similarity_on_subterms}, it contradicts the fact of
    $\mathpzc{Dom}(\Gamma_1) \cap \mathpzc{Dom}(\Gamma_j) = \phi$.
    Accounting on the fact that the last applied rule on
    $\Delta_t \vdash \{t_2 \cdots t_n\} \triangleright {\mathcal{R}_1}^*$
    is (T-Cat0-xtend-$\infty$), we find
    $t_t' \not\in \mathpzc{Dom}(\Delta_t)$ because of $t_t = \{t_2 \cdots
    t_n\} \neq t_t'$.
    We even can let $t_t' = t_2 \wedge t_{t_t}'$ for some $t_{t_t}'$ s.t.
    $\Delta_2 \vdash t_2 \triangleright \mathcal{R}_1$ comming from
    $\Gamma_2 \vdash t_2 : \mathcal{R}_1$, on which we can say
    $t_t' \not\in \mathpzc{Dom}(\Delta_1)$ by similar reasoning above.
    Consequently we obtain
    $t_t' \not\in \mathpzc{Dom}(\Delta_1 \cup \Delta_t)$.
    According to the facts we have revealed above, we can derive our
    conclusion as $\Bigl\{\bigl(\{t_1 \cdots t_n\}, t_1 \wedge t_t',
    {\mathcal{R}_1}^*, \infty, (\Delta_1 \cup \Delta_t') \bigr) \Bigr\} \cup
    (\Delta_1 \cup \Delta_t') \vdash
    \{t_1 \cdots t_n\} \triangleright {\mathcal{R}_1}^*$ s.t.
    $\Delta_t' = \Delta_t \setminus \Delta_t\bigl(\{t_2 \cdots t_n\} \bigr)$
    where $\Delta_t\bigl(\{t_2 \cdots t_n\} \bigr) =
    \bigl(\{t_2 \cdots t_n\}, t_t', {\mathcal{R}_1}^*, \infty, \Delta_t'
    \bigr)$ from (T-Cat0-xtend-$\infty$), with the property of
    $\mathpzc{Dom}\biggl(\Bigl\{\bigl(\{t_1 \cdots t_n\}, t_1 \wedge t_t',
    {\mathcal{R}_1}^*, \infty, (\Delta_1 \cup \Delta_t') \bigr) \Bigr\} \cup
    (\Delta_1 \cup \Delta_t') \biggr) =
    \bigl\{\{t_1 \cdots t_n\} \bigr\} \cup \mathpzc{Dom}(\Delta_1 \cup
    \Delta_t') =
    \bigl\{\{t_1 \cdots t_n\} \bigr\} \cup \bigl(\mathpzc{Dom}(\Delta_1)
    \cup \mathpzc{Dom}(\Delta_t') \bigr) =
    \bigl\{\{t_1 \cdots t_n\} \bigr\} \cup \biggl(\mathpzc{Dom}(\Delta_1)
    \cup \mathpzc{Dom}\Bigl(\Delta_t \setminus \Delta_t\bigl(\{t_2 \cdots
    t_n\} \bigr) \Bigr) \biggr) =
    \bigl\{\{t_1 \cdots t_n\} \bigr\} \cup \bigl(\mathpzc{Dom}(\Gamma_1)
    \cup \bigcup_{j=2}^n\mathpzc{Dom}(\Gamma_j) \bigr) =
    \bigl\{\{t_1 \cdots t_n\} \bigr\} \cup \bigcup_{j=1}^n\mathpzc{Dom}(
    \Gamma_j) = \mathpzc{Dom}(\Gamma)$ as desired.
    
    Case (T-Cat1-canon): Proof is same scheme to the case of
    (T-Cat-canon-$\infty$).
    
    Case (T-Dup-canon): Proof is same scheme to the case of (T-Cat1-canon).

    Case (T-Opt-canon): Proof is same as the case of (T-Cat-canon-nil).

    Case (T-Alt-canon-L): In this case, we suppose
    $\bigl\{({t_1}^\leftarrow, \mathcal{R}_1 | \mathcal{R}_1) \bigr\} \cup
    \Gamma_1 \vdash {t_1}^\leftarrow: \mathcal{R}_1 | \mathcal{R}_1$, then
    by induction hypothesis we also find that
    $\Delta_1 \vdash t_1 \triangleright \mathcal{R}_1$ satisfying the
    condition of $\mathpzc{Dom}(\Delta_1) = \mathpzc{Dom}(\Gamma_1)$ s.t.
    ${t_1}^\leftarrow \not\in \mathpzc{Dom}(\Delta_1)$ because of
    ${t_1}^\leftarrow \not\in \mathpzc{Dom}(\Gamma_1)$ from
    def. of (T-Alt-canon-L). Hence we can derive
    $\bigl\{({t_1}^\leftarrow, {t_1}^\leftarrow,
    \mathcal{R}_1 | \mathcal{R}_1, \text{\it L}, \Delta_1) \bigr\} \cup
    \Delta_1 \vdash {t_1}^\leftarrow \triangleright
    \mathcal{R}_1 | \mathcal{R}_1$ from (T-Alt-xtend-L) with desired
    property of
    $\mathpzc{Dom}\Bigl(\bigl\{({t_1}^\leftarrow, {t_1}^\leftarrow,
    \mathcal{R}_1 | \mathcal{R}_1, \text{\it L}, \Delta_1) \bigr\} \cup
    \Delta_1 \Bigr) =
    \{{t_1}^\leftarrow\} \cup \mathpzc{Dom}(\Delta_1) =
    \{{t_1}^\leftarrow\} \cup \mathpzc{Dom}(\Gamma_1) =
    \mathpzc{Dom}(\Gamma)$.

    Case (T-Alt-canon-R): Proof is same as the case of (T-Alt-canon-L).
    $\Box$
  \end{Proof}      
\end{Lemma}


\pagebreak
\begin{Definition}[Term canonicalizer]
  We define the term canonicalizer $\mathcal{M}$, which transduces the term
  matched on extended rules to corresponding canonical one, as follow. It
  also sustains equality over canonicalizing,
  see Property \ref{equality_over_transduction}.
  \begin{displaymath}
    \begin{array}{l}
    \mathcal{M}\bigl(t, t_{\text{\it equ}}, \mathcal{R},
    \mathcal{S}_{\mathpzc{fin}}, \Delta' \bigr) := \left\{\begin{array}{l}
      t_{\text{\it equ}} \quad \text{\it if}\ \mathcal{S}_{\mathpzc{fin}}
       \in \bigl\{\text{\it gnd}, \text{\it def}, \text{\it nil} \}  \\
      \mathcal{M}\bigl(\Delta'(t_1)\bigr) \wedge
       \mathcal{M}\bigl(\Delta'(t_2)\bigr) \quad \text{\it if}\
        \mathcal{S}_{\mathpzc{fin}} \in \{\wedge\}\ \text{\it and}\
         t_{\text{\it equ}} = t_1 \wedge t_2.  \\
      \mathcal{M}\bigl(\Delta'(t_1) \bigr) \vee
       \mathcal{M}(\bigl(\Delta'(t_2) \bigr) \quad \text{\it if}\
        \mathcal{S}_{\mathpzc{fin}} \in \{\vee\}\ \text{\it and}\
         t_{\text{\it equ}} = t_1 \vee t_2.  \\
     \Bigl\{\mathcal{M}\bigl(\Delta'(t_{\text{\it equ}}) \bigr) \Bigr\}
      \quad \text{\it if}\ \mathcal{S}_{\mathpzc{fin}} \in
       \{\text{\it sol} \}\ \text{\it and}\
        \mathcal{R} = {\mathcal{R}_1}^*\ \text{\it for some}\
         \mathcal{R}_1  \\ [5pt]
     \Bigl\{\mathcal{M}\bigl(\Delta'(t_{\text{\it equ}_h}) \bigr),
      \mathcal{M}\bigl(\Delta'(t_{\text{\it equ}_t}) \bigr) \Bigr\}
       \quad \text{\it if}\ \mathcal{S}_{\mathpzc{fin}} \in \{\infty\},\
        \mathcal{R} = {\mathcal{R}_1}^*  \\
      \quad \text{\it s.t.}\ \Delta'(t_{\text{\it equ}_t}) =
       (t_{\text{\it equ}_t}, t'_{\text{\it equ}_t}, \mathcal{R}_1,
        {\mathcal{S}'}_{\mathpzc{fin}}, \Delta''),\ t_{\text{\it equ}} =
       t_{\text{\it equ}_h} \wedge t_{\text{\it equ}_t}  \\ [3pt]
     \Bigl\{\mathcal{M}\bigl(\Delta'(t_{\text{\it equ}_h}) \bigr),
       t_2 \cdots t_n \Bigr\}
      \quad \text{\it if}\ \mathcal{S}_{\mathpzc{fin}} \in \{\infty\},\
       \mathcal{R} = {\mathcal{R}_1}^*  \\
       \quad \text{\it where}\ \{t_2 \cdots t_n\} =
        \mathcal{M}_{\{\}}\biggl(t_{\text{\it equ}_t}, \mathcal{R},
         \Bigl(\Delta' \setminus \bigl(\Delta'(t_{\text{\it equ}_h}) \cup
          \Delta'_h \bigr) \Bigr) \biggr)  \\
      \quad \text{\it s.t.}\ t_{\text{\it equ}} = t_{\text{\it equ}_h}
       \wedge t_{\text{\it equ}_t}\ \text{\it and}\
        \Delta'(t_{\text{\it equ}_h}) = (t_{\text{\it equ}_h},
         t'_{\text{\it equ}_h}, \mathcal{R}_1, {\mathcal{S}'}_{\mathpzc{fin}},
          \Delta'_h)  \\ [5pt]
     \Bigl[\mathcal{M}\bigl(\Delta'(t_{\text{\it equ}}) \bigr) \Bigr]
      \quad \text{\it if}\ \mathcal{S}_{\mathpzc{fin}} \in
       \{\text{\it sol} \}\ \text{\it and}\
        \mathcal{R} = {\mathcal{R}_1}^+\ \text{\it for some}\
         \mathcal{R}_1  \\ [5pt]
     \Bigl[\mathcal{M}\bigl(\Delta'(t_{\text{\it equ}_h}) \bigr),
      \mathcal{M}\bigl(\Delta'(t_{\text{\it equ}_t}) \bigr) \Bigr]
       \quad \text{\it if}\ \mathcal{S}_{\mathpzc{fin}} \in \{\infty\},\
        \mathcal{R} = {\mathcal{R}_1}^+  \\
      \quad \text{\it s.t.}\ \Delta'(t_{\text{\it equ}_t}) =
       (t_{\text{\it equ}_t}, t'_{\text{\it equ}_t}, \mathcal{R}_1,
        {\mathcal{S}'}_{\mathpzc{fin}}, \Delta''),\ t_{\text{\it equ}} =
       t_{\text{\it equ}_h} \wedge t_{\text{\it equ}_t}  \\ [3pt]
     \Bigl[\mathcal{M}\bigl(\Delta'(t_{\text{\it equ}_h}) \bigr),
       t_2 \cdots t_n \Bigr]
      \quad \text{\it if}\ \mathcal{S}_{\mathpzc{fin}} \in \{\infty\},\
       \mathcal{R} = {\mathcal{R}_1}^+  \\
       \quad \text{\it where}\ [t_2 \cdots t_n] =
        \mathcal{M}_{[]}\biggl(t_{\text{\it equ}_t}, \mathcal{R},
         \Bigl(\Delta' \setminus \bigl(\Delta'(t_{\text{\it equ}_h}) \cup
          \Delta'_h \bigr) \Bigr) \biggr)  \\
      \quad \text{\it s.t.}\ t_{\text{\it equ}} = t_{\text{\it equ}_h}
       \wedge t_{\text{\it equ}_t}\ \text{\it and}\
        \Delta'(t_{\text{\it equ}_h}) = (t_{\text{\it equ}_h},
         t'_{\text{\it equ}_h}, \mathcal{R}_1, {\mathcal{S}'}_{\mathpzc{fin}},
          \Delta'_h)  \\ [5pt]
     \Bigl\langle\mathcal{M}\bigl(\Delta'(t_{\text{\it equ}}) \bigr)
      \Bigr\rangle \quad \text{\it if}\ \mathcal{S}_{\mathpzc{fin}} \in
       \{\text{\it sol} \}\ \text{\it and}\
        \mathcal{R} = {\mathcal{R}_1}^\downarrow\ \text{\it for some}\
         \mathcal{R}_1  \\ [5pt]
     \Bigl\langle\mathcal{M}\bigl(\Delta'(t_{\text{\it equ}_h}) \bigr),
      \mathcal{M}\bigl(\Delta'(t_{\text{\it equ}_t}) \bigr) \Bigr\rangle
       \quad \text{\it if}\ \mathcal{S}_{\mathpzc{fin}} \in \{\infty\},\
        \mathcal{R} = {\mathcal{R}_1}^\downarrow  \\
      \quad \text{\it s.t.}\ \Delta'(t_{\text{\it equ}_t}) =
       (t_{\text{\it equ}_t}, t'_{\text{\it equ}_t}, \mathcal{R}_1,
        {\mathcal{S}'}_{\mathpzc{fin}}, \Delta''),\ t_{\text{\it equ}} =
       t_{\text{\it equ}_h} \vee t_{\text{\it equ}_t}  \\ [3pt]
     \Bigl\langle\mathcal{M}\bigl(\Delta'(t_{\text{\it equ}_h}) \bigr),
       t_2 \cdots t_n \Bigr\rangle
      \quad \text{\it if}\ \mathcal{S}_{\mathpzc{fin}} \in \{\infty\},\
       \mathcal{R} = {\mathcal{R}_1}^\downarrow  \\
       \quad \text{\it where}\ \langle t_2 \cdots t_n\rangle =
        \mathcal{M}_{\langle\rangle}\biggl(t_{\text{\it equ}_t}, \mathcal{R},
         \Bigl(\Delta' \setminus \bigl(\Delta'(t_{\text{\it equ}_h}) \cup
          \Delta'_h \bigr) \Bigr) \biggr)  \\
      \quad \text{\it s.t.}\ t_{\text{\it equ}} = t_{\text{\it equ}_h}
       \vee t_{\text{\it equ}_t}\ \text{\it and}\
        \Delta'(t_{\text{\it equ}_h}) = (t_{\text{\it equ}_h},
         t'_{\text{\it equ}_h}, \mathcal{R}_1, {\mathcal{S}'}_{\mathpzc{fin}},
          \Delta'_h)  \\ [5pt]
     {\mathcal{M}\bigl(\Delta'(t_{\text{\it equ}}) \bigr)}^? \quad
      \text{\it if}\ \mathcal{S}_{\mathpzc{fin}} \in \{\text{\it sol} \}\
       \text{\it and}\ \mathcal{R} = {\mathcal{R}_1}^?\
        \text{\it for some}\ \mathcal{R}_1  \\
     {\mathcal{M}\bigl(\Delta'(t_{\text{\it equ}}) \bigr)}^\leftarrow
      \quad \text{\it if}\ \mathcal{S}_{\mathpzc{fin}} \in
       \{\text{\it L}\}  \\
     {\mathcal{M}\bigl(\Delta'(t_{\text{\it equ}}) \bigr)}^\rightarrow
      \quad \text{\it if}\ \mathcal{S}_{\mathpzc{fin}} \in
       \{\text{\it R}\}  \\
     t \quad \text{\it otherwise}
    \end{array}\right.
    
   \end{array}
  \end{displaymath}

  \begin{displaymath}
    \begin{array}{l}
    \mathcal{M}_{\{\}}\bigl(t, \mathcal{R},\Delta) :=
     \left\{\begin{array}{l}
       \Bigl\{\mathcal{M}\bigl(\Delta(t) \bigr) \Bigr\}
        \quad \text{\it if}\ t \in \mathpzc{Dom}(\Delta)  \\ [5pt]
       \Bigl\{\mathcal{M}\bigl(\Delta(t_h) \bigr), t_2 \cdots t_m \Bigr\}
        \quad \text{\it if}\ t = t_h \wedge t_t\ \text{\it s.t.}\
         \Delta(t_h) = (t_h, t_{h_{\text{\it equ}}}, \mathcal{R}_1,
          \mathcal{S}_{\mathpzc{fin}_h}, \Delta'_h)  \\
       \quad \text{\it where}\ \mathcal{R} = {\mathcal{R}_1}^*,\,
        \{t_2 \cdots t_m\} =
         \mathcal{M}_{\{\}}\Bigl(t_t, \mathcal{R}, \bigl(\Delta \setminus
          \Delta(t_h) \cup \Delta'_h \bigr) \Bigr)  \\
       \{t\} \quad \text{\it otherwise}
     \end{array}\right.  \\
     \\
     
     \mathcal{M}_{[]}\bigl(t, \mathcal{R},\Delta) :=
     \left\{\begin{array}{l}
       \Bigl[\mathcal{M}\bigl(\Delta(t) \bigr) \Bigr]
        \quad \text{\it if}\ t \in \mathpzc{Dom}(\Delta)  \\ [5pt]
       \Bigl[\mathcal{M}\bigl(\Delta(t_h) \bigr), t_2 \cdots t_m \Bigr]
        \quad \text{\it if}\ t = t_h \wedge t_t\ \text{\it s.t.}\
         \Delta(t_h) = (t_h, t_{h_{\text{\it equ}}}, \mathcal{R}_1,
          \mathcal{S}_{\mathpzc{fin}_h}, \Delta'_h)  \\
       \quad \text{\it where}\ \mathcal{R} = {\mathcal{R}_1}^+,\,
        [t_2 \cdots t_m] =
         \mathcal{M}_{[]}\Bigl(t_t, \mathcal{R}, \bigl(\Delta \setminus
          \Delta(t_h) \cup \Delta'_h \bigr) \Bigr)  \\
       {[}t{]} \quad \text{\it otherwise}
     \end{array}\right.  \\
     \\
     
     \mathcal{M}_{\langle\rangle}\bigl(t, \mathcal{R},\Delta) :=
     \left\{\begin{array}{l}
       \Bigl\langle\mathcal{M}\bigl(\Delta(t) \bigr) \Bigr\rangle
        \quad \text{\it if}\ t \in \mathpzc{Dom}(\Delta)  \\ [5pt]
       \Bigl\langle\mathcal{M}\bigl(\Delta(t_h) \bigr), t_2 \cdots t_m
        \Bigr\rangle \quad \text{\it if}\ t = t_h \vee t_t\ \text{\it s.t.}\
         \Delta(t_h) = (t_h, t_{h_{\text{\it equ}}}, \mathcal{R}_1,
          \mathcal{S}_{\mathpzc{fin}_h}, \Delta'_h)  \\
       \quad \text{\it where}\ \mathcal{R} = {\mathcal{R}_1}^\downarrow,\,
        \langle t_2 \cdots t_m\rangle =
         \mathcal{M}_{\langle\rangle}\Bigl(t_t, \mathcal{R}, \bigl(
          \Delta \setminus \Delta(t_h) \cup \Delta'_h \bigr) \Bigr)  \\
       \langle t \rangle \quad \text{\it otherwise}
     \end{array}\right.
    \end{array}
  \end{displaymath}
\end{Definition}


\begin{Property}
  \label{equality_over_transduction}
  \[ \text{\it if}\ \Delta \vdash t \triangleright \mathcal{R},\
      \text{\it then}\ \mathcal{M}\bigl(\Delta(t) \bigr) \simeq t
  \]
  \begin{Proof}
    Proof is induction on derivation of
    $\Delta \vdash t \triangleright \mathcal{R}$.
    $\Box$
  \end{Proof}
\end{Property}


\begin{Definition}
  \[ \mathpzc{Gnd}(\Delta) \;\stackrel{\mathrm{def}}{:=}
      \bigl\{t_{\text{\it equ}}\ |\ (t, t_{\text{\it equ}}, \mathcal{R},
       \mathcal{S}_{\mathpzc{fin}}, \Delta') \in \Delta\ \text{\it s.t.}\
        \mathcal{S}_{\mathpzc{fin}} \in \{\text{\it gnd}, \text{\it def},
         \text{\it nil} \} \bigr\}
  \]
\end{Definition}


\begin{Property}
  \label{consistency_on_grand_terms}
  \[ \mathpzc{gnd}\Bigl(\mathcal{M}\bigl(\Delta(t) \bigr) \Bigr) =
      \mathpzc{Gnd}(\Delta)\ \text{\it s.t.}\
       \Delta \vdash t \triangleright \mathcal{R}
  \]
  \begin{Proof}
    Proof is simple induction on derivation for
    $\Delta \vdash t \triangleright \mathcal{R}$.
    $\Box$
  \end{Proof}
\end{Property}


\begin{Property}
  \label{consistency_on_domain_independency}
  \[ \begin{array}{r}
       \mathpzc{Dom}(\Delta_1) \cap \mathpzc{Dom}(\Delta_2) = \phi\
        \text{\it where}\ \Delta_1 \vdash t_1 \triangleright \mathcal{R}_1\
         \text{\it and}\ \Delta_2 \vdash t_2 \triangleright \mathcal{R}_2,\
          \text{\it then}  \\
       \mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_1(t_1) \bigr) \Bigr) \cap
        \mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_2(t_2) \bigr) \Bigr) = \phi
     \end{array}
  \]
  \begin{Proof}
    From def. of $\mathpzc{sub}$ and $\mathcal{M}$, any term in
    $\mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_1(t_1) \bigr) \Bigr)$
    consists of the grand terms belonging to
    $\mathpzc{gnd}\Bigl(\mathcal{M}\bigl(\Delta_1(t_1) \bigr) \Bigr)$, e.g.
    all of grand terms occuring on
    $t \in \mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_1(t_1) \bigr) \Bigr)$
    is comming from
    $\mathpzc{gnd}\Bigl(\mathcal{M}\bigl(\Delta_1(t_1) \bigr) \Bigr)$.
    $\mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_2(t_2) \bigr) \Bigr)$ is
    Similar. Consequently accounting on the facts of
    $\mathpzc{gnd}\Bigl(\mathcal{M}\bigl(\Delta_1(t_1) \bigr) \Bigr) =
    \mathpzc{Gnd}(\Delta_1) \subseteq \mathpzc{Dom}(\Delta_1)$ and
    $\mathpzc{gnd}\Bigl(\mathcal{M}\bigl(\Delta_1(t_2) \bigr) \Bigr) =
    \mathpzc{Gnd}(\Delta_2) \subseteq \mathpzc{Dom}(\Delta_2)$ from
    Property \ref{consistency_on_grand_terms} respectively. Thus we find that
    $\mathpzc{gnd}\Bigl(\mathcal{M}\bigl(\Delta_1(t_1) \bigr) \Bigr) \cap
    \mathpzc{gnd}\Bigl(\mathcal{M}\bigl(\Delta_2(t_2) \bigr) \Bigr) = \phi$
    for $\mathpzc{Dom}(\Delta_1) \cap \mathpzc{Dom}(\Delta_2) = \phi$, which
    implies
    $\mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_1(t_1) \bigr) \Bigr) \cap
    \mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_2(t_2) \bigr) \Bigr) = \phi$.
    $\Box$
  \end{Proof}
\end{Property}


\begin{Lemma}{completeness on extended matching.}
  \label{completeness_on_extended_matching}
  \[ \text{\it if}\ \Delta \vdash t \triangleright \mathcal{R},\
      \text{\it then}\ \Gamma \vdash \mathcal{M}\bigl( \Delta(t) \bigr):
       \mathcal{R}\;\; \text{\it for some}\ \Gamma
  \]
  \begin{Proof}
    Proof is induction on structure of derivation of
    $\Gamma \vdash t \triangleright \mathcal{R}$.
    
    Case (T-Atom0-xtend): From def. of (T-Atom0-xtend), we suppose
    $\bigl\{(t, t_0, \mathcal{R}_0, \text{\it gnd}, \phi) \bigr\} \vdash
    t \triangleright \mathcal{R}_0$ s.t. $t \simeq t_0$ with
    $(t_0, \mathcal{R}_0) \in \Gamma_\text{\it gnd}$. Then
    we can derive $\bigl\{(t_0, \mathcal{R}_0) \bigr\} \vdash
    \mathcal{M}\bigl(\Delta(t) \bigr): \mathcal{R}_0$
    from (T-Atom0-canon), since
    $\mathcal{M}\bigl(\Delta(t) \bigr) = \mathcal{M}(t, t_0, \mathcal{R}_0,
    \text{\it gnd}, \phi) = t_0$ from def of $\mathcal{M}$.
    
    Case (T-Atom1-xtend): Proof is same as the case of (T-Atom0-xtend).
    
    Case (T-Cas-xtend): In this case, we suppose that
    $\Delta \vdash t \triangleright \mathcal{R}_1 \wedge \mathcal{R}_2$
    where we let
    $\Delta = \Bigl\{\bigl(t, t_1 \wedge t_2,
    \mathcal{R}_1 \wedge \mathcal{R}_2, \wedge, (\Delta_1 \cup \Delta_2)
    \bigr) \Bigr\} \cup (\Delta_1 \cup \Delta_2)$ for some $\Delta_1$ and
    $\Delta_2$ satisfying
    $\Delta_1 \vdash t_1 \triangleright \mathcal{R}_1$,
    $\Delta_2 \vdash t_2 \triangleright \mathcal{R}_2$ and
    $\mathpzc{Dom}(\Delta_1) \cap \mathpzc{Dom}(\Delta_2) = \phi$ from
    def. of (T-Cas-xtend). By induction hypothesis, we suppose that
    $\Gamma_1 \vdash \mathcal{M}\bigl(\Delta_1(t_1) \bigr) : \mathcal{R}_1$
    and
    $\Gamma_2 \vdash \mathcal{M}\bigl(\Delta_2(t_2) \bigr) : \mathcal{R}_2$
    for some $\Gamma_1$ and $\Gamma_2$ where
    $\Delta_1(t_1) = (t_1, t_{\text{\it equ}_1}, \mathcal{R}_1,
    \mathcal{S}_1, \Delta_1')$ and
    $\Delta_2(t_2) = (t_2, t_{\text{\it equ}_2}, \mathcal{R}_2,
    \mathcal{S}_2, \Delta_2')$ respectively.
    According to the facts that
    $\mathpzc{Dom}(\Delta_1 \cup \Delta_2) =
    \mathpzc{Dom}(\Delta_1) \cup \mathpzc{Dom}(\Delta_2)$ s.t.
    $\mathpzc{Dom}(\Delta_1) \cap \mathpzc{Dom}(\Delta_2) = \phi$, we find
    $t_1 \not\in \mathpzc{Dom}(\Delta_2)$ s.t.
    $t_1 \in \mathpzc{Dom}(\Delta_1)$ for
    $\Delta_1 \vdash t_1 \triangleright \mathcal{R}_1$, and
    $t_2 \not\in \mathpzc{Dom}(\Delta_1)$ s.t
    $t_2 \in \mathpzc{Dom}(\Delta_2)$ for
    $\Delta_2 \vdash t_2 \triangleright \mathcal{R}_2$. Thus
    $\mathcal{M}\bigl(\Delta(t) \bigr) =
    \mathcal{M}\bigl(t, t_1 \wedge t_2, \mathcal{R}_1 \wedge \mathcal{R}_2,
    \wedge, (\Delta_1 \cup \Delta_2) \bigr) =
    \mathcal{M}\bigl((\Delta_1 \cup \Delta_2)(t_1) \bigr) \wedge
    \mathcal{M}\bigl((\Delta_1 \cup \Delta_2)(t_2) \bigr) =
    \mathcal{M}\bigl(\Delta_1(t_1) \bigr) \wedge \mathcal{M}\bigl(
    \Delta_2(t_2) \bigr)$ allows us to conclude
    $\biggl\{\Bigl(\mathcal{M}\bigl(\Delta_1(t_1) \bigr) \wedge
    \mathcal{M}\bigl(\Delta_2(t_2) \bigr), \mathcal{R}_1 \wedge
    \mathcal{R}_2 \Bigr) \biggr\} \cup (\Gamma_1 \cup \Gamma_2) \vdash
    \mathcal{M}\bigl(\Delta_1(t_1) \bigr) \wedge \mathcal{M}\bigl(
    \Delta_2(t_2) \bigr) : \mathcal{R}_1 \wedge \mathcal{R}_2$ from
    (T-Cas-canon), with the conditions of
    $\mathpzc{Dom}(\Gamma_1) \cap \mathpzc{Dom}(\Gamma_2) = \phi$ and
    $\mathcal{M}\bigl(\Delta_1(t_1) \bigr) \wedge \mathcal{M}\bigl(
    \Delta_2(t_2) \bigr) \not\in \mathpzc{Dom}(\Gamma_1 \cup \Gamma_2)$ as
    follows. We find that
    $\mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_1(t_1) \bigr) \Bigr) \cap
    \mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_2(t_2) \bigr) \Bigr) = \phi$
    from the facts of
    $\mathpzc{Dom}(\Delta_1) \cap \mathpzc{Dom}(\Delta_2) = \phi$ s.t.
    $\Delta_1 \vdash t_1 \triangleright \mathcal{R}_1$ and
    $\Delta_2 \vdash t_2 \triangleright \mathcal{R}_2$ with
    Lemma \ref{consistency_on_domain_independency}, then we even do
    $\mathpzc{Dom}(\Gamma_1) \subseteq \mathpzc{sub}\Bigl(\mathcal{M}\bigl(
    \Delta_1(t_1) \bigr) \Bigr)$ and
    $\mathpzc{Dom}(\Gamma_2) \subseteq \mathpzc{sub}\Bigl(\mathcal{M}\bigl(
    \Delta_2(t_2) \bigr) \Bigr)$ where
    $\Gamma_1 \vdash \mathcal{M}\bigl(\Delta_1(t_1) \bigr) :
    \mathcal{R}_1$ and
    $\Gamma_2 \vdash \mathcal{M}\bigl(\Delta_2(t_2) \bigr) :
    \mathcal{R}_2$ respectively from Property \ref{dom_of_Gamma}, thus
    $\mathpzc{Dom}(\Gamma_1) \cap \mathpzc{Dom}(\Gamma_2) = \phi$.
    Consequently, we show the reason of
    $\mathcal{M}\bigl(\Delta_1(t_1) \bigr) \wedge
    \mathcal{M}\bigl(\Delta_2(t_2) \bigr) \not\in 
    \mathpzc{Dom}(\Gamma_1 \cup \Gamma_2)$. We know that
    $\mathpzc{size}\Bigl(\mathcal{M}\bigl(\Delta_1(t_1) \bigr) \wedge
    \mathcal{M}\bigl(\Delta_2(t_2) \bigr) \Bigr) >
    \mathpzc{size}\Bigl(\mathcal{M}\bigl(\Delta_1(t_1) \bigr) \Bigr) \ge
    \mathpzc{size}(t'_1)$ for any $t'_1 \in \mathpzc{Dom}(\Gamma_1)$
    from Property \ref{termsize_constraint_on_Gamma}, which implies that
    $\mathcal{M}\bigl(\Delta_1(t_1) \bigr) \wedge
    \mathcal{M}\bigl(\Delta_2(t_2) \bigr) \not\in \mathpzc{Dom}(\Gamma_1)$
    and $\mathcal{M}\bigl(\Delta_1(t_1) \bigr) \wedge
    \mathcal{M}\bigl(\Delta_2(t_2) \bigr) \not\in \mathpzc{Dom}(\Gamma_2)$
    respectively, thus we obtain
    $\mathcal{M}\bigl(\Delta_1(t_1) \bigr) \wedge
    \mathcal{M}\bigl(\Delta_2(t_2) \bigr) \not\in
    \Bigl(\mathpzc{Dom}(\Gamma_1) \cup \mathpzc{Dom}(\Gamma_2) \Bigr) =
    \mathpzc{Dom}(\Gamma_1 \cup \Gamma_2)$. Note that we express the
    reason of that, e.g.
    $\mathcal{M}\bigl(\Delta_1(t_1) \bigr) \wedge
    \mathcal{M}\bigl(\Delta_2(t_2) \bigr) \not\in
    \mathpzc{Dom}(\Gamma_1 \cup \Gamma_2)$, as ``term size constraint''
    in below argument.
    
    Case (T-Par-xtend): Proof is same as the case of (T-Cas-xtend).
    
    Case (T-Cat0-xtend-nil): Similar to the case of (T-Atom0-xtend) as
    follows. We suppose
    $\Bigl\{\bigl(t, \{\}, {\mathcal{R}_1}^*, \text{\it nil}, \phi \bigr)
    \Bigr\} \vdash t \triangleright {\mathcal{R}_1}^*$ s.t.
    $t \simeq \{\}$. Thus we can derive
    $\Bigl\{\bigl(\{\}, {\mathcal{R}_1}^* \bigr) \Bigr\} \vdash
    \mathcal{M}\bigl(\Delta(t) \bigr): {\mathcal{R}_0}^*$ from
    (T-Cat0-canon-nil), since
    $\mathcal{M}\bigl(\Delta(t) \bigr) =
    \mathcal{M}\bigl(t, \{\}, {\mathcal{R}_0}^*, \text{\it nil}, \phi
    \bigr) = \{\}$ from def of $\mathcal{M}$.
    
    Case (T-Cat0-xtend-sol): In this case, we suppose the deduction of
    $\Delta \vdash t \triangleright {\mathcal{R}_1}^*$ from
    (T-Cat0-xtend-sol) where we let
    $\Delta = \bigl\{(t, t', {\mathcal{R}_1}^*, \text{\it sol}, \Delta')
    \bigr\} \cup \Delta'$, which also implies the existence of
    derivation of $\Delta' \vdash t' \triangleright \mathcal{R}_1$ s.t.
    $t \simeq t'$ and $t \not\in \mathpzc{Dom}(\Delta')$. for some
    $\Delta'$. According to the fact that
    $\Gamma' \vdash \mathcal{M}\bigl(\Delta'(t') \bigr) : \mathcal{R}_1$
    for some $\Gamma'$ obtained by applying induction hypothesis on
    $\Delta' \vdash t' \triangleright \mathcal{R}_1$, we have
    $\Biggl\{\biggl(\Bigl\{\mathcal{M}\bigl(\Delta'(t') \bigr) \Bigr\},
    {\mathcal{R}_1}^* \biggr) \Biggr\} \cup \Gamma' \vdash \Bigl\{
    \mathcal{M}\bigl(\Delta'(t') \bigr) \Bigr\} : {\mathcal{R}_1}^*$ from
    (T-Cat0-canon-$\infty$), since
    $\mathcal{M}\bigl(\Delta(t) \bigr) =
    \mathcal{M}(t, t', {\mathcal{R}_1}^*, \text{\it sol}, \Delta') =
    \Bigl\{\mathcal{M}\bigl(\Delta'(t') \bigr) \Bigr\}$ s.t
    $\Bigl\{\mathcal{M}\bigl(\Delta'(t') \bigr) \Bigr\} \not\in
    \mathpzc{Dom}(\Gamma')$ by term size constraint.
    
    Case (T-Cat0-xtend-$\infty$): In this case, we suppose the last applied
    on deduction of $\Delta \vdash t \triangleright {\mathcal{R}_1}^*$ is
    (T-Cat0-xtend-$\infty$), where we let
    $\Delta = \Bigl\{\bigl(t, t_h \wedge t'_t, {\mathcal{R}_1}^*, \infty,
    (\Delta_h \cup \Delta'_t) \bigr) \Bigr\} \cup (\Delta_h \cup \Delta'_t)$
    s.t. $\Delta_h = \bigl\{(t_h, t'_h, \mathcal{R}_1, \mathcal{S}_h,
    \Delta'_h)\bigr\} \cup \Delta'_h$ and
    $\Delta_t = \bigl\{(t_t, t'_t, {\mathcal{R}_1}^*, \mathcal{S}_t,
    \Delta'_t) \bigr\} \cup \Delta'_t$ comming from
    $\Delta_h \vdash t_h \triangleright \mathcal{R}_1$ and
    $\Delta_t \vdash t_t \triangleright {\mathcal{R}_1}^*$ as respective.
    Additionally, there are 2 cases to be considered, focusing on
    the derivation of $\Delta_t \vdash t_t \triangleright {\mathcal{R}_1}^*$
    as follow.
    Subcase (T-Cat0-xtend-sol): In this case, we suppose that
    the last applied rule on the derivation of
    $\Delta_t \vdash t_t \triangleright {\mathcal{R}_1}^*$ is
    (T-Cat0-xtend-sol), where
    $\Delta_t = \bigl\{(t_t, t'_t, {\mathcal{R}_1}^*, \text{\it sol},
    \Delta'_t) \bigr\} \cup \Delta'_t$ and
    $\Delta'_t = (t'_t, t''_t, \mathcal{R}_1, \mathcal{S}_{t'},
    \Delta''_t)$ s.t. $\Delta'_t \vdash t'_t \triangleright \mathcal{R}_1$
    we let. By applying induction hypothesis on
    $\Delta_h \vdash t_h \triangleright \mathcal{R}_1$, we find
    $\Gamma_h \vdash \mathcal{M}\bigl(\Delta_h(t_h) \bigr) : \mathcal{R}_1$
    for some $\Gamma_h$. Similarly, we can also obtain
    $\Gamma'_t \vdash \mathcal{M}\bigl(\Delta'_t(t'_t) \bigr) :
    \mathcal{R}_1$ for some $\Gamma'_t$ from induction hypothesis with
    $\Delta'_t \vdash t'_t \triangleright \mathcal{R}_1$.
    Accounting on the fact that
    $\mathpzc{Dom}(\Delta'_t) \subseteq \mathpzc{Dom}(\Delta_t)$ as
    $\Delta_t = \bigl\{(t_t, t'_t, {\mathcal{R}_1}^*, \text{\it sol},
    \Delta'_t) \bigr\} \cup \Delta'_t$, we find
    $\mathpzc{Dom}(\Delta_h) \cap \mathpzc{Dom}(\Delta'_t) = \phi$, because
    of $\mathpzc{Dom}(\Delta_h) \cap \mathpzc{Dom}(\Delta_t) = \phi$ from
    the def. of (T-Cat0-xtend-$\infty$). Then we can say that
    $\mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_h(t_h) \bigr) \Bigr) \cap
    \mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta'_t(t'_t) \bigr) \Bigr) =
    \phi$ from Lemma \ref{consistency_on_domain_independency} for
    $\Delta_h \vdash t_h \triangleright \mathcal{R}_1$ and
    $\Delta'_t \vdash t'_t \triangleright \mathcal{R}_1$ above. By now,
    recalling the facts we revealed above as
    $\Gamma_h \vdash \mathcal{M}\bigl(\Delta_h(t_h) \bigr) : \mathcal{R}_1$
    and $\Gamma'_t \vdash \mathcal{M}\bigl(\Delta'_t(t'_t) \bigr) :
    \mathcal{R}_1$ for some $\Gamma_h$ and $\Gamma'_t$ respectively, we
    still find that
    $\mathpzc{Dom}(\Gamma_h) \subseteq \mathpzc{sub}\Bigl(\mathcal{M}\bigl(
    \Delta_h(t_h) \bigr) \Bigr)$ and
    $\mathpzc{Dom}(\Gamma'_t) \subseteq \mathpzc{sub}\Bigl(\mathcal{M}\bigl(
    \Delta'_t(t'_t) \bigr) \Bigr)$ from
    Property \ref{dom_of_Gamma}, thus we find
    $\mathpzc{Dom}(\Gamma_h) \cap \mathpzc{Dom}(\Gamma'_t) = \phi$.
    Accordingly we obtain the conclusion as
    $\biggl\{\Bigl(\bigl\{\mathcal{M}\bigl(\Delta_h(t_h) \bigr),
    \mathcal{M}\bigl(\Delta'_t(t'_t) \bigr) \bigr\}, {\mathcal{R}_1}^*
    \Bigr) \biggr\} \cup (\Gamma_h \cup \Gamma'_t) \vdash
    \Bigl\{\mathcal{M}\bigl(\Delta_h(t_h) \bigr), \mathcal{M}\bigl(
    \Delta'_t(t'_t) \bigr) \Bigr\} : {\mathcal{R}_1}^*$ from
    (T-Cat0-canon-$\infty$), where we mention that
    $\mathcal{M}\bigl(\Delta(t) \bigr) =
    \mathcal{M}\bigl(t, t_h \wedge t'_t, {\mathcal{R}_1}^*, \infty,
    (\Delta_h \cup \Delta'_t) \bigr) =
    \Bigl\{\mathcal{M}\bigl((\Delta_h \cup \Delta'_t)(t_h) \bigr),
    \mathcal{M}\bigl((\Delta_h \cup \Delta'_t)(t'_t) \bigr) \Bigr\} =
    \Bigl\{\mathcal{M}\bigl(\Delta_h(t_h) \bigr),
    \mathcal{M}\bigl(\Delta'_t(t'_t) \bigr) \Bigr\}$ since
    $(\Delta_h \cup \Delta'_t)(t_h) = \Delta_h(t_h)$ and
    $(\Delta_h \cup \Delta'_t)(t'_t) = \Delta'_t(t'_t)$ from the fact of
    $\mathpzc{Dom}(\Delta_h) \cap \mathpzc{Dom}(\Delta_t) = \phi$ as above,
    thus $\Bigl\{\mathcal{M}\bigl(\Delta_h(t_h) \bigr), \mathcal{M}\bigl(
    \Delta'_t(t'_t) \bigr) \Bigr\} \not\in \mathpzc{Dom}(\Gamma_h)$ and
    $\Bigl\{\mathcal{M}\bigl(\Delta_h(t_h) \bigr), \mathcal{M}\bigl(
    \Delta'_t(t'_t) \bigr) \Bigr\} \not\in \mathpzc{Dom}(\Gamma'_t)$ s.t.
    $\Gamma_h \vdash \mathcal{M}\bigl(\Delta_h(t_h) \bigr) : \mathcal{R}_1$
    and $\Gamma'_t \vdash \mathcal{M}\bigl(\Delta'_t(t'_t) \bigr) :
    \mathcal{R}_1$ respectively by term size constraint. e.g.
    $\mathpzc{size}\biggl(\Bigl\{\mathcal{M}\bigl(\Delta_h(t_h) \bigr),
    \mathcal{M}\bigl(\Delta'_t(t'_t) \bigr) \Bigr\} \biggr) >
    \mathpzc{size}\Bigl(\mathcal{M}\bigl(\Delta_h(t_h) \bigr) \Bigr) \ge
    \mathpzc{size}(t')$ for any $t' \in \mathpzc{Dom}(\Gamma_h)$ s.t.
    $\Gamma_h \vdash \mathcal{M}\bigl(\Delta_h(t_h) \bigr) : \mathcal{R}_1$, 
    which implies
    $\Bigl\{\mathcal{M}\bigl(\Delta_h(t_h) \bigr), \mathcal{M}\bigl(
    \Delta'_t(t'_t) \bigr) \Bigr\} \not\in \mathpzc{Dom}(\Gamma_h)$,
    $\Bigl\{\mathcal{M}\bigl(\Delta_h(t_h) \bigr), \mathcal{M}\bigl(
    \Delta'_t(t'_t) \bigr) \Bigr\} \not\in \mathpzc{Dom}(\Gamma'_t)$ is
    similar. Therefore
    $\bigl\{\mathcal{M}\bigl(\Delta_h(t_h) \bigr), \mathcal{M}\bigl(
    \Delta'_t(t'_t) \bigr) \bigr\} \not\in
    \bigl(\mathpzc{Dom}(\Gamma_h) \cup \mathpzc{Dom}(\Gamma'_t) \bigr)$ as
    desired.
    Subcase (T-Cat0-xtend-$\infty$): Otherwise, e.g. in the case of that
    the last applied rule on
    $\Delta_t \vdash t_t \triangleright {\mathcal{R}_1}^*$ isn't
    (T-Cat0-xtend-sol), we can predicate that the last one applied on
    $\Delta_t \vdash t_t \triangleright {\mathcal{R}_1}^*$ is just
    (T-Cat0-xtend-$\infty$), since the constraint of $t'_t \neq \{\}$ on
    $\Delta'_t = (t'_t, t''_t, {\mathcal{R}_1}^*, \mathcal{S}_{t'},
    \Delta''_t)$ eliminates the case of (T-Cat0-xtend-nil) as the last
    applied rule. Accordingly we suppose
    $\Delta_t = \bigl\{(t_t, t'_t, {\mathcal{R}_1}^*, \infty, \Delta'_t)
    \bigr\} \cup \Delta'_t$ s.t.
    $t'_t = t_{t_h} \wedge t'_{t_t}$ and
    $\Delta'_t = \Delta_{t_h} \cup \Delta'_{t_t}$, where we let
    $\Delta_{t_h} = \bigl\{(t_{t_h}, t'_{t_h}, \mathcal{R}_1,
    \mathcal{S}_{t_h}, \Delta'_{t_h} ) \bigr\} \cup \Delta'_{t_h}$, and
    $\Delta_{t_t} = \bigl\{(t_{t_t}, t'_{t_t}, {\mathcal{R}_1}^*,
    \mathcal{S}_{t_t}, \Delta'_{t_t} ) \bigr\} \cup \Delta'_{t_t}$ s.t.
    $\Delta_{t_h} \vdash t_{t_h} \triangleright \mathcal{R}_1$ and
    $\Delta_{t_t} \vdash t_{t_t} \triangleright {\mathcal{R}_1}^*$
    respectively comming from subderivations of
    $\Delta_t \vdash t_t \triangleright {\mathcal{R}_1}^*$ by
    (T-Cat0-xtend-$\infty$). Based on above assumptions with
    the fact $t'_t \not\in \mathpzc{Dom}(\Delta_h \cup \Delta'_t)$
    since $\mathpzc{Dom}(\Delta_h \cup \Delta'_t) = \bigl(
    \mathpzc{Dom}(\Delta_h) \cup \mathpzc{Dom}(\Delta'_t) \bigr) \subseteq
    \bigl(\mathpzc{Dom}(\Delta_h) \cup \mathpzc{Dom}(\Delta_t) \bigr) =
    \mathpzc{Dom}(\Delta_h \cup \Delta_t)$ s.t.
    $t'_t \not\in \mathpzc{Dom}(\Delta_h \cup \Delta_t)$ from def. of
    (T-Cat0-xtend-$\infty$), we get
    $\mathcal{M}\bigl(\Delta(t) \bigr) =
    \mathcal{M}(t, t_h \wedge t'_t, {\mathcal{R}_1}^*, \infty,
    \Delta_h \cup \Delta'_t ) =
    \Bigl\{\mathcal{M}\bigl((\Delta_h \cup \Delta'_t)(t_h) \bigr),
    t_2, \cdots t_n \Bigr\} =
    \Bigl\{\mathcal{M}\bigl(\Delta_h(t_h) \bigr), t_2, \cdots t_n \Bigr\}$
    satisfying $\{t_2, \cdots t_n\} =
    \mathcal{M}_{\{\}}\biggl(t'_t, {\mathcal{R}_1}^*,\Bigl(
    (\Delta_h \cup \Delta'_t) \setminus \bigl((\Delta_h \cup \Delta'_t)(t_h)
    \cup \Delta'_h \bigr) \Bigr) \biggr) =
    \mathcal{M}_{\{\}}\biggl(t'_t, {\mathcal{R}_1}^*,\Bigl(
    (\Delta_h \cup \Delta'_t) \setminus \bigl(\Delta_h(t_h) \cup \Delta'_h
    \bigr) \Bigr) \biggr) =
    \mathcal{M}_{\{\}}\Bigl(t'_t, {\mathcal{R}_1}^*,\bigl(
    (\Delta_h \cup \Delta'_t) \setminus \Delta_h \bigr) \Bigr) =
    \mathcal{M}_{\{\}}(t'_t, {\mathcal{R}_1}^*, \Delta'_t )$ where
    $(\Delta_h \cup \Delta'_t)(t_h) = \Delta_h(t_h) = 
    (t_h, t'_h, \mathcal{R}_1, \mathcal{S}_h, \Delta'_h)$ for
    $t_h \not\in \mathpzc{Dom}(\Delta'_t)$. Note that
    $\Delta_h \vdash t_h \triangleright \mathcal{R}_1$ implies
    $t_h \in \mathpzc{Dom}(\Delta_h)$, thus
    we can say $t_h \not\in \mathpzc{Dom}(\Delta'_t)$ as
    $\mathpzc{Dom}(\Delta'_t) \subseteq \mathpzc{Dom}(\Delta_t)$ s.t.
    $\mathpzc{Dom}(\Delta_h) \cap \mathpzc{Dom}(\Delta_t) = \phi$. From
    def. of (T-Cat0-xtend-$\infty$) applied on
    $\Delta_t \vdash t_t \triangleright {\mathcal{R}_1}^*$, we know that
    $t'_t = t_{t_h} \wedge t'_{t_t} \not\in
    \bigl(\mathpzc{Dom}(\Delta_{t_h}) \cup \mathpzc{Dom}(\Delta'_{t_t})
    \bigr) = \mathpzc{Dom}(\Delta'_t)$ since
    $\bigl(\mathpzc{Dom}(\Delta_{t_h}) \cup \mathpzc{Dom}(\Delta'_{t_t})
    \bigr) \subseteq \bigl(\mathpzc{Dom}(\Delta_{t_h}) \cup \mathpzc{Dom}(
    \Delta_{t_t}) \bigr) = \mathpzc{Dom}(\Delta_{t_h} \cup \Delta_{t_t})$,
    then we look for $\{t_2, \cdots t_n\} =
    \mathcal{M}_{\{\}}(t'_t, {\mathcal{R}_1}^*, \Delta'_t ) =
    \Bigl\{\mathcal{M}\bigl(\Delta'_t(t_{t_h}) \bigr), t'_2, \cdots t'_m
    \Bigr\}$ where
    $\{t'_2, \cdots t'_m\} = \mathcal{M}_{\{\}}\biggl(
    t'_{t_t}, {\mathcal{R}_1}^*, \Bigr(\Delta'_t \setminus \bigl(
    \Delta'_t(t_{t_h}) \cup \Delta'_{t_h} \bigr) \Bigr) \biggr)$ s.t.
    $\Delta'_t(t_{t_h}) = (\Delta_{t_h} \cup \Delta'_{t_t})(t_{t_h}) =
    \Delta_{t_h}(t_{t_h}) =  (t_{t_h}, t'_{t_h}, \mathcal{R}_1,
    \mathcal{S}_{t_h}, \Delta'_{t_h} )$ since
    $t_{t_h} \not\in \mathpzc{Dom}(\Delta'_{t_t})$ for the same reason
    of $t_h \not\in \mathpzc{Dom}(\Delta'_t)$ as above. Then
    we can apply Claim \ref{claim1_for_completeness} on
    $\{t'_2, \cdots t'_m\} = \mathcal{M}_{\{\}}\biggl(
    t'_{t_t}, {\mathcal{R}_1}^*, \Bigr(\Delta'_t \setminus \bigl(
    \Delta'_t(t_{t_h}) \cup \Delta'_{t_h} \bigr) \Bigr) \biggr)$,
    we obtain the facts that
    $\Gamma'_2 \vdash t'_2: \mathcal{R}_1, \cdots
    \Gamma'_m \vdash t'_m: \mathcal{R}_1$ for some
    $\Gamma'_2, \cdots \Gamma'_m$ s.t.
    $\mathpzc{Dom}(\Gamma'_j) \cap \mathpzc{Dom}(\Gamma'_k) = \phi$ where
    $j \neq k$, and $\bigcup_{j=2}^m \mathpzc{Dom}(\Gamma'_j) \subseteq
    \mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_{t_t} (t_{t_t}) \bigr)
    \Bigr)$. According to the facts of
    $\mathpzc{Dom}(\Delta_{t_h}) \cap \mathpzc{Dom}(\Delta_{t_t}) = \phi$
    s.t. $\Delta_{t_h} \vdash t_{t_h} \triangleright \mathcal{R}_1$,
    $\Delta_{t_t} \vdash t_{t_t} \triangleright {\mathcal{R}_1}^*$, we get
    $\mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_{t_h}(t_{t_h}) \bigr)
    \Bigr) \cap \mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_{t_t}(t_{t_t})
    \bigr) \Bigr) = \phi$ with
    $\mathpzc{Dom}(\Gamma_{t_h}) \subseteq \mathpzc{sub}\Bigl(
    \mathcal{M}\bigl(\Delta_{t_h}(t_{t_h}) \bigr) \Bigr)$ s.t.
    $\Gamma_{t_h} \vdash \mathcal{M}\bigl(\Delta_{t_h}(t_{t_h}) \bigr) :
    \mathcal{R}_1$ from
    Property \ref{consistency_on_domain_independency}, \ref{dom_of_Gamma}
    and induction hypothesis applied on
    $\Delta_{t_h} \vdash t_{t_h} \triangleright \mathcal{R}_1$
    respectively. Thus we still find
    $\mathpzc{Dom}(\Gamma_{t_h}) \cap \bigcup_{j=2}^m\mathpzc{Dom}(
    \Gamma'_j) = \phi$ for
    $\bigcup_{j=2}^m\mathpzc{Dom}(\Gamma'_j) \subseteq \mathpzc{sub}\Bigl(
    \mathcal{M}\bigl(\Delta_{t_t}(t_{t_t}) \bigr) \Bigr)$.
    Accounting on the facts that
    $\mathpzc{Dom}(\Delta_{t_h}) \subseteq \mathpzc{Dom}(\Delta_t)$ s.t.
    $\mathpzc{Dom}(\Delta_h) \cap \mathpzc{Dom}(\Delta_t) = \phi$, which
    implies $\mathpzc{Dom}(\Delta_h) \cap \mathpzc{Dom}(\Delta_{t_h}) =
    \phi$ we find that
    $\mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_h(t_h) \bigr) \Bigr) \cap
    \mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_{t_h}(t_{t_h}) \bigr)
    \Bigr) = \phi$ similarly to above argument with
    Property \ref{consistency_on_domain_independency}. Since
    $\mathpzc{Dom}(\Gamma_h) \subseteq \mathpzc{sub}\Bigl(\mathcal{M}\bigl(
    \Delta_h(t_h) \bigr) \Bigr)$ s.t.
    $\Gamma_h \vdash \mathcal{M}\bigl(\Delta_h(t_h) \bigr) :
    \mathcal{R}_1$ and
    $\mathpzc{Dom}(\Gamma_{t_h}) \subseteq \mathpzc{sub}\Bigl(
    \mathcal{M}\bigl(\Delta_{t_h}(t_{t_h}) \bigr) \Bigr)$ s.t.
    $\Gamma_{t_h} \vdash \mathcal{M}\bigl(\Delta_{t_h}(t_{t_h}) \bigr) :
    \mathcal{R}_1$ both are from
    Lemma \ref{dom_of_Gamma}, then we obtain
    $\mathpzc{Dom}(\Gamma_{t_h}) \cap \bigl(\mathpzc{Dom}(\Gamma_h) \cup
    \bigcup_{j=2}^m \mathpzc{Dom}(\Gamma'_j) \bigr) = \phi$ for
    $\mathpzc{Dom}(\Gamma_{t_h}) \cap \bigcup_{j=2}^m \mathpzc{Dom}(
    \Gamma'_j) = \phi$. Similar to above, according to the facts of
    $\mathpzc{Dom}(\Delta_h) \cap \mathpzc{Dom}(\Delta_t) = \phi$ s.t.
    $\Delta_h \vdash t_h : \mathcal{R}_1$ and
    $\Delta_t \vdash t_t : {\mathcal{R}_1}^*$, we see that
    $\mathpzc{Dom}(\Gamma_h) \cap \mathpzc{Dom}(\Gamma_t) = \phi$ s.t
    $\Gamma_h \vdash \mathcal{M}\bigl(\Delta_h(t_h) \bigr) :
    \mathcal{R}_1$ and
    $\Gamma_t \vdash \mathcal{M}\bigl(\Delta_t(t_t) \bigr)
    :{\mathcal{R}_1}^*$ since
    $\mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_h(t_h) \bigr) \Bigr) \cap
    \mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_t(t_t) \bigr) \Bigr) =
    \phi$ s.t.
    $\mathpzc{Dom}(\Gamma_h) \subseteq
    \mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_h(t_h) \bigr) \Bigr)$ and
    $\mathpzc{Dom}(\Gamma_t) \subseteq
    \mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_t(t_t) \bigr) \Bigr)$ from
    Property \ref{consistency_on_domain_independency} and
    \ref{dom_of_Gamma} respectively.
    Next we focus on $\mathcal{M}\bigl(\Delta_t(t_t) \bigr)$ to show
    $\bigcup_{j=2}^m \mathpzc{Dom}(\Gamma'_j) \subseteq
    \mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_t(t_t) \bigr) \Bigr)$.
    From def of $\mathcal{M}$, we know that
    $\mathcal{M}\bigl(\Delta_t(t_t) \bigr) =
    \mathcal{M}(t_t, t'_t, {\mathcal{R}_1}^*, \infty, \Delta'_t) =
    \mathcal{M}(t_t, t_{t_h} \wedge t'_{t_t}, {\mathcal{R}_1}^*, \infty,
    \Delta'_t) =
    \Bigl\{\mathcal{M}\bigl(\Delta'_t(t_{t_h}) \bigr), t''_2, \cdots
    t''_l \Bigr\} =
    \Bigl\{\mathcal{M}\bigl((\Delta_{t_h} \cup \Delta'_{t_t})(t_{t_h})
    \bigr), t''_2, \cdots t''_l \Bigr\} =
    \Bigl\{\mathcal{M}\bigl(\Delta_{t_h}(t_{t_h}) \bigr), t''_2, \cdots
    t''_l \Bigr\}$ where
    $\{t''_2, \cdots t''_l \} =
    \mathcal{M}_{\{\}}\biggl(t'_{t_t}, {\mathcal{R}_1}^*, \Bigl(\Delta'_t
    \setminus \bigl(\Delta'_t(t_{t_h}) \cup \Delta'_{t_h} \bigr) \Bigr)
    \biggr) = \{t'_2, \cdots t'_m \}$ shown as above. Thus
    $\mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_t(t_t) \bigr) \Bigr) =
    \mathpzc{sub}\bigl(\mathcal{M}(t_t, t'_t, {\mathcal{R}_1}^*, \infty,
    \Delta'_t) \bigr) =
    \mathpzc{sub}\biggl(\Bigl\{\mathcal{M}\bigl(\Delta_{t_h}(t_{t_h}) \bigr),
    t'_2, \cdots t'_m \Bigr\} \biggr) \supseteq
    \bigcup_{j=2}^m \mathpzc{sub}(t'_j) \supseteq
    \bigcup_{j=2}^m \mathpzc{Dom}(\Gamma'_j)$ thus
    $\bigcup_{j=2}^m \mathpzc{Dom}(\Gamma'_j) \subseteq
    \mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_t(t_t) \bigr) \Bigr)$ s.t.
    $\Gamma'_j \vdash t'_j : \mathcal{R}_1$ for each $2 \le j \le m$.
    Therefore
    $\mathpzc{Dom}(\Gamma_h) \cap \bigcup_{j=2}^m \mathpzc{Dom}(\Gamma'_j)
    = \phi$ from
    $\mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_h(t_h) \bigr) \Bigr) \cap
    \mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_t(t_t) \bigr) \Bigr) =
    \phi$ with
    $\mathpzc{Dom}(\Gamma_h) \subseteq \mathpzc{sub}\Bigl(\mathcal{M}\bigl(
    \Delta_h(t_h) \bigr) \Bigr)$ we revealed above, which even implies that
    $\mathpzc{Dom}(\Gamma_h) \cap \bigl(\mathpzc{Dom}(\Gamma_{t_h}) \cup
    \bigcup_{j=2}^m \mathpzc{Dom}(\Gamma'_j) \bigr) = \phi$ since
    $\mathpzc{Dom}(\Gamma_h) \cap \mathpzc{Dom}(\Gamma_{t_h}) = \phi$ as
    above. Consequently we have revealed that
    $\mathpzc{Dom}(\Gamma'_j) \cap \mathpzc{Dom}(\Gamma'_k) = \phi$ s.t.
    $j \neq k$,
    $\mathpzc{Dom}(\Gamma_{t_h}) \cap \bigcup_{j=2}^m \mathpzc{Dom}(
    \Gamma'_j) = \phi$ and
    $\mathpzc{Dom}(\Gamma_h) \cap \bigl(\mathpzc{Dom}(\Gamma_{t_h}) \cup
    \bigcup_{j=2}^m \mathpzc{Dom}(\Gamma'_j) \bigr) = \phi$, which
    allow us to conclude as
    $\biggl\{\Bigl(\mathcal{M}\bigl(\Delta(t) \bigr), {\mathcal{R}_1}^*
    \Bigr) \biggr\} \cup \bigl(\Gamma_h \cup \Gamma_{t_h} \cup
    \bigcup_{j=2}^m \Gamma'_j \bigr) \vdash
    \mathcal{M}\bigl(\Delta(t) \bigr) : {\mathcal{R}_1}^*$ where
    $\mathcal{M}\bigl(\Delta(t) \bigr) = \Bigl\{
    \mathcal{M}\bigl(\Delta_h(t_h) \bigr),
    \mathcal{M}\bigl(\Delta_{t_h}(t_{t_h}) \bigr), t'_2, \cdots t'_m
    \Bigr\}$ s.t.
    $\Gamma_h \vdash \mathcal{M}\bigl(\Delta_h(t_h) \bigr) :
    \mathcal{R}_1$, for some $\Gamma_h$,
    $\Gamma_{t_h} \vdash \mathcal{M}\bigl(\Delta_{t_h}(t_{t_h}) \bigr) :
    \mathcal{R}_1$, for some $\Gamma_{t_h}$, and
    $\Gamma'_j \vdash t'_j : \mathcal{R}_1$ for each $2 \le j \le m$
    respectively. We mention that
    $\mathcal{M}\bigl(\Delta(t) \bigr) = \Bigl\{
    \mathcal{M}\bigl(\Delta_h(t_h) \bigr),
    \mathcal{M}\bigl(\Delta_{t_h}(t_{t_h}) \bigr), t'_2, \cdots t'_m
    \Bigr\} \not\in \mathpzc{Dom}\bigl(\Gamma_h \cup \Gamma_{t_h} \cup
    \bigcup_{j=2}^m \Gamma'_j \bigr)$ by size constraint, e.g.
    $\mathpzc{size}\Bigl(\mathcal{M}\bigl(\Delta(t) \bigr) \Bigr) >
    \mathpzc{size}\Bigl(\mathcal{M}\bigl(\Delta_h(t_h) \bigr) \Bigr)$,
    $\mathpzc{size}\Bigl(\mathcal{M}\bigl(\Delta_{t_h}(t_{t_h}) \bigr)
    \Bigr)$, $\mathpzc{size}(t'_2),\ \cdots \mathpzc{size}(t'_m)$, which
    implies $\mathcal{M}\bigl(\Delta(t) \bigr) \not\in \mathpzc{Dom}\bigl(
    \Gamma_h \cup \Gamma_{t_h} \cup \bigcup_{j=2}^m \Gamma'_j \bigr)$.
    
    Case (T-Cat1-xtend-sol):
    Proof is similar to the case of (T-Cat0-xtend-sol).
    
    Case (T-Cat1-xtend-$\infty$):
    Proof is similar to the case of (T-Cat0-xtend-$\infty$), with Claim
    \ref{claim2_for_completeness}.
    
    Case (T-Dup-xtend-sol):
    Proof is same as the case of case (T-Cat1-xtend-sol).
    
    Case (T-Dup-xtend-$\infty$):
    Proof is same as the case of (T-Cat1-xtend-$\infty$) with Claim
    \ref{claim3_for_completeness}.
    
    Case (T-Opt-xtend-nil):
    Proof is similar to the case of (T-Cat0-xtend-nil), from the def of
    $\mathcal{M}$ as
    $\mathcal{M}\bigl(\Delta(t) \bigr) =
    \mathcal{M}(t, \circ, {\mathcal{R}_1}^?, \text{\it nil}, \phi) =
    \circ$, with (T-Opt-canon-nil).

    Case (T-Opt-xtend-sol):
    We suppose
    $\Delta \vdash t \triangleright {\mathcal{R}_1}^?$ where we let
    $\Delta = \bigl\{(t, t', {\mathcal{R}_1}^?, \text{\it sol}, \Delta')
    \bigr\} \cup \Delta'$ s.t
    $\Delta' \vdash t' \triangleright \mathcal{R}_1$ from def. of
    (T-Opt-xtend-sol). Then from def. of $\mathcal{M}$, we obtain
    $\mathcal{M}\bigl(\Delta(t) \bigr) =
    \mathcal{M}(t, t', {\mathcal{R}_1}^?, \text{\it sol}, \Delta') =
    {\mathcal{M}\bigl(\Delta'(t') \bigr)}^?$ s.t.
    $\Gamma' \vdash \mathcal{M}\bigl(\Delta'(t') \bigr) : \mathcal{R}_1$
    for some $\Gamma'$ by induction hypothesis appled on
    $\Delta' \vdash t' \triangleright \mathcal{R}_1$, which also satisfies
    the condition that
    ${\mathcal{M}\bigl(\Delta'(t') \bigr)}^? \not\in \mathpzc{Dom}(
    \Gamma')$ by term size constraint. Thus we obtain
    $\biggl\{\Bigl({\mathcal{M}\bigl(\Delta'(t') \bigr)}^?,
    {\mathcal{R}_1}^? \Bigr) \biggr\} \cup \Gamma' \vdash
    {\mathcal{M}\bigl(\Delta'(t') \bigr)}^? : {\mathcal{R}_1}^?$ from
    (T-Opt-canon-sol).
    
    Case (T-Alt-xtend-L):
    Proof is similar to the case of (T-Opt-xtend-sol), with
    (T-Alt-canon-L).
    
    Case (T-Alt-xtend-R):
    Proof is same as the case of (T-Alt-xtend-L), with (T-Alt-canon-R).
    $\Box$
  \end{Proof}
\end{Lemma}


\begin{Claim}
  \label{claim1_for_completeness}
  \[ \begin{array}{l}
      \{t_2, \cdots t_n\} = \mathcal{M}_{\{\}}\biggl(t'_{\text{\it equ}_t},
       {\mathcal{R}_1}^*, \Bigl(\Delta' \setminus \bigl(\Delta'(
        t_{\text{\it equ}_h}) \cup \Delta'_h \bigr) \Bigr) \biggr)  \\
         \quad \text{\it where}\ \begin{array}[t]{l}
           \Delta \vdash t \triangleright {\mathcal{R}_1}^*\ \text{\it s.t}\
            \Delta(t) = (t, t_{\text{\it equ}_h} \wedge
             t'_{\text{\it equ}_t}, {\mathcal{R}_1}^*, \infty, \Delta' ),\
              \Delta' = \Delta_h \cup \Delta'_t  \\
           \Delta_h \vdash t_{\text{\it equ}_h} \triangleright
            \mathcal{R}_1\ \text{\it s.t.}\ 
             \Delta_h(t_{\text{\it equ}_h}) = (t_{\text{\it equ}_h},
              t'_{\text{\it equ}_h}, \mathcal{R}_1,
               \mathcal{S}_{\mathpzc{fin}_h}, \Delta'_h )\
                \text{\it for some}\ t'_{\text{\it equ}_h},
                 \mathcal{S}_{\mathpzc{fin}_h}, \Delta'_h  \\ 
           \Delta_t \vdash t_{\text{\it equ}_t} \triangleright
            {\mathcal{R}_1}^*\ \text{\it s.t.}\
             \Delta_t(t_{\text{\it equ}_t}) =(t_{\text{\it equ}_t},
              t'_{\text{\it equ}_t}, {\mathcal{R}_1}^*,
               \mathcal{S}_{\mathpzc{fin}_t}, \Delta'_t)\
                \text{\it for some}\ t_{\text{\it equ}_t},
                 \mathcal{S}_{\mathpzc{fin}_t}
         \end{array}  \\
      \mbox{satsifies the following conditions}\\
       \quad \Gamma_2 \vdash t_2: \mathcal{R}_1, \cdots
        \Gamma_n \vdash t_n: \mathcal{R}_1\ \text{\it for some}\
         \Gamma_2, \cdots \Gamma_n\ \text{\it s.t.}\
          \mathpzc{Dom}(\Gamma_j) \cap \mathpzc{Dom}(\Gamma_k) = \phi\
           \text{\it if}\ j \neq k,  \\
       \quad \text{\it and}\ \bigcup_{j=2}^n\mathpzc{Dom}(\Gamma_j)
        \subseteq \mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_t(t_{
         \text{\it equ}_t}) \bigr) \Bigr)
     \end{array}
  \]
  \begin{Proof}
    Proof is structual induction on derivation of
    $\Delta \vdash t \triangleright {\mathcal{R}_1}^*$.
    
    Our assumption of $\Delta(t) = (t, t_{\text{\it equ}_h} \wedge
    t'_{\text{\it equ}_t}, {\mathcal{R}_1}^*, \infty, \Delta' )$ implies
    that the last applied rule on
    $\Delta \vdash t \triangleright {\mathcal{R}_1}^*$ is
    (T-Cat0-canon-$\infty$), thus we know
    $t'_{\text{\it equ}_t} \neq \{\}$ from def. of (T-Cat0-canon-$\infty$).
    Accrding to the fact of
    $\Delta_t \vdash t_{\text{\it equ}_t} \triangleright {\mathcal{R}_1}^*$
    s.t. $\Delta_t(t_{\text{\it equ}_t}) =(t_{\text{\it equ}_t},
    t'_{\text{\it equ}_t}, {\mathcal{R}_1}^*, \mathcal{S}_t, \Delta'_t)$
    with $t'_{\text{\it equ}_t} \neq \{\}$, it's enough to consider
    only 2 cases for the deduction of
    $\Delta_t \vdash t_{\text{\it equ}_t} \triangleright {\mathcal{R}_1}^*$
    e.g. the last applied rule on
    $\Delta_t \vdash t_{\text{\it equ}_t} \triangleright {\mathcal{R}_1}^*$.
    
    Case (T-Cat0-xtend-sol): We suppose that the last applied rule on
    $\Delta_t \vdash t_{\text{\it equ}_t} \triangleright {\mathcal{R}_1}^*$
    is (T-Cat0-xtend-sol). In this case, we let
    $\Delta_t \vdash t_{\text{\it equ}_t} \triangleright {\mathcal{R}_1}^*$
    s.t. $\Delta_t = \bigl\{(t_{\text{\it equ}_t}, t'_{\text{\it equ}_t},
    {\mathcal{R}_1}^*, \text{\it sol}, \Delta'_t) \bigr\} \cup \Delta'_t$,
    where $\Delta'_t \vdash t'_{\text{\it equ}_t} \triangleright
    \mathcal{R}_1$ s.t. $\Delta'_t = \bigl\{(t'_{\text{\it equ}_t},
    t''_{\text{\it equ}_t}, \mathcal{R}_1, \mathcal{S}'_t, \Delta''_t)
    \bigr\} \cup \Delta''_t$ with
    $t'_{\text{\it equ}_t} \simeq t''_{\text{\it equ}_t}$ from def. of
    (T-Cat0-xtend-sol). Then
    $\{t_2 \cdots t_n\} = \mathcal{M}_{\{\}}\biggl(t'_{\text{\it equ}_t},
    {\mathcal{R}_1}^*, \Bigl(\Delta' \setminus \bigl(\Delta'(
    t_{\text{\it equ}_h}) \cup \Delta'_h \bigr) \Bigr) \biggr) =
    \mathcal{M}_{\{\}}(t'_{\text{\it equ}_t}, {\mathcal{R}_1}^*, \Delta'_t)
    = \Bigl\{\mathcal{M}\bigl(\Delta'_t(t'_{\text{\it equ}_t}) \bigr)
    \Bigr\}$, since
    $\Bigl(\Delta' \setminus \bigl(\Delta'(t_{\text{\it equ}_h})
    \cup \Delta'_h \bigr) \Bigr) = (\Delta' \setminus \Delta_h) =
    \Delta'_t$ where $\Delta' = (\Delta_h \cup \Delta'_t)$ and
    $\Delta'(t_{\text{\it equ}_h}) = (\Delta_h \cup \Delta'_t)(
    t_{\text{\it equ}_h}) = \Delta_h(t_{\text{\it equ}_h}) =
    (t_{\text{\it equ}_h}, t'_{\text{\it equ}_h}, \mathcal{R}_1,
    \mathcal{S}_h, \Delta'_h )$. Here a fact of
    $\Delta_h \vdash t_{\text{\it equ}_h} \triangleright \mathcal{R}_1$,
    implies $t_{\text{\it equ}_h} \in \mathpzc{Dom}(\Delta_h)$, and
    $\mathpzc{Dom}(\Delta_h) \cap \mathpzc{Dom}(\Delta'_t) = \phi$ comes
    from $\mathpzc{Dom}(\Delta_h) \cap \mathpzc{Dom}(\Delta_t) = \phi$ with
    $\mathpzc{Dom}(\Delta'_t) \subseteq \mathpzc{Dom}(\Delta_t)$ from def.
    of (T-Cat0-canon-$\infty$). Applying induction hypothesis on
    $\Delta'_t \vdash t'_{\text{\it equ}_t} \triangleright \mathcal{R}_1$
    brings us $\Gamma'_t \vdash \mathcal{M}\bigl(\Delta'_t(
    t'_{\text{\it equ}_t}) \bigr) : \mathcal{R}_1$ for some
    $\Gamma'_t$ s.t. $\mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_t(
    t_{\text{\it equ}_t}) \bigr) \Bigr) = \mathpzc{sub}\bigl(\mathcal{M}(
    t_{\text{\it equ}_t}, t'_{\text{\it equ}_t},  {\mathcal{R}_1}^*,
    \text{\it sol}, \Delta'_t ) \bigr) = \mathpzc{sub}\biggl(\Bigl\{
    \mathcal{M}\bigl(\Delta'_t(t'_{\text{\it equ}_t}) \bigr) \Bigr\}
    \biggr) \supseteq
    \mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta'_t(t'_{\text{\it equ}_t})
    \bigr) \Bigr) \supseteq \mathpzc{Dom}(\Gamma'_t)$ as desired, from
    Property \ref{dom_of_Gamma}.
    
    Case (T-Cat0-xtend-$\infty$): We suppose that the last
    rule applied on the derivation of
    $\Delta_t \vdash t_{\text{\it equ}_t} \triangleright {\mathcal{R}_1}^*$
    is (T-Cat0-canon-$\infty$), thus we let
    $\Delta_t = \bigl\{(t_{\text{\it equ}_t},
    t_{\text{\it equ}_{t_h}} \wedge t'_{\text{\it equ}_{t_t}},
    {\mathcal{R}_1}^*, \infty, \Delta'_t) \bigr\} \cup \Delta'_t$ with
    $\Delta'_t = (\Delta_{t_h} \cup \Delta'_{t_t})$, where we do
    $\Delta_{t_h} \vdash t_{\text{\it equ}_{t_h}} \triangleright
    \mathcal{R}_1$ s.t.
    $\Delta_{t_h} = \bigl\{(t_{\text{\it equ}_{t_h}},
    t'_{\text{\it equ}_{t_h}}, \mathcal{R}_1,
    \mathcal{S}_{t_h}, \Delta'_{t_h}) \bigl\} \cup \Delta'_{t_h}$ and
    $\Delta_{t_t} \vdash t_{\text{\it equ}_{t_t}}
    \triangleright {\mathcal{R}_1}^*$ s.t
    $\Delta_{t_t} = \bigl\{(t_{\text{\it equ}_{t_t}},
    t'_{\text{\it equ}_{t_t}}, {\mathcal{R}_1}^*,
    \mathcal{S}_{t_t}, \Delta'_{t_t}) \bigr\} \cup \Delta'_{t_t}$.
    By applying induction hypothesis on
    $\Delta_t \vdash t_{\text{\it equ}_t} \triangleright {\mathcal{R}_1}^*$,
    we obtain $\{t'_2, \cdots t'_m\} =
    \mathcal{M}_{\{\}}\biggl(t'_{\text{\it equ}_{t_t}}
    {\mathcal{R}_1}^*, \Bigl(\Delta'_t \setminus \bigl(\Delta'_t(
    t_{\text{\it equ}_{t_h}}) \cup \Delta'_{t_h} \bigr) \Bigr) \biggr)$
    s.t. $\Delta'_t = \Delta_{t_h} \cup \Delta'_{t_t}$, which satisfies
    $\Gamma'_2 \vdash t'_2: \mathcal{R}_1, \cdots
    \Gamma'_m \vdash t'_m: \mathcal{R}_1$ for some
    $\Gamma'_2, \cdots \Gamma'_m$ with
    $\mathpzc{Dom}(\Gamma'_j) \cap \mathpzc{Dom}(\Gamma'_k) = \phi$ where
    $j \neq k$, and
    $\bigcup_{j=2}^m\mathpzc{Dom}(\Gamma'_j) \subseteq
    \mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_{t_t}(
    t_{\text{\it equ}_{t_t}}) \bigr) \Bigr)$.
    Accounting on the facts of
    $\mathpzc{Dom}(\Delta'_{t_t}) \subseteq \mathpzc{Dom}(\Delta_{t_t})$
    s.t.
    $\mathpzc{Dom}(\Delta_{t_h}) \cap \mathpzc{Dom}(\Delta_{t_t}) = \phi$
    and $t_{\text{\it equ}_{t_h}} \in \mathpzc{Dom}(\Delta_{t_h})$ s.t.
    $\Delta_{t_h} \vdash t_{\text{\it equ}_{t_h}} \triangleright
    \mathcal{R}_1$, we find
    $t_{\text{\it equ}_{t_h}} \not\in \mathpzc{Dom}(\Delta'_{t_t})$. Then
    we still reveal r.h.s. of $\{t'_2, \cdots t'_m\}$ as
    $\mathcal{M}_{\{\}}\biggl(t'_{\text{\it equ}_{t_t}}
    {\mathcal{R}_1}^*, \Bigl(\Delta'_t \setminus \bigl(
    (\Delta_{t_h} \cup \Delta'_{t_t})(t_{\text{\it equ}_{t_h}}) \cup
    \Delta'_{t_h} \bigr) \Bigr) \biggr) =
    \mathcal{M}_{\{\}}\biggl(t'_{\text{\it equ}_{t_t}}
    {\mathcal{R}_1}^*, \Bigl(\Delta'_t \setminus \bigl(
    \Delta_{t_h}(t_{\text{\it equ}_{t_h}}) \cup \Delta'_{t_h} \bigr) \Bigr)
    \biggr) =
    \mathcal{M}_{\{\}}\Bigl(t'_{\text{\it equ}_{t_t}}
    {\mathcal{R}_1}^*, \bigl((\Delta_{t_h} \cup \Delta'_{t_t}) \setminus
    \Delta_{t_h} \bigr) \Bigr) =
    \mathcal{M}_{\{\}}(t'_{\text{\it equ}_{t_t}}, {\mathcal{R}_1}^*,
    \Delta'_{t_t})$.By now, we consider the term
    $\{t_2, \cdots t_n\}$ for the original judgement
    $\Delta \vdash t \triangleright {\mathcal{R}_1}^*$ as follows,
    $\{t_2, \cdots t_n\} = \mathcal{M}_{\{\}}\biggl(
    t'_{\text{\it equ}_t}, {\mathcal{R}_1}^*, \Bigl(\Delta' \setminus
    \bigl(\Delta'(t_{\text{\it equ}_h}) \cup \Delta'_h \bigr) \Bigr)
    \biggr) =
    \mathcal{M}_{\{\}}\biggl(
    t'_{\text{\it equ}_t}, {\mathcal{R}_1}^*, \Bigl(\Delta' \setminus
    \bigl((\Delta_h \cup \Delta'_t)(t_{\text{\it equ}_h}) \cup \Delta'_h
    \bigr) \Bigr) \biggr) =
    \mathcal{M}_{\{\}}\biggl(
    t'_{\text{\it equ}_t}, {\mathcal{R}_1}^*, \Bigl(\Delta' \setminus
    \bigl(\Delta_h(t_{\text{\it equ}_h}) \cup \Delta'_h
    \bigr) \Bigr) \biggr) =
    \mathcal{M}_{\{\}}\Bigl(t'_{\text{\it equ}_t}, {\mathcal{R}_1}^*,
    \bigl((\Delta_h \cup \Delta'_t) \setminus \Delta_h \bigr) \Bigr) =
    \mathcal{M}_{\{\}}(t'_{\text{\it equ}_t}, {\mathcal{R}_1}^*,
    \Delta'_t) =
    \mathcal{M}_{\{\}}\bigl(t'_{\text{\it equ}_t}, {\mathcal{R}_1}^*,
    (\Delta_{t_h} \cup \Delta'_{t_t}) \bigr) =
    \mathcal{M}_{\{\}}\bigl(
    t_{\text{\it equ}_{t_h}} \wedge t'_{\text{\it equ}_{t_t}},
    {\mathcal{R}_1}^*, (\Delta_{t_h} \cup \Delta'_{t_t}) \bigr)$ for
    $t'_{\text{\it equ}_t} =
    t_{\text{\it equ}_{t_h}} \wedge t'_{\text{\it equ}_{t_t}}$ and
    $t_{\text{\it equ}_h} \not\in \mathpzc{Dom}(\Delta'_t)$, which
    comes from the facts of
    $\mathpzc{Dom}(\Delta'_t) \subseteq \mathpzc{Dom}(\Delta_t)$ s.t.
    $\mathpzc{Dom}(\Delta_h) \cap \mathpzc{Dom}(\Delta_t) = \phi$ with
    $t_{\text{\it equ}_h} \in \mathpzc{Dom}(\Delta_h)$ s.t.
    $\Delta_h \vdash t_{\text{\it equ}_h} : \mathcal{R}_1$. From def. of
    (T-Cat0-xtend-$\infty$), we know
    $t_{\text{\it equ}_{t_h}} \wedge t'_{\text{\it equ}_{t_t}} \not\in
    \mathpzc{Dom}(\Delta_{t_h} \cup \Delta'_{t_t})$, since
    $\mathpzc{Dom}(\Delta_{t_h} \cup \Delta'_{t_t}) = \bigl(
    \mathpzc{Dom}(\Delta_{t_h}) \cup \mathpzc{Dom}(\Delta'_{t_t}) \bigr)
    \subseteq  \bigl(\mathpzc{Dom}(\Delta_{t_h}) \cup \mathpzc{Dom}(
    \Delta_{t_t}) \bigr) = \mathpzc{Dom}(\Delta_{t_h} \cup \Delta_{t_t})$
    s.t. $t_{\text{\it equ}_{t_h}} \wedge t'_{\text{\it equ}_{t_t}} \not\in
    \mathpzc{Dom}(\Delta_{t_h} \cup \Delta_{t_t})$ from def. of
    (T-Cat0-canon-$\infty$). From
    $t_{\text{\it equ}_{t_h}} \wedge t'_{\text{\it equ}_{t_t}} \not\in
    \mathpzc{Dom}(\Delta_{t_h} \cup \Delta'_{t_t})$ as above,
    $\mathcal{M}_{\{\}}\bigl(
    t_{\text{\it equ}_{t_h}} \wedge t'_{\text{\it equ}_{t_t}},
    {\mathcal{R}_1}^*, (\Delta_{t_h} \cup \Delta'_{t_t}) \bigr) =
    \Bigl\{\mathcal{M}\bigl(\Delta_{t_h}(t_{\text{\it equ}_{t_h}}) \bigr),
    t''_2, \cdots t''_l \Bigr\}$, where $\{t''_2, \cdots t''_l\} =
    \mathcal{M}_{\{\}}\Bigl(t'_{\text{\it equ}_{t_t}}, {\mathcal{R}_1}^*,
    (\Delta_{t_h} \cup \Delta'_{t_t}) \setminus
    \bigl((\Delta_{t_h} \cup \Delta'_{t_t})(t_{\text{\it equ}_{t_h}}) \cup
    \Delta'_{t_h} \bigr) \Bigr) =
    \mathcal{M}_{\{\}}\Bigl(t'_{\text{\it equ}_{t_t}}, {\mathcal{R}_1}^*,
    (\Delta_{t_h} \cup \Delta'_{t_t}) \setminus
    \bigl(\Delta_{t_h}(t_{\text{\it equ}_{t_h}}) \cup \Delta'_{t_h} \bigr)
    \Bigr) =
    \mathcal{M}_{\{\}}\bigl(t'_{\text{\it equ}_{t_t}}, {\mathcal{R}_1}^*,
    (\Delta_{t_h} \cup \Delta'_{t_t}) \setminus \Delta_{t_h} \bigr) =
    \mathcal{M}_{\{\}}(t'_{\text{\it equ}_{t_t}}, {\mathcal{R}_1}^*,
    \Delta'_{t_t} ) = \{t'_2, \cdots t'_m \}$ s.t. $m = l$. Therefore,
    from the fact we revealed above as
    $\{t''_2, \cdots t''_l\} = \{t'_2, \cdots t'_m\} =
    \mathcal{M}_{\{\}}(t'_{\text{\it equ}_{t_t}}, {\mathcal{R}_1}^*,
    \Delta'_{t_t} )$ s.t.
    $\Gamma'_2 \vdash t'_2: \mathcal{R}_1, \cdots
    \Gamma'_m \vdash t'_m: \mathcal{R}_1$ with
    $\mathpzc{Dom}(\Gamma'_j) \cap \mathpzc{Dom}(\Gamma'_k) = \phi$ if
    $j \neq k$, and
    $\bigcup_{j=2}^m\mathpzc{Dom}(\Gamma'_j) \subseteq
    \mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_{t_t}(
    t_{\text{\it equ}_{t_t}}) \bigr) \Bigr)$ where $m = l$, we conclude that
    $\{t_2, \cdots t_n\} = 
    \Bigl\{\mathcal{M}\bigl(\Delta_{t_h}(t_{\text{\it equ}_{t_h}}) \bigr),
    t'_2, \cdots t'_m \Bigr\}$ satisfies
    $\Gamma_{t_h} \vdash \mathcal{M}\bigl(\Delta_{t_h}(
    t_{\text{\it equ}_{t_h}}) \bigr): \mathcal{R}_1$ for some $\Gamma_{t_h}$,
    $\Gamma'_2 \vdash t'_2: \mathcal{R}_1, \cdots
    \Gamma'_m \vdash t'_m: \mathcal{R}_1$  by applying induction hypothesis
    on $\Delta_{t_h} \vdash t_{\text{\it equ}_{t_h}} \triangleright
    \mathcal{R}_1$, with
    $\mathpzc{Dom}(\Gamma_{t_h}) \cap \mathpzc{Dom}(\Gamma'_j) = \phi$
    where $2 \le j \le m$, for $\mathpzc{Dom}(\Gamma_{t_h}) \cap
    \bigcup_{j=2}^m\mathpzc{Dom}(\Gamma'_j) = \phi$, since
    $\bigcup_{j=2}^m\mathpzc{Dom}(\Gamma'_j) \subseteq \mathpzc{sub}\Bigl(
    \mathcal{M}\bigl(\Delta_{t_t}(t_{\text{\it equ}_{t_t}}) \bigr) \Bigr)$
    s.t. $\mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_{t_h}(
    t_{\text{\it equ}_{t_h}}) \bigr) \Bigr) \cap \mathpzc{sub}\Bigl(
    \mathcal{M}\bigl(\Delta_{t_t}(t_{\text{\it equ}_{t_t}}) \bigr) \Bigr) =
    \phi$ satsifying $\mathpzc{Dom}(\Gamma_{t_h}) \subseteq
    \mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_{t_h}(
    t_{\text{\it equ}_{t_h}}) \bigr) \Bigr)$ and
    $\bigcup_{j=2}^m\mathpzc{Dom}(\Gamma'_j) \subseteq
    \mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_{t_t}(
    t_{\text{\it equ}_{t_t}}) \bigr) \Bigr)$ respectively, from
    Property \ref{consistency_on_domain_independency} and \ref{dom_of_Gamma}
    applied on the facts of $\Delta_{t_h} \vdash t_{\text{\it equ}_{t_h}}
    \triangleright \mathcal{R}_1$ and $\Delta_{t_t} \vdash
    t_{\text{\it equ}_{t_t}} \triangleright {\mathcal{R}_1}^*$ with the
    constraint of $\mathpzc{Dom}(\Delta_{t_h}) \cap \mathpzc{Dom}(
    \Delta_{t_t}) = \phi$. Then $\bigl(\mathpzc{Dom}(\Gamma_{t_h}) \cup
    \bigcup_{j=2}^m\mathpzc{Dom}(\Gamma'_j) \bigr) \subseteq
    \mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_t(t_{\text{\it equ}_t})
    \bigr) \Bigr)$, since
    $\mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_t(t_{\text{\it equ}_t})
    \bigr) \Bigr) =
    \mathpzc{sub}\bigl(\mathcal{M}(t_{\text{\it equ}_t},
    t_{\text{\it equ}_{t_h}} \wedge t'_{\text{\it equ}_{t_t}},
    {\mathcal{R}_1}^*, \infty, \Delta'_t ) \bigr) =
    \mathpzc{sub}\Bigl(\mathcal{M}\bigl(t_{\text{\it equ}_t},
    t_{\text{\it equ}_{t_h}} \wedge t'_{\text{\it equ}_{t_t}},
    {\mathcal{R}_1}^*, \infty, (\Delta_{t_h} \cup \Delta'_{t_t}) \bigr)
    \Bigr) =
    \mathpzc{sub}\biggl(\Bigl\{\mathcal{M}\bigl(\Delta_{t_h}(
    t_{\text{\it equ}_{t_h}}) \bigr), t'_2, \cdots t'_m \Bigr\} \biggl)
    \supseteq
    \mathpzc{sub}\Bigl(\mathcal{M}\bigl(\Delta_{t_h}(t_{\text{\it equ}_{t_h}})
    \bigr) \Bigr) \cup \bigcup_{j=2}^m\mathpzc{sub}(t'_j) \supseteq
    \mathpzc{Dom}(\Gamma_{t_h}) \cup \bigcup_{j=2}^m\mathpzc{Dom}(
    \Gamma'_j)$ for $\Gamma_{t_h} \vdash \mathcal{M}\bigl(\Delta_{t_h}(
    t_{\text{\it equ}_{t_h}}) \bigr): \mathcal{R}_1$, as desired.
    $\Box$
  \end{Proof}
\end{Claim}


\begin{Claim}
  \label{claim2_for_completeness}
  \[ \begin{array}{l}
      [t_2, \cdots t_n] = \mathcal{M}_{[]}\biggl(t'_{\text{\it equ}_t},
       {\mathcal{R}_1}^+, \Bigl(\Delta' \setminus \bigl(\Delta'(
        t_{\text{\it equ}_h}) \cup \Delta'_h \bigr) \Bigr) \biggr)  \\
         \quad \text{\it where}\ \begin{array}[t]{l}
           \Delta \vdash t \triangleright {\mathcal{R}_1}^+\ \text{\it s.t}\
            \Delta(t) = (t, t_{\text{\it equ}_h} \wedge
             t'_{\text{\it equ}_t}, {\mathcal{R}_1}^+, \infty, \Delta' ),\
              \Delta' = \Delta_h \cup \Delta'_t  \\
           \Delta_h \vdash t_{\text{\it equ}_h} \triangleright
            \mathcal{R}_1\ \text{\it s.t.}\ 
             \Delta_h(t_{\text{\it equ}_h}) = (t_{\text{\it equ}_h}
              t'_{\text{\it equ}_h}, \mathcal{R}_1,
               \mathcal{S}_{\mathpzc{fin}_h}, \Delta'_h )\
                \text{\it for some}\ t'_{\text{\it equ}_h},
                 \mathcal{S}_{\mathpzc{fin}_h}, \Delta'_h.  \\ 
           \Delta_t \vdash t_{\text{\it equ}_t} \triangleright
            {\mathcal{R}_1}^+\ \text{\it s.t.}\
             \Delta_t(t_{\text{\it equ}_t}) =(t_{\text{\it equ}_t},
              t'_{\text{\it equ}_t}, {\mathcal{R}_1}^+,
               \mathcal{S}_{\mathpzc{fin}_t}, \Delta'_t)\
                \text{\it for some}\ t'_{\text{\it equ}_t},
                 \mathcal{S}_{\mathpzc{fin}_t}
         \end{array}  \\
      \mbox{satsifies the following conditions}\\
       \quad \Gamma_1 \vdash t_2: \mathcal{R}_1, \cdots
        \Gamma_n \vdash t_n: \mathcal{R}_1\ \text{\it for some}\
         \Gamma_2, \cdots \Gamma_n\ \text{\it s.t.}\
          \mathpzc{Dom}(\Gamma_j) \cap \mathpzc{Dom}(\Gamma_k) = \phi\
           \text{\it if}\ j \neq k,  \\
       \quad \text{\it and}\ \bigcup_{j=2}^n\mathpzc{Dom}(\Gamma_j)
        \subseteq \mathpzc{sub}\Bigl(\mathcal{M}\bigl(
         \Delta_t(t_{\text{\it equ}_t}) \bigr) \Bigr)
     \end{array}
  \]
  \begin{Proof}
    Proof is similar to Claim \ref{claim1_for_completeness}.
    $\Box$
  \end{Proof}
\end{Claim}


\begin{Claim}
  \label{claim3_for_completeness}
  \[ \begin{array}{l}
      \langle t_2, \cdots t_n\rangle = \mathcal{M}_{\langle\rangle}\biggl(
       t'_{\text{\it equ}_t}, {\mathcal{R}_1}^\downarrow, \Bigl(
        \Delta' \setminus \bigl(\Delta'(t_{\text{\it equ}_h}) \cup
         \Delta'_h \bigr) \Bigr) \biggr)  \\
          \quad \text{\it where}\ \begin{array}[t]{l}
           \Delta \vdash t \triangleright {\mathcal{R}_1}^\downarrow\
            \text{\it s.t}\ \Delta(t) = (t, t_{\text{\it equ}_h} \vee
             t'_{\text{\it equ}_t}, {\mathcal{R}_1}^\downarrow, \infty,
              \Delta' ),\ \Delta' = \Delta_h \cup \Delta'_t  \\
           \Delta_h \vdash t_{\text{\it equ}_h} \triangleright
            \mathcal{R}_1\ \text{\it s.t.}\ 
             \Delta_h(t_{\text{\it equ}_h}) = (t_{\text{\it equ}_h}
              t'_{\text{\it equ}_h}, \mathcal{R}_1,
               \mathcal{S}_{\mathpzc{fin}_h}, \Delta'_h )\
                \text{\it for some}\ t'_{\text{\it equ}_h},
                 \mathcal{S}_{\mathpzc{fin}_h}, \Delta'_h.  \\ 
           \Delta_t \vdash t_{\text{\it equ}_t} \triangleright
            {\mathcal{R}_1}^\downarrow\ \text{\it s.t.}\
             \Delta_t(t_{\text{\it equ}_t}) =(t_{\text{\it equ}_t},
              t'_{\text{\it equ}_t}, {\mathcal{R}_1}^\downarrow,
               \mathcal{S}_{\mathpzc{fin}_t}, \Delta'_t)\
                \text{\it for some}\ t'_{\text{\it equ}_t},
                 \mathcal{S}_{\mathpzc{fin}_t}
         \end{array}  \\
      \mbox{satsifies the following conditions}\\
       \quad \Gamma_1 \vdash t_2: \mathcal{R}_1, \cdots
        \Gamma_n \vdash t_n: \mathcal{R}_1\ \text{\it for some}\
         \Gamma_2, \cdots \Gamma_n\ \text{\it s.t.}\
          \mathpzc{Dom}(\Gamma_j) \cap \mathpzc{Dom}(\Gamma_k) = \phi\
           \text{\it if}\ j \neq k.  \\
       \quad \text{\it and}\ \bigcup_{j=2}^n\mathpzc{Dom}(\Gamma_j)
        \subseteq \mathpzc{sub}\Bigl(\mathcal{M}\bigl(
         \Delta_t(t_{\text{\it equ}_t}) \bigr) \Bigr)
     \end{array}
  \]
  \begin{Proof}
    Proof is similar to Claim \ref{claim2_for_completeness}.
    $\Box$
  \end{Proof}
\end{Claim}


\section*{Implementation}

In this section, we try to implement our logic on microcomputer based
machine. We define implementation oriented deduction rules, examine several
properties i.e. termination property, and implement it using well known
computer language.


\pagebreak
\begin{Definition}[Intuitionistic equivalence for Implementation]
  \label{equality_for_implementation}
  We define the set of $\mathpzc{Equ}(t)$, which consists of equivalent
  terms of $t$, as follows,
  \begin{displaymath}
    \begin{array}{c}
      
      t \in \mathpzc{Equ}(t)  \\
      \\

      \mathpzc{Assoc}_\wedge(t_1, t_2) \subseteq
       \mathpzc{Equ}(t) \quad \text{\it if}\ t = t_1 \wedge t_2\;\;
        \text{\it for some}\ t_1, t_2 \\
      
      \mathpzc{Assoc}_\vee(t_1, t_2) \subseteq
       \mathpzc{Equ}(t) \quad \text{\it if}\  t = t_1 \vee t_2\;\;
        \text{\it for some}\ t_1, t_2  \\
      \\

      \begin{array}{lll}
        t_1 \in \mathpzc{Equ}\bigl(\{t_1\} \bigr)
        & t_1 \in \mathpzc{Equ}\bigl([t_1] \bigr)
        & t_1 \in \mathpzc{Equ}\bigl(\langle t_1 \rangle \bigr)
      \end{array}  \\
      \\

      \begin{array}{ll}
        t_1 \wedge \{t_2, \cdots t_n\} \in
        \mathpzc{Equ}\bigl(\{t_1, t_2, \cdots t_n\} \bigr)
        & t_1 \wedge [t_2, \cdots t_n] \in
        \mathpzc{Equ}\bigl([t_1, t_2, \cdots t_n] \bigr)  \\
        & t_1 \vee \langle t_2, \cdots t_n \rangle \in
        \mathpzc{Equ}\bigl(\langle t_1, t_2, \cdots t_n \rangle \bigr)
      \end{array}  \\
      \\
      
      \begin{array}{ll}
        \begin{array}{l}
          \{\} \wedge t \in \mathpzc{Equ}(t)\quad \text{\it if}\ t \neq \{\}
           \wedge t_1\;\; \text{\it for some}\ t_1.  \\
          
          t \wedge \{\} \in \mathpzc{Equ}(t)\quad \text{\it if}\ t \neq t_1
           \wedge \{\}\;\; \text{\it for some}\ t_1.  \\
        \end{array}
        & \begin{array}{l}
            \circ \wedge t \in \mathpzc{Equ}(t)\quad \text{\it if}\
             t \neq \circ \wedge t_1\;\; \text{\it for some}\ t_1.  \\
             
             t \wedge \circ \in \mathpzc{Equ}(t)\quad \text{\it if}\
              t \neq t_1 \wedge \circ\;\; \text{\it for some}\ t_1.  \\
          \end{array}
      \end{array}  \\
      \\

      \begin{array}{ll}
        \begin{array}{l}
          \{\} \vee t \in \mathpzc{Equ}(t)\quad \text{\it if}\ t \neq \{\}
           \vee t_1\;\; \text{\it for some}\ t_1.  \\
          
           t \vee \{\} \in \mathpzc{Equ}(t)\quad \text{\it if}\ t \neq t_1
            \vee \{\}\;\; \text{\it for some}\ t_1.  \\
        \end{array}
        & \begin{array}{l}
            \circ \vee t \in \mathpzc{Equ}(t)\quad \text{\it if}\
             t \neq \circ \vee t_1\;\; \text{\it for some}\ t_1.  \\
             
             t \vee \circ \in \mathpzc{Equ}(t)\quad \text{\it if}\
             t \neq t_1 \vee \circ\;\; \text{\it for some}\ t_1.
          \end{array}
      \end{array}  \\   
      \\
      
      \begin{array}{ll}
        \begin{array}{ll}
          t_1 \in \mathpzc{Equ}\bigl(\{\} \wedge t_1 \bigr)
          & t_1 \in \mathpzc{Equ}\bigl(t_1 \wedge \{\} \bigr)
        \end{array}
        & \begin{array}{ll}
            t_1 \in \mathpzc{Equ}\bigl(\circ \wedge t_1 \bigr)
            & t_1 \in \mathpzc{Equ}\bigl(t_1 \wedge \circ \bigr)
          \end{array}
      \end{array}  \\
      \\
      
      \begin{array}{ll}
        \begin{array}{ll}
          t_1 \in \mathpzc{Equ}\bigl(\{\} \vee t_1 \bigr)
          & t_1 \in \mathpzc{Equ}\bigl(t_1 \vee \{\} \bigr)
        \end{array}
        & \begin{array}{ll}
            t_1 \in \mathpzc{Equ}\bigl(\circ \vee t_1 \bigr)
            & t_1 \in \mathpzc{Equ}\bigl(t_1 \vee \circ \bigr)
          \end{array}
      \end{array}  \\
      \\
      
      \begin{array}{lll}
        t_1 \in \mathpzc{Equ}({t_1}^?)
        & t_1 \in \mathpzc{Equ}({t_1}^{\leftarrow})
        & t_1 \in \mathpzc{Equ}({t_1}^{\rightarrow})
      \end{array}
      
    \end{array}
  \end{displaymath}
\end{Definition}

where $\mathpzc{Assoc}_\wedge(t_1, t_2)$, $\mathpzc{Assoc}_\vee(t_1, t_2)$
and related functions are as follows.
\begin{displaymath}
  \begin{array}{l}
    \mathpzc{Assoc}_\wedge(t_1, t_2) \stackrel{\mathrm{def}}{:=}
     \mathpzc{Assoc}_\wedge(t_1, t_2, \mathpzc{L_2R}) \cup
      \mathpzc{Assoc}_\wedge(t_1, t_2, \mathpzc{R_2L})  \\
    \\
    
    \mathpzc{Assoc}_\wedge(t_1, t_2, \mathpzc{L_2R})
     \stackrel{\mathrm{def}}{:=} \left\{\begin{array}{l}
       \{t_1 \wedge t_2 \} \quad \text{\it if}\
        t'_1 \wedge t'_2 = t_1 \wedge t_2\ \text{\it where}\
         t'_1 \wedge t'_2 = \mathpzc{assoc_{cas}R}(t_1, t_2)  \\
       
       \{t'_1 \wedge t'_2 \} \cup \mathpzc{Assoc}_\wedge(t'_1, t'_2,
        \mathpzc{L_2R}) \quad \text{\it otherwise}
     \end{array}\right.  \\
    \\
     
    \mathpzc{Assoc}_\wedge(t_1, t_2, \mathpzc{R_2L})
     \stackrel{\mathrm{def}}{:=} \left\{\begin{array}{l}
       \{t_1 \wedge t_2 \} \quad \text{\it if}\
        t'_1 \wedge t'_2 = t_1 \wedge t_2\ \text{\it where}\
         t'_1 \wedge t'_2 = \mathpzc{assoc_{cas}L}(t_1, t_2)  \\
       
       \{t'_1 \wedge t'_2 \} \cup \mathpzc{Assoc}_\wedge(t'_1, t'_2,
        \mathpzc{R_2L}) \quad \text{\it otherwise}
     \end{array}\right.  \\
    \\
    
    \mathpzc{assoc_{cas}R}(t_1, t_2) \stackrel{\mathrm{def}}{:=}
     \left\{\begin{array}{l}
       t_1 \wedge t_2 \quad \text{\it if}\ \mathpzc{una}(t_1)\
        \text{\it or}\ t_1 = t_{1l} \vee t_{1r}  \\
       t_{1l} \wedge (t_{1r} \wedge t_2) \quad \text{\it if}\
        t_1 = t_{1l} \wedge t_{1r}\ \text{\it s.t.}\
         \mathpzc{una}(t_{1r})\ \text{\it or}\
          t_{1r} = t_{{1r}_l} \vee t_{{1r}_r}  \\
        
       \!\!\!\!\begin{array}[t]{l}
         (t_{1l} \wedge t'_{{1r}_l}) \wedge t'_{{1r}_r} \quad
          \text{\it if}\ t_1 = t_{1l} \wedge t_{1r}\ \text{\it s.t.}\
           t_{1r} = t_{{1r}_l} \wedge t_{{1r}_r}  \\
         \quad \text{\it where}\
          t'_{{1r}_l} \wedge t'_{{1r}_r} = \mathpzc{assoc_{cas}R}(
           t_{{1r}_l} \wedge t_{{1r}_r}, t_2 )
       \end{array}  \\
       
       t_1 \wedge t_2 \quad \text{\it otherwise}
    \end{array}\right.
    
  \end{array}
\end{displaymath}

\begin{displaymath}
  \begin{array}{l}
    \mathpzc{assoc_{cas}L}(t_1, t_2) \stackrel{\mathrm{def}}{:=}
      \left\{\begin{array}{l}
        \!\!\!\!\begin{array}[t]{l}
          t_1 \wedge t_2 \quad \text{\it if}\ \mathpzc{una}(t_2)\
           \text{\it or}\ t_2 = t_{2l} \vee t_{2r}
        \end{array}  \\

        \!\!\!\!\begin{array}[t]{l}
          (t_{1} \wedge t_{2l}) \wedge t_{2r} \quad \text{\it if}\
           t_2 = t_{2l} \wedge t_{2r}\ \text{\it s.t.}\
            \mathpzc{una}(t_{2l})\ \text{\it or}\
            t_{2l} = t_{{2l}_l} \vee t_{{2l}_r}
        \end{array}  \\
        
        \!\!\!\!\begin{array}[t]{l}
          t'_{{2l}_l} \wedge (t'_{{2l}_r} \wedge t_{2r}) \quad
           \text{\it if}\ t_2 = t_{2l} \wedge t_{2r}\ \text{\it s.t.}\
            t_{2l} = t_{{2l}_l} \wedge t_{{2l}_r}  \\
          \quad \text{\it where}\
           t'_{{2l}_l} \wedge t'_{{2l}_r} = \mathpzc{assoc_{cas}L}(
            t_1, t_{{2l}_l} \wedge t_{{2l}_r})
        \end{array}  \\
        
       t_1 \wedge t_2 \quad \text{\it otherwise}
     \end{array}\right.  \\
    \\

    \mathpzc{Assoc}_\vee(t_1, t_2) \stackrel{\mathrm{def}}{:=}
     \mathpzc{Assoc}_\vee(t_1, t_2, \mathpzc{L_2R}) \cup
      \mathpzc{Assoc}_\vee(t_1, t_2, \mathpzc{R_2L})  \\
    \\
     
    \mathpzc{Assoc}_\vee(t_1, t_2, \mathpzc{L_2R})
     \stackrel{\mathrm{def}}{:=} \left\{\begin{array}{l}
       \{t_1 \vee t_2 \} \quad \text{\it if}\
        t'_1 \vee t'_2 = t_1 \vee t_2\ \text{\it where}\ t'_1 \vee t'_2
         = \mathpzc{assoc_{par}R}(t_1, t_2)  \\
       
       \{t'_1 \vee t'_2 \} \cup \mathpzc{Assoc}_\vee(t'_1, t'_2,
        \mathpzc{L_2R}) \quad \text{\it otherwise}
     \end{array}\right.  \\
    \\
    
    \mathpzc{Assoc}_\vee(t_1, t_2, \mathpzc{R_2L})
     \stackrel{\mathrm{def}}{:=} \left\{\begin{array}{l}
       \{t_1 \vee t_2 \} \quad \text{\it if}\
        t'_1 \vee t'_2 = t_1 \vee t_2\ \text{\it where}\
         \ t'_1 \vee t'_2 = \mathpzc{assoc_{par}L}(t_1, t_2)  \\
       
       \{t'_1 \vee t'_2 \} \cup \mathpzc{Assoc}_\vee(t'_1, t'_2,
        \mathpzc{R_2L}) \quad \text{\it otherwise}
     \end{array}\right.  \\
    \\
    
    \mathpzc{assoc_{par}R}(t_1, t_2) \stackrel{\mathrm{def}}{:=}
     \left\{\begin{array}{l}
       t_1 \vee t_2 \quad \text{\it if}\ \mathpzc{una}(t_1)\
        \text{\it or}\ t_1 = t_{1l} \wedge t_{1r}  \\
       t_{1l} \vee (t_{1r} \vee t_2) \quad \text{\it if}\
        t_1 = t_{1l} \vee t_{1r}\ \text{\it s.t.}\
         \mathpzc{una}(t_{1r})\ \text{\it or}\
          t_{1r} = t_{{1r}_l} \wedge t_{{1r}_r}  \\
        
       \!\!\!\!\begin{array}[t]{l}
         (t_{1l} \vee t'_{{1r}_l}) \vee t'_{{1r}_r} \quad
          \text{\it if}\ t_1 = t_{1l} \vee t_{1r}\ \text{\it s.t.}\
           t_{1r} = t_{{1r}_l} \vee t_{{1r}_r}  \\
         \quad \text{\it where}\
          t'_{{1r}_l} \vee t'_{{1r}_r} = \mathpzc{assoc_{par}R}(
           t_{{1r}_l} \vee t_{{1r}_r}, t_2)
       \end{array}  \\
       
       t_1 \vee t_2 \quad \text{\it otherwise}
     \end{array}\right.  \\
    \\
     
    \mathpzc{assoc_{par}L}(t_1, t_2) \stackrel{\mathrm{def}}{:=}
     \left\{\begin{array}{l}
       t_1 \vee t_2 \quad \text{\it if}\ \mathpzc{una}(t_2)\
        \text{\it or}\ t_2 = t_{2l} \wedge t_{2r}  \\
       (t_{1} \vee t_{2l}) \vee t_{2r} \quad \text{\it if}\
        t_2 = t_{2l} \vee t_{2r}\ \text{\it s.t.}\
         \mathpzc{una}(t_{2l})\ \text{\it or}\
          t_{2l} = t_{{2l}_l} \wedge t_{{2l}_r}  \\
       \!\!\!\!\begin{array}[t]{l}
         t'_{{2l}_l} \vee (t'_{{2l}_r} \vee t_{2r}) \quad
          \text{\it if}\ t_2 = t_{2l} \vee t_{2r}\ \text{\it s.t.}\
           t_{2l} = t_{{2l}_l} \vee t_{{2l}_r}  \\
         
         \quad \text{\it where}\
          t'_{{2l}_l} \vee t'_{{2l}_r} = \mathpzc{assoc_{par}L}(
           t_1, t_{{2l}_l} \vee t_{{2l}_r})
       \end{array}  \\
       
       t_1 \vee t_2 \quad \text{\it otherwise}
     \end{array}\right.  \\
    \\
    
    \mathpzc{una}(t) \stackrel{\mathrm{def}}{:=} \left\{\begin{array}{l}
      \text{\it true}\quad \text{\it if}\
       \left\{\begin{array}{l}
         t = t_0\ \text{\it s.t.}\ (t_0, \mathcal{R}_0) \in \Gamma_{gnd}  \\
         t = t_1\ \text{\it s.t.}\ (t_1, \mathcal{R}_1) \in \Gamma_{def}  \\
         t \in \bigl\{\{\}, \circ \bigr\}  \\
         t = \{t_1, \cdots t_n\}\ \text{\it s.t.}\ n \ge 1  \\
         t = [t_1, \cdots t_n]\ \text{\it s.t.}\ n \ge 1  \\
         t = \langle t_1, \cdots t_n \rangle\ \text{\it s.t.}\ n \ge 1  \\
         t = {t_1}^?  \\
         t = {t_1}^\leftarrow  \\
         t = {t_1}^\rightarrow
       \end{array}\right.  \\
       \\
       \text{\it false}\quad \text{\it otherwise}
    \end{array}\right.
    
  \end{array}
\end{displaymath}


\begin{Property}
  \label{property1_for_semiequiv_impl}
  \[ t'_1 \wedge t'_2 \simeq t_1 \wedge t_2\ \text{\it where}\
      t'_1 \wedge t'_2 = \mathpzc{assoc_{cas}R}(t_1, t_2).
  \]
  \begin{Proof}
    Proof is simple structual induction on $t_1$ of $(t_1, t_2)$.
    
    From def. of $\mathpzc{assoc_{cas}R}(t_1, t_2)$, Here are
    the only 2 cases to be considered. For one case, which
    $t_1 = t_{1l} \wedge t_{1r}$ s.t. $t_{1r}$ satisfies
    $\mathpzc{una}(t_{1r})$ or $t_{1r}$ has the form of
    $t_{1r} = t_{{1r}_l} \vee t_{{1r}_r}$, it's trivial from def. of
    $\mathpzc{assoc_{cas}R}(t_1, t_2)$ with a derivation as
    below.\vspace{-7mm}
    \def\proofSkipAmount{\vskip.8ex plus.8ex minus.4ex}
    \begin{prooftree}
      \AxiomC{}
      \UnaryInfC{$(t_{1l} \wedge t_{1r}) \wedge t_2 \equiv
        (t_{1l} \wedge t_{1r}) \wedge t_2$}
      \LeftLabel{$(\text{\it Identity})$}
      \UnaryInfC{$(t_{1l} \wedge t_{1r}) \wedge t_2 \simeq
        (t_{1l} \wedge t_{1r}) \wedge t_2$}
      
      \RightLabel{$(\text{\it Associativity-Cas}_{\mathpzc{R}})$}
      \UnaryInfC{$(t_{1l} \wedge t_{1r}) \wedge t_2 \simeq
        t_{1l} \wedge (t_{1r} \wedge t_2)$}

      \LeftLabel{$(\text{\it Symmetry})$}
      \UnaryInfC{$t_{1l} \wedge (t_{1r} \wedge t_2) \simeq
        (t_{1l} \wedge t_{1r}) \wedge t_2$}
      
      \RightLabel{$(t_1 = t_{1l} \wedge t_{1r})$}
      \UnaryInfC{$t_{1l} \wedge (t_{1r} \wedge t_2) \simeq t_1 \wedge t_2$}
      
      \LeftLabel{$\bigl(\mathpzc{assoc_{cas}R}(t_1, t_2) =
        t_{1l} \wedge (t_{1r} \wedge t_2) \bigr)$}
      \UnaryInfC{$\mathpzc{assoc_{cas}R}(t_1, t_2) \simeq t_1 \wedge t_2$}
    \end{prooftree}
    
    For another case as $t_1 = t_{1l} \wedge (t_{{1r}_l} \wedge t_{{1r}_r})$.
    By induction hypotheses we suppose
    $t'_{{1r}_l} \wedge t'_{{1r}_r} \simeq (t_{{1r}_l} \wedge
    t_{{1r}_r}) \wedge t_2 = t_{1r} \wedge t_2$ where
    $t'_{{1r}_l} \wedge t'_{{1r}_r}
    = \mathpzc{assoc_{cas}R}(t_{{1r}_l} \wedge t_{{1r}_r}, t_2)
    = \mathpzc{assoc_{cas}R}(t_{1r}, t_2)$ for some
    $t'_{{1r}_l}$ and $t'_{{1r}_r}$.
    Consequently we find a deduction for
    $\mathpzc{assoc_{cas}R}(t_1, t_2) \simeq  t_1 \wedge t_2$ as
    follow.\vspace{-7mm}
    \def\proofSkipAmount{\vskip.8ex plus.8ex minus.4ex}
    \begin{prooftree}
      \AxiomC{}
      \UnaryInfC{$(t_{1l} \wedge t_{1r}) \wedge t_2 \equiv
        (t_{1l} \wedge t_{1r}) \wedge t_2$}
      \LeftLabel{$(\text{\it Identity})$}
      \UnaryInfC{$(t_{1l} \wedge t_{1r}) \wedge t_2 \simeq
        (t_{1l} \wedge t_{1r}) \wedge t_2$}
      
      \RightLabel{$(\text{\it Associativity-Cas}_{\mathpzc{R}})$}
      \UnaryInfC{$(t_{1l} \wedge t_{1r}) \wedge t_2 \simeq
        t_{1l} \wedge (t_{1r} \wedge t_2)$}
      
      \LeftLabel{$(\text{\it Symmetry})$}
      \UnaryInfC{$t_{1l} \wedge (t_{1r} \wedge t_2) \simeq
        (t_{1l} \wedge t_{1r}) \wedge t_2$}
    \end{prooftree}
    
    \begin{prooftree}
      \AxiomC{$t'_{{1r}_l} \wedge t'_{{1r}_r} \simeq t_{1r} \wedge t_2$
        \ by I.H.}
      
      \RightLabel{$(\text{\it Transparency-Cas})$}
      \UnaryInfC{$t_{1l} \wedge \bigl(t'_{{1r}_l} \wedge t'_{{1r}_r} \bigr)
        \simeq t_{1l} \wedge (t_{1r} \wedge t_2)$}
      
      \AxiomC{$t_{1l} \wedge (t_{1r} \wedge t_2) \simeq
        (t_{1l} \wedge t_{1r}) \wedge t_2$}
      \BinaryInfC{$t_{1l} \wedge \bigl(t'_{{1r}_l} \wedge t'_{{1r}_r} \bigr)
        \simeq (t_{1l} \wedge t_{1r}) \wedge t_2$
        \ from $(\text{\it Transitivity})$}

      \LeftLabel{$(\text{\it Symmetry})$}
      \UnaryInfC{$(t_{1l} \wedge t_{1r}) \wedge t_2 \simeq
        t_{1l} \wedge \bigl(t'_{{1r}_l} \wedge t'_{{1r}_r} \bigr)$}
      
      \RightLabel{$(\text{\it Associativity-Cas}_{\mathpzc{L}})$}
      \UnaryInfC{$(t_{1l} \wedge t_{1r}) \wedge t_2 \simeq
        \bigl(t_{1l} \wedge t'_{{1r}_l}\bigr) \wedge t'_{{1r}_r}$}
      
      \LeftLabel{$(t_1 = t_{1l} \wedge t_{1r})$}
      \UnaryInfC{$t_1 \wedge t_2 \simeq
        \bigl(t_{1l} \wedge t'_{{1r}_l}\bigr) \wedge t'_{{1r}_r}$}
      
      \LeftLabel{$(\text{\it Symmetry})$}      
      \UnaryInfC{$\bigl(t_{1l} \wedge t'_{{1r}_l} \bigr) \wedge t'_{{1r}_r}
        \simeq t_1 \wedge t_2$}
      
      \RightLabel{$\Bigl(\mathpzc{assoc_{cas}R}(t_1, t_2) =
        \bigl(t_{1l} \wedge t'_{{1r}_l} \bigr) \wedge t'_{{1r}_r} \Bigr)$}
      \UnaryInfC{$\mathpzc{assoc_{cas}R}(t_1, t_2) \simeq  t_1 \wedge t_2$}
    \end{prooftree}
    $\Box$
  \end{Proof}
\end{Property}


\begin{Property}
  \label{property2_for_semiequiv_impl}
  \[ \mathpzc{size}(t_1) > \mathpzc{size}(t'_1)\;\;
      \text{\it if}\ t_1 \wedge t_2 \neq t'_1 \wedge t'_2,\
       \text{\it where}\
        t'_1 \wedge t'_2 = \mathpzc{assoc_{cas}R}(t_1, t_2).
  \]
  \begin{Proof}
    Proof is simple induction on structure of $t_1$ according to def. of
    $\mathpzc{assoc_{cas}R}(t_1, t_2)$.
    
    We are considering for each case of the structure on $(t_1, t_2)$.
    For the case that $t_1$ satisfies $\mathpzc{una}(t_1)$ or has the form
    of $t_1 = t_{1l} \vee t_{1r}$ for some $t_{1l}$ and $t_{1r}$, it's
    obvious for $t_1 \wedge t_2 = \mathpzc{assoc_{cas}R}(t_1, t_2)$.
    
    Then, we consider the case that $t_1 = t_{1l} \wedge t_{1r}$
    where $t_{1r}$ satisfies $\mathpzc{una}(t_{1r})$ or
    has the form of $t_{1r} = t_{{1r}_l} \vee t_{{1r}_r}$.
    It's trivial as
    $\mathpzc{size}(t_1) = \mathpzc{size}(t_{1l} \wedge t_{1r}) >
    \mathpzc{size}(t_{1l})$ where
    $t_{1l} \wedge (t_{1r} \wedge t_2) = \mathpzc{assoc_{cas}R}(t_1, t_2)$.
    
    Finally, for the remaining case that $t_1 = t_{1l} \wedge t_{1r}$
    s.t. $t_{1r} = t_{{1r}_l} \wedge t_{{1r}_r}$ to be considered, we
    suppose
    $t'_{{1r}_l} \wedge t'_{{1r}_r} = \mathpzc{assoc_{cas}R}(t_{{1r}_l}
    \wedge t_{{1r}_r}, t_2 ) = \mathpzc{assoc_{cas}R}(t_{1r}, t_2)$.
    For the case of $t'_{{1r}_l} \wedge t'_{{1r}_r} = t_{1r} \wedge t_2$,
    which implies the facts of $t'_{{1r}_l} = t_{1r}$ and
    $t'_{{1r}_r} = t_2$. Therefore prerequisite isn't satisfied, i.e.
    $t_1 \wedge t_2 = t'_1 \wedge t'_2$ where
    $t'_1 \wedge t'_2 = \mathpzc{assoc_{cas}R}(t_1, t_2)$, since
    $\mathpzc{assoc_{cas}R}(t_1, t_2) =
    (t_{1l} \wedge t'_{{1r}_l}) \wedge t'_{{1r}_r} =
    (t_{1l} \wedge t_{1r}) \wedge t_2 = t_1 \wedge t_2$.
    Otherwise, i.e. $t'_{{1r}_l} \wedge t'_{{1r}_r} \neq t_{1r} \wedge t_2$,
    we know $\mathpzc{size}(t_{1r}) > \mathpzc{size}(t'_{{1r}_l})$ by
    induction hypotheses, thus
    $\mathpzc{size}(t_1) = \mathpzc{size}(t_{1l} \wedge t_{1r})
    = \mathpzc{size}(t_{1l}) \wedge \mathpzc{size}(t_{1r}) + 1
    > \mathpzc{size}(t_{1l}) \wedge \mathpzc{size}(t'_{{1r}_l}) + 1
    = \mathpzc{size}(t_{1l} \wedge t'_{{1r}_l})
    = \mathpzc{size}(t'_1)$ as desired.
    $\Box$
  \end{Proof}
\end{Property}


\begin{Property}
  \label{property3_for_semiequiv_impl}
  \[ t'_1 \wedge t'_2 \simeq t_1 \wedge t_2\ \text{\it where}\
      t'_1 \wedge t'_2 = \mathpzc{assoc_{cas}L}(t_1, t_2).
  \]
  \begin{Proof}
    Proof is simlar to previous Property \ref{property1_for_semiequiv_impl}
    with following deductions.\vspace{-7mm}
    \def\proofSkipAmount{\vskip.8ex plus.8ex minus.4ex}
    \begin{prooftree}
      \AxiomC{}
      \UnaryInfC{$t_1 \wedge (t_{2l} \wedge t_{2r}) \equiv
        t_1 \wedge (t_{2l} \wedge t_{2r})$}
      \LeftLabel{$(\text{\it Identity})$}
      \UnaryInfC{$t_1 \wedge (t_{2l} \wedge t_{2r}) \simeq
        t_1 \wedge (t_{2l} \wedge t_{2r})$}
      
      \RightLabel{$(\text{\it Associativity-Cas}_{\mathpzc{L}})$}
      \UnaryInfC{$t_1 \wedge (t_{2l} \wedge t_{2r}) \simeq
        (t_1 \wedge t_{2l}) \wedge t_{2r}$}
      
      \LeftLabel{$(\text{\it Symmetry})$}
      \UnaryInfC{$(t_1 \wedge t_{2l}) \wedge t_{2r} \simeq
        t_1 \wedge (t_{2l} \wedge t_{2r})$}
      
      \RightLabel{$(t_2 = t_{2l} \wedge t_{2r})$}
      \UnaryInfC{$(t_1 \wedge t_{2l}) \wedge t_{2r} \simeq t_1 \wedge t_2$}
      
      \LeftLabel{$\bigl(\mathpzc{assoc_{cas}L}(t_1, t_2) =
        (t_1 \wedge t_{2l}) \wedge t_{2r} \bigr)$}
      \UnaryInfC{$\mathpzc{assoc_{cas}L}(t_1, t_2) \simeq t_1 \wedge t_2$}
    \end{prooftree}
    
    \begin{prooftree}
      \AxiomC{}
      \UnaryInfC{$t_1 \wedge (t_{2l} \wedge t_{2r}) \equiv
        t_1 \wedge (t_{2l} \wedge t_{2r})$}
      \LeftLabel{$(\text{\it Identity})$}
      \UnaryInfC{$t_1 \wedge (t_{2l} \wedge t_{2r}) \simeq
        t_1 \wedge (t_{2l} \wedge t_{2r})$}
      
      \RightLabel{$(\text{\it Associativity-Cas}_{\mathpzc{L}})$}
      \UnaryInfC{$t_1 \wedge (t_{2l} \wedge t_{2r}) \simeq
        (t_1 \wedge t_{2l}) \wedge t_{2r}$}
      
      \LeftLabel{$(\text{\it Symmetry})$}
      \UnaryInfC{$ (t_1 \wedge t_{2l}) \wedge t_{2r} \simeq
        t_1 \wedge (t_{2l} \wedge t_{2r})$}
    \end{prooftree}
    
    \begin{prooftree}
      \AxiomC{$t'_{{2l}_l} \wedge t'_{{2l}_r} \simeq t_1 \wedge t_{2l}$
        \ by I.H.}
      
      \RightLabel{$(\text{\it Transparency-Cas})$}
      \UnaryInfC{$\bigl(t'_{{2l}_l} \wedge t'_{{2l}_r} \bigr) \wedge t_{2r}
        \simeq (t_1 \wedge t_{2l}) \wedge t_{2r}$}
      
      \AxiomC{$ (t_1 \wedge t_{2l}) \wedge t_{2r} \simeq
        t_1 \wedge (t_{2l} \wedge t_{2r})$}
      
      \BinaryInfC{$\bigl(t'_{{2l}_l} \wedge t'_{{2l}_r} \bigr) \wedge t_{2r}
        \simeq  t_1 \wedge (t_{2l} \wedge t_{2r})$
        \ from $(\text{\it Transitivity})$}
      
      \LeftLabel{$(\text{\it Symmetry})$}
      \UnaryInfC{$t_1 \wedge (t_{2l} \wedge t_{2r}) \simeq
        \bigl(t'_{{2l}_l} \wedge t'_{{2l}_r} \bigr) \wedge t_{2r}$}
      
      \RightLabel{$(\text{\it Associativity-Cas}_{\mathpzc{R}})$}
      \UnaryInfC{$t_1 \wedge (t_{2l} \wedge t_{2r}) \simeq
        t'_{{2l}_l} \wedge \bigl(t'_{{2l}_r} \wedge t_{2r} \bigr)$}
      
      \LeftLabel{$(t_2 = t_{2l} \wedge t_{2r})$}
      \UnaryInfC{$t_1 \wedge t_2 \simeq
        t'_{{2l}_l} \wedge \bigl(t'_{{2l}_r} \wedge t_{2r} \bigr)$}
      
      \LeftLabel{$(\text{\it Symmetry})$}
      \UnaryInfC{$t'_{{2l}_l} \wedge \bigl(t'_{{2l}_r} \wedge t_{2r} \bigr)
        \simeq t_1 \wedge t_2$}

      \RightLabel{$\Bigl(\mathpzc{assoc_{cas}L}(t_1, t_2) =
        t'_{{2l}_l} \wedge \bigl(t'_{{2l}_r} \wedge t_{2r} \bigr) \Bigr)$}
      \UnaryInfC{$\mathpzc{assoc_{cas}L}(t_1, t_2) \simeq  t_1 \wedge t_2$}
    \end{prooftree}
    $\Box$
  \end{Proof}
\end{Property}


\begin{Property}
  \label{property4_for_semiequiv_impl}
  \[ \mathpzc{size}(t_2) > \mathpzc{size}(t'_2)\;\;
      \text{\it if}\ t_1 \wedge t_2 \neq t'_1 \wedge t'_2,\
       \text{\it where}\
        t'_1 \wedge t'_2 = \mathpzc{assoc_{cas}L}(t_1, t_2).
  \]
  \begin{Proof}
    Proof is similar to Property \ref{property2_for_semiequiv_impl}.
    $\Box$
  \end{Proof}
\end{Property}

\begin{Property}
  \label{property5_for_semiequiv_impl}
  \[ t' \simeq t_1 \wedge t_2\;\; \text{\it for any}\
      t' \in \mathpzc{Assoc}_\wedge(t_1, t_2, \mathpzc{L_2R})
  \]
  \begin{Proof}
    Proof is induction on structure of $(t_1, t_2)$ with the ordering
    scheme as below.
    \[ \begin{array}{l}
         (t_1, t_2) > (t'_1, t'_2) \quad
          \text{\it if}\ \mathpzc{size}(t_1) > \mathpzc{size}(t'_1)  \\
         (t_1, t_2) > (t'_1, t'_2) \quad
          \text{\it if}\ \mathpzc{size}(t_1) = \mathpzc{size}(t'_1)\
           \text{\it and}\ \mathpzc{size}(t_2) > \mathpzc{size}(t'_2)  \\
         (t_1, t_2) = (t'_1, t'_2) \quad \text{\it otherwise}
       \end{array}
    \]
    From def. of $\mathpzc{Assoc}_\wedge(t_1, t_2, \mathpzc{L_2R})$,
    we suppose $t'_1 \wedge t'_2 = t_1 \wedge t_2$ where
    $t'_1 \wedge t'_2 = \mathpzc{assoc_{cas}R}(t_1, t_2)$.
    In this case we know $\mathpzc{Assoc}_\wedge(t_1, t_2, \mathpzc{L_2R})
    = \{t_1 \wedge t_2\}$, and it's trivial that
    $t_1 \wedge t_2 \simeq t_1 \wedge t_2$ from Identity.
    Otherwise, i.e. $t'_1 \wedge t'_2 \neq t_1 \wedge t_2$, we also know
    that $\mathpzc{Assoc}_\wedge(t_1, t_2, \mathpzc{L_2R}) =
    \{t'_1 \wedge t'_2\} \cup \mathpzc{Assoc}_\wedge(t'_1, t'_2,
    \mathpzc{L_2R})$ from def. of
    $\mathpzc{Assoc}_\wedge(t_1, t_2, \mathpzc{L_2R})$. From Property
    \ref{property1_for_semiequiv_impl},
    $t'_1 \wedge t'_2 \simeq t_1 \wedge t_2$ where
    $t'_1 \wedge t'_2 = \mathpzc{assoc_{cas}R}(t_1, t_2)$. We still know
    the fact of $\mathpzc{size}(t_1) > \mathpzc{size}(t'_1)$ from Property
    \ref{property2_for_semiequiv_impl}, thus for any
    $t'' \in \mathpzc{Assoc}_\wedge(t'_1, t'_2, \mathpzc{L_2R})$ satisfies
    $t'' \simeq t'_1 \wedge t'_2$ by induction hypotheses according to
    above ordering scheme.
    Accounting on the fact of $t'_1 \wedge t'_2 \simeq t_1 \wedge t_2$ as
    above, we can say that $t' \simeq t_1 \wedge t_2$ for any
    $t' \in \bigl(\{t'_1 \wedge t'_2\} \cup
    \mathpzc{Assoc}_\wedge(t'_1, t'_2, \mathpzc{L_2R}) \bigr) =
    \mathpzc{Assoc}_\wedge(t_1, t_2, \mathpzc{L_2R})$ from Transitivity.
    $\Box$
  \end{Proof}
\end{Property}


\begin{Property}
  \label{property6_for_semiequiv_impl}
  \[ t' \simeq t_1 \wedge t_2\;\; \text{\it for any}\
      t' \in \mathpzc{Assoc}_\wedge(t_1, t_2, \mathpzc{R_2L})
  \]
  \begin{Proof}
    Proof is similar to Property \ref{property5_for_semiequiv_impl}
    using Property \ref{property3_for_semiequiv_impl},
    \ref{property4_for_semiequiv_impl} with
    the ordering scheme as follow.
    \[ \begin{array}{l}
         (t_1, t_2) > (t'_1, t'_2) \quad
          \text{\it if}\ \mathpzc{size}(t_2) > \mathpzc{size}(t'_2)  \\
         (t_1, t_2) > (t'_1, t'_2) \quad
          \text{\it if}\ \mathpzc{size}(t_2) = \mathpzc{size}(t'_2)\
           \text{\it and}\ \mathpzc{size}(t_1) > \mathpzc{size}(t'_1)  \\
         (t_1, t_2) = (t'_1, t'_2) \quad \text{\it otherwise}
    \end{array}
    \]
    $\Box$
  \end{Proof}
\end{Property}


\begin{Lemma}
  \label{semiequivalency_on_implementation}
  \[ t \simeq t'\ \text{\it where}\ t' \in \mathpzc{Equ}(t)
  \]
  \begin{Proof}
    Proof is induction on structure of $t$ according to def. of
    $\mathpzc{Equ}(t)$.

    Case $t_0 \ \text{\it s.t.}\; (t_0, \mathcal{R}_0) \in \Gamma_{gnd}$:
    It's obvious that
    $\mathpzc{Equ}(t_0) = \bigl\{t_0, \{\} \wedge t_0, t_0 \wedge \{\},
    \{\} \vee t_0, t_0 \vee \{\}, \circ \wedge t_0, t_0 \wedge \circ,
    \circ \vee t_0, t_0 \vee \circ \bigr\}$ from def. of
    $\mathpzc{Equ}(t)$, thus we can easily see its equivalence.
    $t_0 \simeq t_0$ is by Identity. For
    $\{\} \wedge t_0$, $t_0 \wedge \{\}$ and
    $\{\} \vee t_0$, $t_0 \vee \{\}$ are also trivial as
    follows.\vspace{-7mm}
    \def\proofSkipAmount{\vskip.8ex plus.8ex minus.4ex}
    \begin{prooftree}
      \AxiomC{}
      \UnaryInfC{$t_0 \equiv t_0$}
      \LeftLabel{$(\text{\it Identity})$}
      \UnaryInfC{$t_0 \simeq t_0$}
      
      \RightLabel{$(\text{\it PhonyH-Cas}_{\{\}})$}
      \UnaryInfC{$t_0 \simeq \{\} \wedge t_0$}
      
      \AxiomC{}
      \UnaryInfC{$t_0 \equiv t_0$}
      \LeftLabel{$(\text{\it Identity})$}
      \UnaryInfC{$t_0 \simeq t_0$}
      
      \RightLabel{$(\text{\it PhonyT-Cas}_{\{\}})$}
      \UnaryInfC{$t_0 \simeq t_0 \wedge \{\}$}
      
      \noLine
      \BinaryInfC{}
    \end{prooftree}
    \begin{prooftree}
      \AxiomC{}
      \UnaryInfC{$t_0 \equiv t_0$}
      \LeftLabel{$(\text{\it Identity})$}
      \UnaryInfC{$t_0 \simeq t_0$}
      
      \RightLabel{$(\text{\it PhonyH-Par}_{\{\}})$}
      \UnaryInfC{$t_0 \simeq \{\} \vee t_0$}
      
      \AxiomC{}
      \UnaryInfC{$t_0 \equiv t_0$}
      \LeftLabel{$(\text{\it Identity})$}
      \UnaryInfC{$t_0 \simeq t_0$}
      
      \RightLabel{$(\text{\it PhonyT-Par}_{\{\}})$}
      \UnaryInfC{$t_0 \simeq t_0 \vee \{\}$}
      
      \noLine
      \BinaryInfC{}
    \end{prooftree}
    For $\circ \wedge t_0$, $t_0 \wedge \circ$ and $\circ \vee t_0$,
    $t_0 \vee \circ$ are similar as follows.\vspace{-7mm}
    \def\proofSkipAmount{\vskip.8ex plus.8ex minus.4ex}
    \begin{prooftree}
      \AxiomC{}
      \UnaryInfC{$t_0 \equiv t_0$}
      \LeftLabel{$(\text{\it Identity})$}
      \UnaryInfC{$t_0 \simeq t_0$}
      
      \RightLabel{$(\text{\it PhonyH-Cas}_\circ)$}
      \UnaryInfC{$t_0 \simeq \circ \wedge t_0$}
      
      \AxiomC{}
      \UnaryInfC{$t_0 \equiv t_0$}
      \LeftLabel{$(\text{\it Identity})$}
      \UnaryInfC{$t_0 \simeq t_0$}
      
      \RightLabel{$(\text{\it PhonyT-Cas}_\circ)$}
      \UnaryInfC{$t_0 \simeq t_0 \wedge \circ$}
      
      \noLine
      \BinaryInfC{}
    \end{prooftree}
    \begin{prooftree}
      \AxiomC{}
      \UnaryInfC{$t_0 \equiv t_0$}
      \LeftLabel{$(\text{\it Identity})$}
      \UnaryInfC{$t_0 \simeq t_0$}
      
      \RightLabel{$(\text{\it PhonyH-Par}_\circ)$}
      \UnaryInfC{$t_0 \simeq \circ \vee t_0$}
      
      \AxiomC{}
      \UnaryInfC{$t_0 \equiv t_0$}
      \LeftLabel{$(\text{\it Identity})$}
      \UnaryInfC{$t_0 \simeq t_0$}
      
      \RightLabel{$(\text{\it PhonyT-Par}_\circ)$}
      \UnaryInfC{$t_0 \simeq t_0 \vee \circ$}
      
      \noLine
      \BinaryInfC{}
    \end{prooftree}
    And remaining cases on $\mathpzc{Equ}$ are excluded from
    syntax directness of $t = t_0$.
    
    Case $t_1 \ \text{\it s.t.}\; (t_1, \mathcal{R}_1) \in \Gamma_{def}$:
    Similar to the case of
    $t_0 \ \text{\it s.t.}\; (t_0, \mathcal{R}_0) \in \Gamma_{gnd}$.
    
    Case $t_1 \wedge t_2$:
    $t_1 \wedge t_2 \simeq t_1 \wedge t_2$ s.t.
    $t_1 \wedge t_2 \in \mathpzc{Equ}(t_1 \wedge t_2)$ is trivially
    from Identity. Next, we know that $t' \simeq t_1 \wedge t_2$
    for any $t' \in \mathpzc{Assoc}_\wedge(t_1, t_2)$ where
    $\mathpzc{Assoc}_\wedge(t_1, t_2) =
    \bigl(\mathpzc{Assoc}_\wedge(t_1, t_2, \mathpzc{L_2R}) \cup
    \mathpzc{Assoc}_\wedge(t_1, t_2, \mathpzc{R_2L}) \bigr) \subseteq
    \mathpzc{Equ}(t_1 \wedge t_2)$, since $t'' \simeq t_1 \wedge t_2$ for
    both $t'' \in \mathpzc{Assoc}_\wedge(t_1, t_2, \mathpzc{L_2R})$ and
    $t'' \in \mathpzc{Assoc}_\wedge(t_1, t_2, \mathpzc{R_2L)}$ from
    Property \ref{property5_for_semiequiv_impl} and
    \ref{property6_for_semiequiv_impl} respectively. For any cases of
    $t \in \bigl\{ \{\} \wedge t_2, t_1 \wedge \{\},
    \circ \wedge t_2, t_1 \wedge \circ, \bigr\}$, we can derive its
    equivalence as follows.\vspace{-7mm}
    \begin{prooftree}
      \AxiomC{}
      \UnaryInfC{$\{\} \wedge t_2 \equiv \{\} \wedge t_2$}
      \RightLabel{$(\text{\it Identity})$}
      \UnaryInfC{$\{\} \wedge t_2 \simeq \{\} \wedge t_2$}
      
      \RightLabel{$(\text{\it RevealH-Cas}_{\{\}})$}
      \UnaryInfC{$\{\} \wedge t_2 \simeq t_2$}
      
      \AxiomC{}
      \UnaryInfC{$t_1 \wedge \{\} \equiv t_1 \wedge \{\}$}
      \RightLabel{$(\text{\it Identity})$}
      \UnaryInfC{$t_1 \wedge \{\} \simeq t_1 \wedge \{\}$}
      
      \RightLabel{$(\text{\it RevealT-Cas}_{\{\}})$}
      \UnaryInfC{$t_1 \wedge \{\} \simeq t_1$}
      
      \noLine
      \BinaryInfC{}
    \end{prooftree}
    \begin{prooftree}
      \AxiomC{}
      \UnaryInfC{$\circ \wedge t_2 \equiv \circ \wedge t_2$}
      \RightLabel{$(\text{\it Identity})$}
      \UnaryInfC{$\circ \wedge t_2 \simeq \circ \wedge t_2$}
      
      \RightLabel{$(\text{\it RevealH-Cas}_\circ)$}
      \UnaryInfC{$\circ \wedge t_2 \simeq t_2$}
      
      \AxiomC{}
      \UnaryInfC{$t_1 \wedge \circ \equiv t_1 \wedge \circ$}
      \RightLabel{$(\text{\it Identity})$}
      \UnaryInfC{$t_1 \wedge \circ \simeq t_1 \wedge \circ$}
      
      \RightLabel{$(\text{\it RevealT-Cas}_\circ)$}
      \UnaryInfC{$t_1 \wedge \circ \simeq t_1$}
      
      \noLine
      \BinaryInfC{}
    \end{prooftree}   
    On accounting its syntax directness, remainders i.e.
    the term $t' \in \mathpzc{Equ}(t_1 \wedge t_2)$ which equality
    s.t. $t' \simeq t_1 \wedge t_2$ we confirm using
    $\text{\it PhonyH-Cas}_{\{\}}$, $\text{\it PhonyT-Cas}_{\{\}}$,
    $\text{\it PhonyH-Cas}_\circ$, $\text{\it PhonyT-Cas}_\circ$,
    are similar to previous case.
    
    Case $t_1 \vee t_2$:
    Similar to the case of $t = t_1 \wedge t_2$ with similar Properties.
    
    Case $t = \{\}$:
    It's trivial that $t' \simeq \{\}$ where
    $t' \in \mathpzc{Equ}\bigl( \{\} \bigr)$ using
    $\text{\it PhonyH-Cas}_{\{\}}$, $\text{\it PhonyT-Cas}_{\{\}}$,
    $\text{\it PhonyH-Par}_{\{\}}$, $\text{\it PhonyT-Par}_{\{\}}$,
    $\text{\it PhonyH-Cas}_\circ$, $\text{\it PhonyT-Cas}_\circ$,
    $\text{\it PhonyH-Par}_\circ$, $\text{\it PhonyT-Par}_\circ$ and
    Identity.
    
    Case $t = \{t_1\}$:
    The only case to be particularly considered is as follow.\vspace{-7mm}
    \begin{prooftree}
      \AxiomC{}
      \UnaryInfC{$t_1 \equiv t_1$}
      \LeftLabel{$(\text{\it Identity})$}
      \UnaryInfC{$t_1 \simeq t_1$}
      
      \RightLabel{$(\text{\it Associativity-Cat0}_1)$}
      \UnaryInfC{$t_1 \simeq \{t_1\}$}
      
      \LeftLabel{$(\text{\it Symmetry})$}
      \UnaryInfC{$\{t_1\} \simeq t_1$}
    \end{prooftree}
    And remainders, i.e. the terms concerning
    $\text{\it PhonyH-Cas}_{\{\}}$, $\text{\it PhonyT-Cas}_{\{\}}$,
    $\text{\it PhonyH-Par}_{\{\}}$, $\text{\it PhonyT-Par}_{\{\}}$,
    $\text{\it PhonyH-Cas}_\circ$, $\text{\it PhonyT-Cas}_\circ$,
    $\text{\it PhonyH-Par}_\circ$, $\text{\it PhonyT-Par}_\circ$ and
    Identity for equivalency confirmation, are similar to the cases of
    above.
    
    Case $t = \{t_1, t_2, \cdots t_n\}$ where $n \ge 2$:
    The only one to be particularly considered for this case is
    as follow.\vspace{-7mm}
    \begin{prooftree}
      \AxiomC{}
      \UnaryInfC{$t_1 \wedge \{t_2, \cdots t_n\} \equiv
        t_1 \wedge \{t_2, \cdots t_n\}$}
      \LeftLabel{$(\text{\it Identity})$}
      \UnaryInfC{$t_1 \wedge \{t_2, \cdots t_n\} \simeq
        t_1 \wedge \{t_2, \cdots t_n\}$}
      
      \RightLabel{$(\text{\it AssociativityH-Cat0}_\infty)$}
      \UnaryInfC{$t_1 \wedge \{t_2, \cdots t_n\} \simeq
        \{t_1, t_2, \cdots t_n\}$}
      
      \LeftLabel{$(\text{\it Symmetry})$}
      \UnaryInfC{$\{t_1, t_2, \cdots t_n\} \simeq
        t_1 \wedge \{t_2, \cdots t_n\}$}
    \end{prooftree}
    
    Case $t = \circ$:
    This case is similar to the case of $t = \{\}$.
    
    Case $t = [t_1]$:
    Similar to the case of $t = \{t_1\}$ with
    $\text{\it Associativity-Cat1}_1$.
    
    Case $t = [t_1, t_2, \cdots t_n]$ where $n \ge 2$:
    Similar to the case of $t = \{t_1, t_2, \cdots t_n\}$ with
    $\text{\it AssociativityH-Cat1}_\infty$.
    
    Case $t = \langle t_1\rangle$:
    Similar to the case of $t = [t_1]$ with
    $\text{\it Associativity-Dup}_1$.
    
    Case $t = \langle t_1, t_2, \cdots t_n\rangle$ where $n \ge 2$:
    Similar to the case of $t = [t_1, t_2, \cdots t_n]$ with
    $\text{\it AssociativityH-Dup}_\infty$.
    
    Case $t = {t_1}^?$, $t = {t_1}^\leftarrow$, $t = {t_1}^\rightarrow$:
    The ones need paticular consideration are as follows.\vspace{-7mm}
    \begin{prooftree}
      \AxiomC{}
      \UnaryInfC{$t_0 \equiv t_0$}
      \LeftLabel{$(\text{\it Identity})$}
      \UnaryInfC{$t_0 \simeq t_0$}
      
      \RightLabel{$(\text{\it Optional})$}
      \UnaryInfC{$t_0 \simeq {t_0}^?$}
      
      \LeftLabel{$(\text{\it Symmetry})$}
      \UnaryInfC{${t_0}^? \simeq t_0$}
      
      \AxiomC{}
      \UnaryInfC{$t_0 \equiv t_0$}
      \LeftLabel{$(\text{\it Identity})$}
      \UnaryInfC{$t_0 \simeq t_0$}
      
      \RightLabel{$(\text{\it Alt-L})$}
      \UnaryInfC{$t_0 \simeq {t_0}^\leftarrow$}
      
      \LeftLabel{$(\text{\it Symmetry})$}
      \UnaryInfC{${t_0}^\leftarrow \simeq t_0$}
      
      \AxiomC{}
      \UnaryInfC{$t_0 \equiv t_0$}
      \LeftLabel{$(\text{\it Identity})$}
      \UnaryInfC{$t_0 \simeq t_0$}
      
      \RightLabel{$(\text{\it Alt-R})$}
      \UnaryInfC{$t_0 \simeq {t_0}^\rightarrow$}
      
      \LeftLabel{$(\text{\it Symmetry})$}
      \UnaryInfC{${t_0}^\rightarrow \simeq t_0$}
      
      \noLine
      \TrinaryInfC{}
    \end{prooftree}
    And remaining cases are similar to above cases.
    $\Box$
  \end{Proof}
\end{Lemma}


\begin{Lemma}
  \[ \mathpzc{Equ}(t)\ \text{\it has termination}.
  \]
  \begin{Proof}
    The only definitions on $\mathpzc{Equ}$, which we should consider
    for termination, is $\mathpzc{Assoc}_\wedge(t_1, t_2)$e and
    $\mathpzc{Assoc}_\vee(t_1, t_2)$.
    
    For former, termination on both $\mathpzc{assoc_{cas}R}(t_1, t_2)$ and
    $\mathpzc{assoc_{cas}L}(t_1, t_2)$ are trivial by structual induction
    on $t_1$.
    Consequently, we are confirming the termination on
    $\mathpzc{Assoc}_\wedge(t_1, t_2, \mathpzc{L_2R})$.
    Accounting on above fact, i.e. $\mathpzc{assoc_{cas}R}(t_1, t_2)$
    has termination, it's obvious that
    $\mathpzc{Assoc}_\wedge(t_1, t_2, \mathpzc{L_2R})$ also has termination
    in the case of $t'_1 \wedge t'_2 = t_1 \wedge t_2$ where
    $t'_1 \wedge t'_2 = \mathpzc{assoc_{cas}R}(t_1, t_2)$, from
    def. of $\mathpzc{assoc_{cas}R}(t_1, t_2, \mathpzc{L_2R})$.
    
    Otherwise, i.e. $t'_1 \wedge t'_2 \neq t_1 \wedge t_2$, we know that
    $\mathpzc{size}(t_1) > \mathpzc{size}(t'_1)$ from Property
    \ref{property2_for_semiequiv_impl}. Therefore we conclude that
    $\mathpzc{Assoc}_\wedge(t_1, t_2, \mathpzc{L_2R})$ has
    termination, since $\mathpzc{Assoc}_\wedge(t'_1, t'_2, \mathpzc{L_2R})$
    also has termination from induction hypotheses.

    We can find termination on
    $\mathpzc{Assoc}_\wedge(t_1, t_2, \mathpzc{R_2L})$ similarly, with
    Property \ref{property4_for_semiequiv_impl} according to the
    ordering scheme over $(t_1, t_2)$ for
    $\mathpzc{Assoc}_\wedge(t_1, t_2, \mathpzc{R_2L})$ as below.
    \[ \begin{array}{l}
      (t_1, t_2) > (t'_1, t'_2) \quad
       \text{\it if}\ \mathpzc{size}(t_2) > \mathpzc{size}(t'_2)  \\
      (t_1, t_2) > (t'_1, t'_2) \quad
       \text{\it if}\ \mathpzc{size}(t_2) = \mathpzc{size}(t'_2)\
        \text{\it and}\ \mathpzc{size}(t_1) > \mathpzc{size}(t'_1)  \\
      (t_1, t_2) = (t'_1, t'_2) \quad \text{\it otherwise}
    \end{array}
    \]
    Note that, above ordering scheme is same as the one on Property
    \ref{property6_for_semiequiv_impl}.
    Hence $\mathpzc{Assoc}_\wedge(t_1, t_2)$ has termination for
    $\mathpzc{Assoc}_\wedge(t_1, t_2) =
    \mathpzc{Assoc}_\wedge(t_1, t_2, \mathpzc{L_2R}) \cup
    \mathpzc{Assoc}_\wedge(t_1, t_2, \mathpzc{R_2L})$ from def. of
    $\mathpzc{Equ}(t)$.
    
    The latter one, i.e. $\mathpzc{Assoc}_\vee(t_1, t_2)$ is similar.
    $\Box$
  \end{Proof}
\end{Lemma}


\pagebreak
\begin{Definition}[Implementation form of Typing rules on
    polymorphic equivalent terms]
  We modify the extended typing rules defined above, for implementation on
  modern electronic computers or equivalent machines as follows.
  \begin{displaymath}
    \begin{array}{c}

      \begin{array}{rl}
        \dfrac{
          t_0 \in \mathpzc{Equ}(t)
           \quad (t_0, \mathcal{R}_0) \in \Gamma_\text{\it gnd}
        }{
          \bigl\{(t, t_0, \mathcal{R}_0, \text{\it gnd}, \phi ) \bigr\}
           \vdash t \blacktriangleright \mathcal{R}_0
        }  &  \!\!\text{\it (T-Atom0-impl)}
      \end{array}  \\
      \\

      \begin{array}{rl}
        \dfrac{
          t_1 \in \mathpzc{Equ}(t)
           \quad (t_1, \mathcal{R}_1) \in \Gamma_\text{\it def}
        }{
          \bigl\{(t, t_1, \mathcal{R}_1, \text{\it def}, \phi ) \bigr\}
           \vdash t \blacktriangleright \mathcal{R}_1
        }  &  \!\!\text{\it (T-Atom1-impl)}
      \end{array}  \\
      \\
      
      \begin{array}{rl}
        \dfrac{
          \begin{array}{c}
            \Lambda_1 \vdash t_1 \blacktriangleright \mathcal{R}_1
             \quad \Lambda_2 \vdash t_2 \blacktriangleright \mathcal{R}_2
              \quad \mathpzc{Dom}(\Lambda_1) \cap \mathpzc{Dom}(\Lambda_2)
               = \phi  \\
            t_1 \wedge t_2 \in \mathpzc{Equ}(t)\
             \text{\it s.t.}\ t,\, t_1 \wedge t_2 \not\in \mathpzc{Dom}(
              \Lambda_1 \cup \Lambda_2)
          \end{array}
        }{
          \Bigl\{\bigl(t, t_1 \wedge t_2,
           \mathcal{R}_1 \wedge \mathcal{R}_2, \wedge,
            (\Lambda_1 \cup \Lambda_2) \bigr) \Bigr\}
             \cup (\Lambda_1 \cup \Lambda_2) \vdash
              t \blacktriangleright \mathcal{R}_1 \wedge \mathcal{R}_2
        }  &  \text{\it (T-Cas-impl)}
      \end{array}  \\
      \\
      
      \begin{array}{rl}
        \dfrac{
          \begin{array}{c}
            \Lambda_1 \vdash t_1 \blacktriangleright \mathcal{R}_1
             \quad \Lambda_2 \vdash t_2 \blacktriangleright \mathcal{R}_2
              \quad \mathpzc{Dom}(\Lambda_1) \cap \mathpzc{Dom}(\Lambda_2)
               = \phi  \\
            t_1 \vee t_2 \in \mathpzc{Equ}(t)\
             \text{\it s.t.}\ t,\, t_1 \vee t_2 \not\in \mathpzc{Dom}(
              \Lambda_1 \cup \Lambda_2)
          \end{array}
        }{
          \Bigl\{\bigl(t, t_1 \vee t_2, \mathcal{R}_1 \vee \mathcal{R}_2,
           \vee, (\Lambda_1 \cup \Lambda_2) \bigr) \Bigr\} \cup
            (\Lambda_1 \cup \Lambda_2) \vdash
             t \blacktriangleright \mathcal{R}_1 \vee \mathcal{R}_2
        }  &  \text{\it (T-Par-impl)}
      \end{array}  \\
      \\
      
      \begin{array}{rl}
        \left. \begin{array}{rl}
          \dfrac{
            \{\} \in \mathpzc{Equ}(t)
             \quad \mathcal{R}_1 \,\text{\it is}\, \text{\it Any}
          }{
            \Bigl\{\bigl(t, \{\}, \mathcal{R}_1^*, \text{\it nil}, \phi
             \bigr) \Bigr\} \vdash t \blacktriangleright {\mathcal{R}_1}^*
          }  &  (\text{\it nil}\,)  \\
          \\
          
          \dfrac{
            \Lambda' \vdash t' \blacktriangleright \mathcal{R}_1 \quad
             t' \in \mathpzc{Equ}(t)\ \text{\it s.t.}\ t \not\in
              \mathpzc{Dom}(\Lambda')
          }{
            \bigl\{(t, t', {\mathcal{R}_1}^*, \text{\it sol}, \Lambda' )
             \bigr\} \cup \Lambda'
              \vdash t \blacktriangleright {\mathcal{R}_1}^*
          }  &  (\text{\it sol}\,)  \\
          \\
          
          \dfrac{
            \begin{array}{c}
              \Lambda_h \vdash t_h \blacktriangleright \mathcal{R}_1
               \quad \Lambda_t \vdash t_t \blacktriangleright {\mathcal{R}_1}^*
                \quad \mathpzc{Dom}(\Lambda_h) \cap \mathpzc{Dom}(\Lambda_t)
                = \phi  \\
               \{\} \wedge (t_h \wedge t_t) \in \mathpzc{Equ}(t)\;\;
                \text{\it or}\;\; t_h \wedge t_t \in \mathpzc{Equ}(t) \\
               \left\{\begin{array}{l}
                 \{t,\, t_h \wedge t'_t \} \cap \mathpzc{Dom}(
                  \Lambda_h \cup \Lambda_t) = \phi\quad \text{\it if}\
                   \mathcal{S}_{\mathpzc{fin}_t} \in \{\text{\it nil},\,
                    \text{\it sol} \}  \\
                 \{t,\, t_h \wedge t'_t,\, t'_t \} \cap \mathpzc{Dom}(
                  \Lambda_h \cup \Lambda_t) = \phi\quad \text{\it otherwise}
               \end{array}\right.
            \end{array}
          }{
            \begin{array}{r}
              \Bigl\{\bigl(t, t_h \wedge t_t', {\mathcal{R}_1}^*, \infty,
               (\Lambda_h \cup \Lambda_t') \bigr) \Bigr\} \cup
                (\Lambda_h \cup \Lambda_t') \vdash
                 t \blacktriangleright {\mathcal{R}_1}^*  \\
              \text{\it where}\ 
               \Lambda_t(t_t) = (t_t, t_t', {\mathcal{R}_1}^*,
                \mathcal{S}_{\mathpzc{fin}_t}, \Lambda_t')\ \text{\it s.t.}\
                 \mathcal{S}_{\mathpzc{fin}_t} \in \{\text{\it sol},
                  \infty\},\ t'_t \neq \{\}
            \end{array}
          }  &  (\infty)
        \end{array} \right\}  &  \text{\it (T-Cat0-impl)}
      \end{array}  \\
      
    \end{array}
  \end{displaymath}
  
  \begin{displaymath}
    \begin{array}{c}

      \begin{array}{rl}
        \left. \begin{array}{rl}
          \dfrac{
            \quad \Lambda' \vdash t' \blacktriangleright \mathcal{R}_1 \quad
             t' \in \mathpzc{Equ}(t)\ \text{\it s.t.}\ t \not\in
              \mathpzc{Dom}(\Lambda')
          }{
            \bigl\{(t, t', {\mathcal{R}_1}^+, \text{\it sol}, \Lambda')
             \bigr\} \cup \Lambda' \vdash
              t \blacktriangleright {\mathcal{R}_1}^+
          }  &  (\text{\it sol}\,)  \\
          \\
          \dfrac{
            \begin{array}{c}
              \Lambda_h \vdash t_h \blacktriangleright \mathcal{R}_1
               \quad \Lambda_t \vdash t_t \blacktriangleright {\mathcal{R}_1}^+
                \quad \mathpzc{Dom}(\Lambda_h) \cap \mathpzc{Dom}(\Lambda_t)
                 = \phi  \\
              \{\} \wedge (t_h \wedge t_t) \in \mathpzc{Equ}(t)\;\;
               \text{\it or}\;\; t_h \wedge t_t \in \mathpzc{Equ}(t)  \\
              \left\{\begin{array}{l}
                \{t,\, t_h \wedge t'_t \} \cap \mathpzc{Dom}(
                 \Lambda_h \cup \Lambda_t) = \phi\quad \text{\it if}\
                  \mathcal{S}_{\mathpzc{fin}_t} = \text{\it sol}  \\
                \{t,\, t_h \wedge t'_t,\, t'_t \} \cap \mathpzc{Dom}(
                 \Lambda_h \cup \Lambda_t) = \phi\quad \text{\it otherwise}
              \end{array}\right.
            \end{array}
          }{
            \begin{array}{r}
              \Bigl\{\bigl(t, t_h \wedge t_t', {\mathcal{R}_1}^+, \infty,
               (\Lambda_h \cup \Lambda_t') \bigr) \Bigr\} \cup
                (\Lambda_h \cup \Lambda_t') \vdash
                 t \blacktriangleright {\mathcal{R}_1}^+  \\
              \text{\it where}\
               \Lambda_t(t_t) = (t_t, t_t', {\mathcal{R}_1}^+,
                \mathcal{S}_{\mathpzc{fin}_t}, \Lambda_t')\ \text{\it s.t.}\
                 \mathcal{S}_{\mathpzc{fin}_t} \in \{\text{\it sol}, \infty\}
            \end{array}
          }  &  (\infty)
        \end{array} \right\}  &  \text{\it (T-Cat1-impl)}
      \end{array}  \\
      \\
      
      \begin{array}{rl}
        \left. \begin{array}{rl}
          \dfrac{
            \Lambda' \vdash t' \blacktriangleright \mathcal{R}_1 \quad
             t' \in \mathpzc{Equ}(t)\ \text{\it s.t.}\ t \not\in
              \mathpzc{Dom}(\Lambda')
          }{
            \bigl\{(t, t', {\mathcal{R}_1}^\downarrow, \text{\it sol},
             \Lambda') \bigr\} \cup \Lambda' \vdash
              t \blacktriangleright {\mathcal{R}_1}^\downarrow
          }  &  (\text{\it sol}\,)  \\
          \\
          
          \dfrac{
            \begin{array}{c}
              \Lambda_h \vdash t_h \blacktriangleright \mathcal{R}_1
               \quad \Lambda_t \vdash t_t \blacktriangleright
                {\mathcal{R}_1}^\downarrow
                 \quad \mathpzc{Dom}(\Lambda_h) \cap \mathpzc{Dom}(\Lambda_t)
                  = \phi  \\
              \{\} \vee (t_h \vee t_t) \in \mathpzc{Equ}(t)\;\;
               \text{\it or}\;\; t_h \vee t_t \in \mathpzc{Equ}(t)  \\
              \left\{\begin{array}{l}
                \{t,\, t_h \vee t'_t \} \cap \mathpzc{Dom}(
                 \Lambda_h \cup \Lambda_t) = \phi\quad \text{\it if}\
                  \mathcal{S}_{\mathpzc{fin}_t} = \text{\it sol}  \\
                \{t,\, t_h \vee t'_t,\, t'_t \} \cap \mathpzc{Dom}(
                 \Lambda_h \cup \Lambda_t) = \phi\quad \text{\it otherwise}
              \end{array}\right.
            \end{array}
          }{
            \begin{array}{r}
              \Bigl\{\bigl(t, t_h \vee t_t', {\mathcal{R}_1}^\downarrow,
               \infty, (\Lambda_h \cup \Lambda_t') \bigr) \Bigr\} \cup
                (\Lambda_h \cup \Lambda_t') \vdash
                 t \blacktriangleright {\mathcal{R}_1}^\downarrow  \\
              \text{\it where}\
               \Lambda_t(t_t) = (t_t, t_t', {\mathcal{R}_1}^\downarrow,
                \mathcal{S}_{\mathpzc{fin}_t}, \Lambda_t')\ \text{\it s.t.}\
                 \mathcal{S}_{\mathpzc{fin}_t} \in \{\text{\it sol}, \infty\}
            \end{array}
          }  &  (\infty)
        \end{array} \right\}  &  \text{\it (T-Dup-impl)}
      \end{array}  \\
      \\
      
      \begin{array}{rl}
        \left. \begin{array}{rl}
          \dfrac{
            \circ \in \mathpzc{Equ}(t)
             \quad \mathcal{R}_1 \,\text{\it is}\, \text{\it Any}
          }{
            \bigl\{(t, \circ, {\mathcal{R}_1}^?, \text{\it nil}, \phi)
             \bigr\} \vdash t \blacktriangleright {\mathcal{R}_1}^?
          }  &  (\text{\it nil}\,)  \\
          \\
          
          \dfrac{
            \Lambda' \vdash t' \blacktriangleright \mathcal{R}_1 \quad
             t' \in \mathpzc{Equ}(t)\ \text{\it s.t.}\
              t \not\in \mathpzc{Dom}(\Lambda')
          }{
            \bigl\{(t, t', {\mathcal{R}_1}^?, \text{\it sol},
             \Lambda') \bigr\} \cup \Lambda' \vdash
              t \blacktriangleright {\mathcal{R}_1}^?
          }  &  (\text{\it sol}\,)
        \end{array} \right\}  &  \text{\it (T-Opt-impl)}
      \end{array}  \\
      \\
      
      \begin{array}{rl}
        \left. \begin{array}{rl}
          \dfrac{
            \Lambda' \vdash t' \blacktriangleright \mathcal{R}_1 \quad
             \mathcal{R}_2 \,\text{\it is}\, \text{\it Any}. \quad
              t' \in \mathpzc{Equ}(t)\ \text{\it s.t.}\
               t \not\in \mathpzc{Dom}(\Lambda')
          }{
            \bigl\{(t, t', \mathcal{R}_1|\mathcal{R}_2,
             \text{\it L}, \Lambda') \bigr\} \cup \Lambda' \vdash
              t \blacktriangleright \mathcal{R}_1|\mathcal{R}_2
          }  &  (\text{\it L})  \\
          \\
          
          \dfrac{
            \mathcal{R}_1 \,\text{\it is}\, \text{\it Any}. \quad
             \Lambda'' \vdash t' \blacktriangleright \mathcal{R}_2 \quad
              t' \in \mathpzc{Equ}(t)\ \text{\it s.t.}\
               t \not\in \mathpzc{Dom}(\Lambda'')
          }{
            \bigl\{(t, t', \mathcal{R}_1|\mathcal{R}_2,
             \text{\it R}, \Lambda'') \bigr\} \cup \Lambda'' \vdash
              t \blacktriangleright \mathcal{R}_1|\mathcal{R}_2
          }  &  (\text{\it R})
        \end{array} \right\}  &  \text{\it (T-Alt-impl)}
      \end{array}
      
    \end{array}
  \end{displaymath}
\end{Definition}


\begin{Lemma}{termination on implementation.}
  \[ \Lambda \vdash t \blacktriangleright \mathcal{R}\
      \text{\it has termination}.
  \]
  \begin{Proof}
    Proof is induction on structure of $(\mathcal{R}, t)$.
    $\Box$
  \end{Proof}
\end{Lemma}


\begin{Lemma}{completeness on implementation.}
  \label{completeness_on_implementation}
  \[ \text{\it if}\ \Lambda \vdash t \blacktriangleright \mathcal{R},\
      \text{\it then}\ \Delta \vdash t \triangleright \mathcal{R}
       \begin{array}[t]{l}
         \text{\it s.t.}\ \mathpzc{Dom}(\Delta) = \mathpzc{Dom}(\Lambda),
          t'_\Delta = t'_\Lambda,
           \mathcal{S}_\Delta = \mathcal{S}_\Lambda,  \\           
         \text{\it where} \!\begin{array}[t]{l}
           \Lambda = \bigl\{(t, t'_\Lambda, \mathcal{R},
            \mathcal{S}_\Lambda, \Lambda') \bigr\} \cup \Lambda'  \\
           \Delta = \bigl\{(t, t'_\Delta, \mathcal{R},
            \mathcal{S}_\Delta, \Delta') \bigr\} \cup \Delta',\
             \text{\it we let}.
         \end{array}
       \end{array}
  \]
  \begin{Proof}
    Proof is induction on structure of derivation for
    $\Lambda \vdash t \blacktriangleright \mathcal{R}$.
    
    Considering the fact that most of rules for implementation have same
    structure of original ones, therefore we show only significant cases.
    
    Case (T-Cat0-impl-$\infty$): We suppose
    $\Lambda \vdash t \blacktriangleright {\mathcal{R}_1}^*$ where
    $\Lambda = \Bigl\{\bigl(t, t_h \wedge t'_{t_\Lambda},
    {\mathcal{R}_1}^*, \infty, (\Lambda_h \cup \Lambda'_t) \bigr) \Bigr\}
    \cup (\Lambda_h \cup \Lambda'_t)$. From def. of (T-Cat0-impl-$\infty$),
    we know that its subderivations of
    $\Lambda_h \vdash t_h \blacktriangleright \mathcal{R}_1$ and
    $\Lambda_t \vdash t_t \blacktriangleright {\mathcal{R}_1}^*$ implies
    the existences of $\Delta_h \vdash t_h \triangleright \mathcal{R}_1$
    and $\Delta_t \vdash t_t \triangleright {\mathcal{R}_1}^*$ with
    the conditions of
    $\mathpzc{Dom}(\Delta_h) = \mathpzc{Dom}(\Lambda_h)$,
    $t'_{h_\Delta} = t'_{h_\Lambda}$,
    $\mathcal{S}_{h_\Delta} = \mathcal{S}_{h_\Lambda}$ and
    $\mathpzc{Dom}(\Delta_t) = \mathpzc{Dom}(\Lambda_t)$,
    $t'_{t_\Delta} = t'_{t_\Lambda}$,
    $\mathcal{S}_{t_\Delta} = \mathcal{S}_{t_\Lambda}$ respectively
    from induction hypotheses. Consequently, we find
    $\mathpzc{Dom}(\Delta_h) \cap \mathpzc{Dom}(\Delta_t) = \phi$ from
    the above facts of $\mathpzc{Dom}(\Delta_h) = \mathpzc{Dom}(\Lambda_h)$
    and $\mathpzc{Dom}(\Delta_t) = \mathpzc{Dom}(\Lambda_t)$ accounting on
    $\mathpzc{Dom}(\Lambda_h) \cap \mathpzc{Dom}(\Lambda_t) = \phi$ comming
    from the def. of (T-Cat0-impl-$\infty$). Next, we see each cases
    according to the condition on $\mathcal{S}_\Lambda$ as follows.
    Subcase
    $\mathcal{S}_{t_\Lambda} \in \{\text{\it nil},\, \text{\it sol} \}$:
    Considering
    $\{t, t_h \wedge t'_{t_\Lambda} \} \cap \mathpzc{Dom}(\Lambda_h
    \cup \Lambda_t) = \phi$ with the facts of
    $t'_{t_\Delta} = t'_{t_\Lambda}$ and
    $\mathpzc{Dom}(\Delta_h \cup \Delta_t) =
    \mathpzc{Dom}(\Delta_h) \cup \mathpzc{Dom}(\Delta_t) =
    \mathpzc{Dom}(\Lambda_h) \cup \mathpzc{Dom}(\Lambda_t) =
    \mathpzc{Dom}(\Lambda_h \cup \Lambda_t)$ revealed above,
    we find $\{t, t_h \wedge t'_{t_\Delta} \} \cap \mathpzc{Dom}(\Delta_h   
    \cup \Delta_t) = \phi$. Then we know $t \simeq t_h \wedge t_t$ for
    $t_h \wedge t_t \in \mathpzc{Equ}(t)$ from
    \ref{semiequivalency_on_implementation}. Recalling the fact of
    $\mathcal{S}_{t_\Delta} = \mathcal{S}_{t_\Lambda}$, we obtain
    $\Delta \vdash t \triangleright {\mathcal{R}_1}^*$,
    where we let $\Delta = \Bigl\{\bigl(t, t_h \wedge t'_{t_\Delta},
    {\mathcal{R}_1}^*, \infty, (\Delta_h \cup \Delta'_t) \bigr)\Bigr\}
    \cup (\Delta_h \cup \Delta'_t)$ s.t.
    $t_h \wedge t'_{t_\Delta} = t_h \wedge t'_{t_\Lambda}$ and
    $\mathpzc{Dom}(\Delta) = \mathpzc{Dom}(\Lambda)$, since
    $\mathpzc{Dom}(\Delta) = \{t\} \cup \mathpzc{Dom}(\Delta_h \cup
    \Delta'_t) =
    \{t\} \cup \bigl(\mathpzc{Dom}(\Delta_h) \cup \mathpzc{Dom}(\Delta'_t)
    \bigr) =
    \{t\} \cup \bigl(\mathpzc{Dom}(\Lambda_h) \cup \mathpzc{Dom}(\Lambda'_t)
    \bigr) =
    \{t\} \cup \mathpzc{Dom}(\Lambda_h \cup \Lambda'_t) =
    \mathpzc{Dom}(\Lambda)$ as
    $\{t_t\} \cup \mathpzc{Dom}(\Delta'_t) =
    \{t_t\} \cup \mathpzc{Dom}(\Lambda'_t)$ implies
    $\mathpzc{Dom}(\Delta'_t) = \mathpzc{Dom}(\Lambda'_t)$.
    Subcase
    $\mathcal{S}_{t_\Lambda} \not\in \{\text{\it nil},\, \text{\it sol} \}$:
    In this case, we obtain $t \simeq \{\} \wedge (t_h \wedge t_t)$ by
    applying \ref{semiequivalency_on_implementation} on
    $\{\} \wedge (t_h \wedge t) \in \mathpzc{Equ}(t)$, thus
    we still do $t \simeq t_h \wedge t_t$ from
    $\text{\it RevealH-Cas}_{\{\}}$. And remaining steps are similar to
    previous case.   
    $\Box$
  \end{Proof}
\end{Lemma}


\section*{LIezA, the Logic for Interlocking logics self recognizing
  Architecture}
We implemented our logic on machine using Caml, which is one of the most
well-known implementation of ML developped in INRIA France. In this section
we introduce the it with practical examples.


We can express the following interlocking logic as
$\text{\it TR}_1 \wedge (\text{\it TR}_2 \vee \text{\it NKR}_{\#3}) \wedge
\text{\it TLSR}_{{\text{\it TR}_4}}$.

Then, we are now trying to match above with the pattern of
$\bigl(\text{\it TR} \vee
{(\text{\it NKR} | \text{\it RKR})^\downarrow}^? \bigr)^+ \wedge
(\text{\it TLSR} | \text{\it TRSR})^*$.

We can express above instance as \verb@TR_1&(TR_2|NKR_#3)&TLSR_TR4@,
accroding to def. of term, and pattern is also expressed as
\verb@(TR|(NKR%RKR)!?)+&(TLSR%TRSR)*@.
Consequently, The result of pattern matching is shown as follows.
\begin{verbatim}
# term (typematch (compile "TR_1 & (TR_2 | NKR_#3) & TLSR_TR4 :
(TR | (NKR % RKR)!?)+ & (TRSR % TLSR)*"));;
- : string = "(TR_1 & ((((TR_2 | NKR_#3)) & TLSR_TR4)))"
\end{verbatim}

Looking at the last line of above, it just been generated from her
coginition, which shows that LIezA has successed to match given term with
pattern, and recognize its structual meaning, which stored in the form of
Binding internally. We can still access her cognition as follows.
\begin{verbatim}
# let sig_ctrl = cli_pat (compile "* : (TR | (NKR % RKR)!?)+");;
val sig_ctrl : Lie_type.pattern = ...
# foreach (resolv sig_ctrl (typematch (compile "TR_1 & (TR_2 |
NKR_#3) & TLSR_TR4 : (TR | (NKR % RKR)!?)+ & (TRSR % TLSR)*")));;
- : string list = ["(((TR_1 | *)) & ((TR_2 | NKR_#3)))"]
\end{verbatim}

The first command of above specifies the target pattern we refer.
Then we try to refer the subterms bounded the target
pattern, which is currently assigned to \verb|sig_ctrl|, on next command,
And we can find that the last line depicts the subterm bounded to the target
pattern we specified correctly.

Similar to above, we can access more internal subterms, as follow.
\begin{verbatim}
# let sig_ctrl = cli_pat (compile "* : (NKR % RKR)!");;
val sig_ctrl : Lie_type.pattern = ...
# foreach (resolv sig_ctrl (typematch (compile "TR_1 & (TR_2 |
NKR_#3) & TLSR_TR4 : (TR | (NKR % RKR)!?)+ & (TRSR % TLSR)*")));;
- : string list = ["NKR_#3"]
\end{verbatim}

Bindings for counterpart condition, i.e.
$\text{\it TLSR}_{{\text{\it TR}_4}}$, is also accessible as follow.
\begin{verbatim}
# let sig_ctrl = cli_pat (compile "* : (TRSR % TLSR)*");;
val sig_ctrl : Lie_type.pattern = ...
# foreach (resolv sig_ctrl (typematch (compile "TR_1 & (TR_2 |
NKR_#3) & TLSR_TR4 : (TR | (NKR % RKR)!?)+ & (TRSR % TLSR)*")));;
- : string list = ["TLSR_TR4"]
\end{verbatim}

Finally, we present more practical examples in the domain of railway
signaling engineering.

We suppose the following entity of interlocking logic, which is called as
Signal Controlling Circuit, and we also know which can be expressed formally
as
$\text{\it HR} \wedge \bigl(\text{\it LR} \vee
(\text{\it NKR} | \text{\it RKR})^\downarrow \bigr)^* \wedge
\bigl(\text{\it TR}^+ \vee (\text{\it TENR} \wedge \text{\it MSlR}) \vee
\text{\it ASR} \bigr)$.

We express above circuit as
\verb@HR_11L&(LR_11|RKR_#21)&(LR_12|NKR_#21|RKR_#22)@
\verb@&(TR_21i|(TENR_30&MSlR_11L)|ASR_11L)@, and try to feed LIezA them as
follow.
\begin{verbatim}
# term (typematch (compile "HR_11L & (LR_11 | RKR_#21) & (LR_12 |
NKR_#21 | RKR_#22) & (TR_21i | (TENR_30 & MSlR_11L) | ASR_11L) :
HR & (LR | (NKR % RKR)!)* & (TR+ | (TENR & MSlR) | ASR)"));;
- : string ="(HR_11L & ((((LR_11 | RKR_#21)) & ((((LR_12 |
((NKR_#21 | RKR_#22)))) & ((TR_21i | ((((TENR_30 & MSlR_11L)) |
ASR_11L)))))))))"
\end{verbatim}

Then we make confirm her cognition for specific conditions on this circuit.
Our pattern for Signal Controlling Circuit has a $\text{\it ASR}$ as
its subpattern, which corresponds to verification of Approaching Stick
Locking a.k.a. ASR on related route's signal aspect controlling.
And we can see the condition of ASR verification by finding the condition
bonded to the subpattern of $\text{\it ASR}$, as follow.
\begin{verbatim}
# let ver_ASR = cli_pat (compile "* : ASR");;
val ver_ASR : Lie_type.pattern = ...
# foreach (resolv ver_ASR (typematch (compile "HR_11L & (LR_11 |
RKR_21) & (LR_12 | NKR_#21 | RKR_#22) & (TR_21i | (TENR_30 &
MSlR_11L) | ASR_11L) : HR & (LR | (NKR % RKR)!)* & (TR+ | (TENR &
MSlR) | ASR)")));;
- : string list = ["ASR_11L"]
\end{verbatim}
LIezA correctly recognize and reply the asked condition on the last line
as desired.

Similarly we try again to refer the condition of Approaching Track, which is
another specific one occuring on Signal Controlling Circuit . And we also
obtain correct result from LIeza, as follow.
\begin{verbatim}
# let ver_appTR = cli_pat (compile "* : TR+");;
val ver_appTR : Lie_type.pattern = ...
# foreach (resolv ver_appTR (typematch (compile "HR_11L & (LR_11 |
RKR_21) & (LR_12 | NKR_#21 | RKR_#22) & (TR_21i | (TENR_30 &
MSlR_11L) | ASR_11L) : HR & (LR | (NKR % RKR)!)* & (TR+ | (TENR &
MSlR) | ASR)")));;
- : string list = ["TR_21i"]
\end{verbatim}


Citations can be handled in one of three ways.  The most
straightforward (albeit labor-intensive) would be to hardwire your
citations into your \LaTeX\ source, as you would if you were using an
ordinary word processor.  Thus, your code might look something like
this:


\begin{quote}
\begin{verbatim}
However, this record of the solar nebula may have been
partly erased by the complex history of the meteorite
parent bodies, which includes collision-induced shock,
thermal metamorphism, and aqueous alteration
({\it 1, 2, 5--7\/}).
\end{verbatim}
\end{quote}


\noindent Compiled, the last two lines of the code above, of course, would give notecalls in {\it Science\/} style:

\begin{quote}
\ldots thermal metamorphism, and aqueous alteration ({\it 1, 2, 5--7\/}).
\end{quote}

Under the same logic, the author could set up his or her reference list as a simple enumeration,

\begin{quote}
\begin{verbatim}
{\bf References and Notes}

\begin{enumerate}
\item G. Gamow, {\it The Constitution of Atomic Nuclei
and Radioactivity\/} (Oxford Univ. Press, New York, 1931).
\item W. Heisenberg and W. Pauli, {\it Zeitschr.\ f.\ 
Physik\/} {\bf 56}, 1 (1929).
\end{enumerate}
\end{verbatim}
\end{quote}

\noindent yielding

\begin{quote}
{\bf References and Notes}

\begin{enumerate}
\item G. Gamow, {\it The Constitution of Atomic Nuclei and
Radioactivity\/} (Oxford Univ. Press, New York, 1931).
\item W. Heisenberg and W. Pauli, {\it Zeitschr.\ f.\ Physik} {\bf 56},
1 (1929).
\end{enumerate}
\end{quote}

That's not a solution that's likely to appeal to everyone, however ---
especially not to users of B{\small{IB}}\TeX\ \cite{inclme}.  If you
are a B{\small{IB}}\TeX\ user, we suggest that you use the
\texttt{Science.bst} bibliography style file and the
\texttt{scicite.sty} package, both of which we are downloadable from our author help site
(http://www.sciencemag.org/about/authors/prep/TeX\_help/).  You can also
generate your reference lists by using the list environment
\texttt{\{thebibliography\}} at the end of your source document; here
again, you may find the \texttt{scicite.sty} file useful.

Whether you use B{\small{IB}}\TeX\ or \texttt{\{thebibliography\}}, be
very careful about how you set up your in-text reference calls and
notecalls.  In particular, observe the following requirements:

\begin{enumerate}
\item Please follow the style for references outlined at our author
  help site and embodied in recent issues of {\it Science}.  Each
  citation number should refer to a single reference; please do not
  concatenate several references under a single number.
\item Please cite your references and notes in text {\it only\/} using
  the standard \LaTeX\ \verb+\cite+ command, not another command
  driven by outside macros.
\item Please separate multiple citations within a single \verb+\cite+
  command using commas only; there should be {\it no space\/}
  between reference keynames.  That is, if you are citing two
  papers whose bibliography keys are \texttt{keyname1} and
  \texttt{keyname2}, the in-text cite should read
  \verb+\cite{keyname1,keyname2}+, {\it not\/}
  \verb+\cite{keyname1, keyname2}+.
\end{enumerate}

\noindent Failure to follow these guidelines could lead
to the omission of the references in an accepted paper when the source
file is translated to Word via HTML.

\section*{Handling Math, Tables, and Figures}

Following are a few things to keep in mind in coding equations,
tables, and figures for submission to {\it Science}.

\paragraph*{In-line math.}  The utility that we use for converting
from \LaTeX\ to HTML handles in-line math relatively well.  It is best
to avoid using built-up fractions in in-line equations, and going for
the more boring ``slash'' presentation whenever possible --- that is,
for \verb+$a/b$+ (which comes out as $a/b$) rather than
\verb+$\frac{a}{b}$+ (which compiles as $\frac{a}{b}$).  Likewise,
HTML isn't tooled to handle certain overaccented special characters
in-line; for $\hat{\alpha}$ (coded \verb+$\hat{\alpha}$+), for
example, the HTML translation code will return [\^{}$(\alpha)$].
Don't drive yourself crazy --- but if it's possible to avoid such
constructs, please do so.  Please do not code arrays or matrices as
in-line math; display them instead.  And please keep your coding as
\TeX-y as possible --- avoid using specialized math macro packages
like \texttt{amstex.sty}.

\paragraph*{Displayed math.} Our HTML converter sets up \TeX\
displayed equations using nested HTML tables.  That works well for an
HTML presentation, but Word chokes when it comes across a nested
table in an HTML file.  We surmount that problem by simply cutting the
displayed equations out of the HTML before it's imported into Word,
and then replacing them in the Word document using either images or
equations generated by a Word equation editor.  Strictly speaking,
this procedure doesn't bear on how you should prepare your manuscript
--- although, for reasons best consigned to a note \cite{nattex}, we'd
prefer that you use native \TeX\ commands within displayed-math
environments, rather than \LaTeX\ sub-environments.

\paragraph*{Tables.}  The HTML converter that we use seems to handle
reasonably well simple tables generated using the \LaTeX\
\texttt{\{tabular\}} environment.  For very complicated tables, you
may want to consider generating them in a word processing program and
including them as a separate file.

\paragraph*{Figures.}  Figure callouts within the text should not be
in the form of \LaTeX\ references, but should simply be typed in ---
that is, \verb+(Fig. 1)+ rather than \verb+\ref{fig1}+.  For the
figures themselves, treatment can differ depending on whether the
manuscript is an initial submission or a final revision for acceptance
and publication.  For an initial submission and review copy, you can
use the \LaTeX\ \verb+{figure}+ environment and the
\verb+\includegraphics+ command to include your PostScript figures at
the end of the compiled PostScript file.  For the final revision,
however, the \verb+{figure}+ environment should {\it not\/} be used;
instead, the figure captions themselves should be typed in as regular
text at the end of the source file (an example is included here), and
the figures should be uploaded separately according to the Art
Department's instructions.


\section*{What to Send In}

What you should send to {\it Science\/} will depend on the stage your manuscript is in:

\begin{itemize}
\item {\bf Important:} If you're sending in the initial submission of
  your manuscript (that is, the copy for evaluation and peer review),
  please send in {\it only\/} a PostScript or PDF version of the
  compiled file (including figures).  Please do not send in the \TeX\ 
  source, \texttt{.sty}, \texttt{.bbl}, or other associated files with
  your initial submission.  (For more information, please see the
  instructions at our Web submission site,
  http://www.submit2science.org/ .)
\item When the time comes for you to send in your revised final
  manuscript (i.e., after peer review), we require that you include
  all source files and generated files in your upload.  Thus, if the
  name of your main source document is \texttt{ltxfile.tex}, you
  need to include:
\begin{itemize}
\item \texttt{ltxfile.tex}.
\item \texttt{ltxfile.aux}, the auxilliary file generated by the
  compilation.
\item A PostScript file (compiled using \texttt{dvips} or some other
  driver) of the \texttt{.dvi} file generated from
  \texttt{ltxfile.tex}, or a PDF file distilled from that
  PostScript.  You do not need to include the actual \texttt{.dvi}
  file in your upload.
\item From B{\small{IB}}\TeX\ users, your bibliography (\texttt{.bib})
  file, {\it and\/} the generated file \texttt{ltxfile.bbl} created
  when you run B{\small{IB}}\TeX.
\item Any additional \texttt{.sty} and \texttt{.bst} files called by
  the source code (though, for reasons noted earlier, we {\it
    strongly\/} discourage the use of such files beyond those
  mentioned in this document).
\end{itemize}
\end{itemize}

% Your references go at the end of the main text, and before the
% figures.  For this document we've used BibTeX, the .bib file
% scibib.bib, and the .bst file Science.bst.  The package scicite.sty
% was included to format the reference numbers according to *Science*
% style.


\bibliography{scibib}

\bibliographystyle{Science}



% Following is a new environment, {scilastnote}, that's defined in the
% preamble and that allows authors to add a reference at the end of the
% list that's not signaled in the text; such references are used in
% *Science* for acknowledgments of funding, help, etc.

\begin{scilastnote}
\item We've included in the template file \texttt{scifile.tex} a new
environment, \texttt{\{scilastnote\}}, that generates a numbered final
citation without a corresponding signal in the text.  This environment
can be used to generate a final numbered reference containing
acknowledgments, sources of funding, and the like, per {\it Science\/}
style.
\end{scilastnote}




% For your review copy (i.e., the file you initially send in for
% evaluation), you can use the {figure} environment and the
% \includegraphics command to stream your figures into the text, placing
% all figures at the end.  For the final, revised manuscript for
% acceptance and production, however, PostScript or other graphics
% should not be streamed into your compliled file.  Instead, set
% captions as simple paragraphs (with a \noindent tag), setting them
% off from the rest of the text with a \clearpage as shown  below, and
% submit figures as separate files according to the Art Department's
% instructions.


\clearpage

\noindent {\bf Fig. 1.} Please do not use figure environments to set
up your figures in the final (post-peer-review) draft, do not include graphics in your
source code, and do not cite figures in the text using \LaTeX\
\verb+\ref+ commands.  Instead, simply refer to the figure numbers in
the text per {\it Science\/} style, and include the list of captions at
the end of the document, coded as ordinary paragraphs as shown in the
\texttt{scifile.tex} template file.  Your actual figure files should
be submitted separately.


\end{document}
